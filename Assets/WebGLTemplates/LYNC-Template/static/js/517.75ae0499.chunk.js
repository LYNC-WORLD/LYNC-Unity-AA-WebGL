(self.webpackChunkbiconomy=self.webpackChunkbiconomy||[]).push([[517],{6517:(e,t,n)=>{"use strict";n.d(t,{PhantomAdapter:()=>De});var r=n(64572),i=n(1413),o=(n(44101),n(47465)),a=n(11053),s=n.n(a),l=n(93137);n(69578),n(14876),n(99306);function d(e,t,n){try{Reflect.apply(e,t,n)}catch(r){setTimeout((()=>{throw r}))}}class c extends o.EventEmitter{emit(e){let t="error"===e;const n=this._events;if(void 0!==n)t=t&&void 0===n.error;else if(!t)return!1;for(var r=arguments.length,i=new Array(r>1?r-1:0),o=1;o<r;o++)i[o-1]=arguments[o];if(t){let e;if(i.length>0&&([e]=i),e instanceof Error)throw e;const t=new Error("Unhandled error."+(e?` (${e.message})`:""));throw t.context=e,t}const a=n[e];if(void 0===a)return!1;if("function"===typeof a)d(a,this,i);else{const e=a.length,t=function(e){const t=e.length,n=new Array(t);for(let r=0;r<t;r+=1)n[r]=e[r];return n}(a);for(let n=0;n<e;n+=1)d(t[n],this,i)}return!0}}class u extends Error{constructor(e){let{code:t,message:n,data:i}=e;if(!Number.isInteger(t))throw new Error("code must be an integer");if(!n||"string"!==typeof n)throw new Error("message must be string");super(n),(0,r.Z)(this,"code",void 0),(0,r.Z)(this,"data",void 0),this.code=t,void 0!==i&&(this.data=i)}toString(){return s()({code:this.code,message:this.message,data:this.data,stack:this.stack})}}function f(e){return async(t,n,r,i)=>{let o;const a=new Promise((e=>{o=e}));let s=null,l=!1;const d=async()=>{l=!0,r((e=>{s=e,o()})),await a};try{await e(t,n,d),l?(await a,s(null)):i(null)}catch(c){const e=c;s?s(e):i(e)}}}class h extends c{constructor(){super(),(0,r.Z)(this,"_middleware",void 0),this._middleware=[]}static async _runAllMiddleware(e,t,n){const r=[];let i=null,o=!1;for(const a of n)if([i,o]=await h._runMiddleware(e,t,a,r),o)break;return[i,o,r.reverse()]}static _runMiddleware(e,t,n,r){return new Promise((i=>{const o=e=>{const n=e||t.error;n&&(t.error=(0,l.Xy)(n)),i([n,!0])},a=e=>{t.error?o(t.error):(e&&("function"!==typeof e&&o(new u({code:-32603,message:"JRPCEngine: 'next' return handlers must be functions"})),r.push(e)),i([null,!1]))};try{n(e,t,a,o)}catch(s){o(s)}}))}static async _runReturnHandlers(e){for(const t of e)await new Promise(((e,n)=>{t((t=>t?n(t):e()))}))}static _checkForCompletion(e,t,n){if(!("result"in t)&&!("error"in t))throw new u({code:-32603,message:"Response has no error or result for request"});if(!n)throw new u({code:-32603,message:"Nothing ended request"})}push(e){this._middleware.push(e)}handle(e,t){if(t&&"function"!==typeof t)throw new Error('"callback" must be a function if provided.');return Array.isArray(e)?t?this._handleBatch(e,t):this._handleBatch(e):t?this._handle(e,t):this._promiseHandle(e)}asMiddleware(){return async(e,t,n,r)=>{try{const[i,o,a]=await h._runAllMiddleware(e,t,this._middleware);return o?(await h._runReturnHandlers(a),r(i)):n((async e=>{try{await h._runReturnHandlers(a)}catch(t){return e(t)}return e()}))}catch(i){return r(i)}}}async _handleBatch(e,t){try{const n=await Promise.all(e.map(this._promiseHandle.bind(this)));return t?t(null,n):n}catch(n){if(t)return t(n);throw n}}_promiseHandle(e){return new Promise((t=>{this._handle(e,((e,n)=>{t(n)}))}))}async _handle(e,t){if(!e||Array.isArray(e)||"object"!==typeof e){const e=new u({code:-32603,message:"request must be plain object"});return t(e,{id:void 0,jsonrpc:"2.0",error:e})}if("string"!==typeof e.method){const n=new u({code:-32603,message:"method must be string"});return t(n,{id:e.id,jsonrpc:"2.0",error:n})}const n=(0,i.Z)({},e),r={id:n.id,jsonrpc:n.jsonrpc};let o=null;try{await this._processRequest(n,r)}catch(a){o=a}return o&&(delete r.result,r.error||(r.error=(0,l.Xy)(o))),t(o,r)}async _processRequest(e,t){const[n,r,i]=await h._runAllMiddleware(e,t,this._middleware);if(h._checkForCompletion(e,t,r),await h._runReturnHandlers(i),n)throw n}}function p(e){const t=new h;return e.forEach((e=>t.push(e))),t.asMiddleware()}function g(e){const t=new c;return t.sendAsync=async t=>{const n=await e.handle(t);if(n.error){var r,i;const e=(0,l.Xy)(n.error,{fallbackError:{message:(null===(r=n.error)||void 0===r?void 0:r.message)||n.error.toString(),code:(null===(i=n.error)||void 0===i?void 0:i.code)||-32603}});throw l.PY.internal(e)}return n.result},t.send=(t,n)=>{if("function"!==typeof n)throw new Error('Must provide callback to "send" method.');e.handle(t,n)},e.on&&e.on("notification",(e=>{t.emit("data",null,e)})),t.request=async e=>{const n=(0,i.Z)((0,i.Z)({},e),{},{id:Math.random().toString(36).slice(2),jsonrpc:"2.0"});return await t.sendAsync(n)},t}Symbol("IGNORE_SUBSTREAM");n(1827);var b=n(79392);function y(e){let t,n=!1,r=0;try{t=window[e],n=!0,r=t.length;const i="__storage_test__";return t.setItem(i,i),t.removeItem(i),!0}catch(i){const e=i;return e&&(22===e.code||1014===e.code||"QuotaExceededError"===e.name||"NS_ERROR_DOM_QUOTA_REACHED"===e.name)&&n&&0!==r}}class w{constructor(){(0,r.Z)(this,"store",{})}getItem(e){return this.store[e]||null}setItem(e,t){this.store[e]=t}}(0,r.Z)(class{constructor(e,t){(0,r.Z)(this,"storage",void 0),(0,r.Z)(this,"_storeKey",void 0),this.storage=t,this._storeKey=e;try{t.getItem(e)||this.resetStore()}catch(n){}}static getInstance(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"local";if(!this.instance){let n;n="local"===t&&y("localStorage")?window.localStorage:"session"===t&&y("sessionStorage")?window.sessionStorage:new w,this.instance=new this(e,n)}return this.instance}toJSON(){return this.storage.getItem(this._storeKey)}resetStore(){const e=this.getStore();return this.storage.setItem(this._storeKey,JSON.stringify({})),e}getStore(){return JSON.parse(this.storage.getItem(this._storeKey)||"{}")}get(e){return JSON.parse(this.storage.getItem(this._storeKey)||"{}")[e]}set(e,t){const n=JSON.parse(this.storage.getItem(this._storeKey)||"{}");n[e]=t,this.storage.setItem(this._storeKey,JSON.stringify(n))}},"instance",void 0);(0,i.Z)((0,i.Z)({},b.X_),b.Ad);var m=n(688),_=(n(57381),n(62895)),v=n.n(_);const E=v().getLogger("http-helpers");E.setLevel(_.levels.INFO);n(30456);const S="solana",A="other",R="solana";class P extends m.s{constructor(e,t){super(t),(0,r.Z)(this,"code",void 0),(0,r.Z)(this,"message",void 0),this.code=e,this.message=t||"",Object.defineProperty(this,"name",{value:"Web3AuthError"})}toJSON(){return{name:this.name,code:this.code,message:this.message}}toString(){return JSON.stringify(this.toJSON())}}class T extends P{constructor(e,t){super(e,t),Object.defineProperty(this,"name",{value:"WalletInitializationError"})}static fromCode(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return new T(e,`${T.messages[e]}, ${t}`)}static notFound(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return T.fromCode(5001,e)}static notInstalled(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return T.fromCode(5002,e)}static notReady(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return T.fromCode(5003,e)}static windowBlocked(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return T.fromCode(5004,e)}static windowClosed(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return T.fromCode(5005,e)}static incompatibleChainNameSpace(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return T.fromCode(5006,e)}static duplicateAdapterError(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return T.fromCode(5007,e)}static invalidProviderConfigError(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return T.fromCode(5008,e)}static providerNotReadyError(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return T.fromCode(5009,e)}static rpcConnectionError(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return T.fromCode(5010,e)}static invalidParams(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return T.fromCode(5011,e)}static invalidNetwork(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return T.fromCode(5013,e)}}(0,r.Z)(T,"messages",{5e3:"Custom",5001:"Wallet is not found",5002:"Wallet is not installed",5003:"Wallet is not ready yet",5004:"Wallet window is blocked",5005:"Wallet window has been closed by the user",5006:"Incompatible chain namespace provided",5007:"Adapter has already been included",5008:"Invalid provider Config",5009:"Provider is not ready yet",5010:"Failed to connect with rpc url",5011:"Invalid params passed in",5013:"Invalid network provided"});class C extends P{constructor(e,t){super(e,t),Object.defineProperty(this,"name",{value:"WalletLoginError"})}static fromCode(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return new C(e,`${C.messages[e]}. ${t}`)}static connectionError(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return C.fromCode(5111,e)}static disconnectionError(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return C.fromCode(5112,e)}static notConnectedError(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return C.fromCode(5113,e)}static popupClosed(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return C.fromCode(5114,e)}static mfaEnabled(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return C.fromCode(5115,e)}static chainConfigNotAdded(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return C.fromCode(5116,e)}static unsupportedOperation(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return C.fromCode(5117,e)}static coreKitKeyNotFound(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return C.fromCode(5118,e)}static userNotLoggedIn(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return C.fromCode(5119,e)}}(0,r.Z)(C,"messages",{5e3:"Custom",5111:"Failed to connect with wallet",5112:"Failed to disconnect from wallet",5113:"Wallet is not connected",5114:"Wallet popup has been closed by the user",5115:"User has already enabled mfa, please use the @web3auth/web3auth-web sdk for login with mfa",5116:"Chain config has not been added. Please add the chain config before calling switchChain",5117:"Unsupported operation",5118:"useCoreKitKey flag is enabled but coreKitKey is not available",5119:"User not logged in."});class I extends P{constructor(e,t){super(e,t),Object.defineProperty(this,"name",{value:"WalletOperationsError"})}static fromCode(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return new I(e,`${I.messages[e]}, ${t}`)}static chainIDNotAllowed(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return I.fromCode(5201,e)}static operationNotAllowed(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return I.fromCode(5202,e)}static chainNamespaceNotAllowed(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return I.fromCode(5203,e)}}(0,r.Z)(I,"messages",{5e3:"Custom",5201:"Provided chainId is not allowed",5202:"This operation is not allowed"});class N extends P{constructor(e,t){super(e,t),Object.defineProperty(this,"name",{value:"WalletProviderError"})}static fromCode(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return new I(e,`${N.messages[e]}, ${t}`)}static invalidRequestArgs(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return I.fromCode(5301,e)}static invalidRequestMethod(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return I.fromCode(5302,e)}static invalidRequestParams(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return I.fromCode(5303,e)}}(0,r.Z)(N,"messages",{5e3:"Custom",5301:"Expected a single, non-array, object argument.",5302:"'args.method' must be a non-empty string.",5303:"'args.params' must be an object or array if provided."});const k={OPENLOGIN:"openlogin",WALLET_CONNECT_V2:"wallet-connect-v2"},x=(0,i.Z)({TORUS_SOLANA:"torus-solana",PHANTOM:"phantom",SOLFLARE:"solflare",SLOPE:"slope"},k),M=(0,i.Z)({TORUS_EVM:"torus-evm",METAMASK:"metamask",COINBASE:"coinbase"},k),O=(0,i.Z)((0,i.Z)({},M),x),D=(x.TORUS_SOLANA,x.PHANTOM,x.SOLFLARE,x.SLOPE,M.TORUS_EVM,M.METAMASK,M.COINBASE,"external"),L={NOT_READY:"not_ready",READY:"ready",CONNECTING:"connecting",CONNECTED:"connected",DISCONNECTED:"disconnected",ERRORED:"errored"},j=(0,i.Z)((0,i.Z)({},L),{},{ADAPTER_DATA_UPDATED:"adapter_data_updated",CACHE_CLEAR:"cache_clear"});var W=v().getLogger("web3auth-logger");var $=n(29513),U=n(99515);n(14804),n(65592);function F(e){let t=e;if("string"!==typeof t)throw new Error("[padToEven] value must be type 'string', received "+typeof t);return t.length%2&&(t=`0${t}`),t}Array.from({length:256},((e,t)=>t.toString(16).padStart(2,"0")));const K=e=>{if("string"!==typeof e)throw new Error(`hex argument type ${typeof e} must be of type string`);if(!e.startsWith("0x"))throw new Error(`prefixed hex input should start with 0x, got ${e.substring(0,2)}`);(e=e.slice(2)).length%2!==0&&(e=F(e));const t=e.length/2,n=new Uint8Array(t);for(let r=0;r<t;r++){const t=parseInt(e.slice(2*r,2*(r+1)),16);n[r]=t}return n};BigInt("0xffffffffffffffff"),BigInt("0xffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff"),BigInt("115792089237316195423570985008687907853269984665640564039457584007913129639935"),U.k.CURVE.n,U.k.CURVE.n,BigInt(2),BigInt("0x10000000000000000000000000000000000000000000000000000000000000000"),K("0xc5d2460186f7233c927e7db2dcc703c0e500b653ca82273b7bfad8045d85a470"),K("0x1dcc4de8dec75d7aab85b567b6ccd41ad312451b948a7413f0a142fd40d49347"),K("0x56e81f171bcc55a6ff8345e692c0f86e5b48e01b996cadc001622fb5e363b421"),Uint8Array.from([128]),BigInt(1e9);Array.from({length:256},((e,t)=>t.toString(16).padStart(2,"0")));n(31417);BigInt(0);new Uint8Array(0);var B,q,H;!function(e){e.String="string",e.Bytes="view",e.Number="number"}(B||(B={})),function(e){e.String="string",e.Bytes="view",e.JSON="json"}(q||(q={})),function(e){e[e.Number=0]="Number",e[e.BigInt=1]="BigInt",e[e.Uint8Array=2]="Uint8Array",e[e.PrefixedHexString=3]="PrefixedHexString"}(H||(H={}));n(80608);n(25102);n(84471),n(5524),n(763),n(19778).Buffer;class Z extends c{constructor(e){let{config:t={},state:n={}}=e;super(),(0,r.Z)(this,"defaultConfig",{}),(0,r.Z)(this,"defaultState",{}),(0,r.Z)(this,"disabled",!1),(0,r.Z)(this,"name","BaseController"),(0,r.Z)(this,"initialConfig",void 0),(0,r.Z)(this,"initialState",void 0),(0,r.Z)(this,"internalConfig",this.defaultConfig),(0,r.Z)(this,"internalState",this.defaultState),this.initialState=n,this.initialConfig=t}get config(){return this.internalConfig}get state(){return this.internalState}configure(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(!(arguments.length>2&&void 0!==arguments[2])||arguments[2]){this.internalConfig=t?e:Object.assign(this.internalConfig,e);for(const e in this.internalConfig)"undefined"!==typeof this.internalConfig[e]&&(this[e]=this.internalConfig[e])}else for(const n in e)"undefined"!==typeof this.internalConfig[n]&&(this.internalConfig[n]=e[n],this[n]=e[n])}update(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];this.internalState=t?(0,i.Z)({},e):(0,i.Z)((0,i.Z)({},this.internalState),e),this.emit("store",this.internalState)}initialize(){return this.internalState=this.defaultState,this.internalConfig=this.defaultConfig,this.configure(this.initialConfig),this.update(this.initialState),this}}const Y=()=>!0,G=["newListener","removeListener"],V=e=>!G.includes(e);function z(e,t){let n=(t||{}).eventFilter||Y;if("string"===typeof n&&"skipInternal"===n&&(n=V),"function"!==typeof n)throw new Error("createEventEmitterProxy - Invalid eventFilter");let r=e,i=e=>{const t=r;r=e,t.eventNames().filter(n).forEach((n=>{(function(e,t){return"undefined"!==typeof e.rawListeners?e.rawListeners(t):e.listeners(t)})(t,n).forEach((t=>e.on(n,t)))})),t.removeAllListeners()};return new Proxy({},{get:(e,t)=>"setTarget"===t?i:r[t],set:(e,t,n)=>"setTarget"===t?(i=n,!0):(r[t]=n,!0)})}class J extends Error{}const X=["Gateway timeout","ETIMEDOUT","failed to parse response body","Failed to fetch"];function Q(e){switch(e.status){case 405:throw l.PY.methodNotFound();case 418:throw l.PY.internal({message:"Request is being rate limited."});case 503:case 504:throw l.PY.internal({message:"Gateway timeout. The request took too long to process.This can happen when querying over too wide a block range."})}}function ee(e){return new Promise((t=>{setTimeout(t,e)}))}function te(e,t){if(200!==e.status)throw l.PY.internal({message:`Non-200 status code: '${e.status}'`,data:t});if(t.error)throw l.PY.internal({data:t.error});return t.result}function ne(e){let{rpcTarget:t,originHttpHeaderKey:n}=e;return f((async(e,r,i)=>{const{fetchUrl:o,fetchParams:a}=function(e){let{req:t,rpcTarget:n,originHttpHeaderKey:r}=e;const i=new URL(n),o={id:t.id,jsonrpc:t.jsonrpc,method:t.method,params:t.params},a=t.origin,s={method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify(o)};return r&&a&&(s.headers[r]=a),{fetchUrl:i.href,fetchParams:s}}({req:e,rpcTarget:t,originHttpHeaderKey:n});for(let t=0;t<5;t++){try{const e=await fetch(o,a);Q(e);const t=await e.json(),n=te(e,t);return void(r.result=n)}catch(s){const e=s.toString();if(!X.some((t=>e.includes(t))))throw s}await ee(1e3)}}))}var re,ie,oe=n(51887),ae=n.n(oe);class se extends Z{constructor(e){let{config:t,state:n}=e;if(super({config:t,state:n}),(0,r.Z)(this,"_providerEngineProxy",null),!t.chainConfig)throw T.invalidProviderConfigError("Please provide chainConfig");if(!t.chainConfig.chainId)throw T.invalidProviderConfigError("Please provide chainId inside chainConfig");if(!t.chainConfig.rpcTarget)throw T.invalidProviderConfigError("Please provide rpcTarget inside chainConfig");this.defaultState={chainId:"loading"},this.defaultConfig={chainConfig:t.chainConfig,networks:{[t.chainConfig.chainId]:t.chainConfig}},super.initialize()}get currentChainConfig(){return this.config.chainConfig}get provider(){return this._providerEngineProxy}get chainId(){return this.state.chainId}set provider(e){throw new Error("Method not implemented.")}async request(e){var t;if(!e||"object"!==typeof e||Array.isArray(e))throw l.PY.invalidRequest({message:N.invalidRequestArgs().message,data:(0,i.Z)((0,i.Z)({},e||{}),{},{cause:N.invalidRequestArgs().message})});const{method:n,params:r}=e;if("string"!==typeof n||0===n.length)throw l.PY.invalidRequest({message:N.invalidRequestMethod().message,data:(0,i.Z)((0,i.Z)({},e||{}),{},{cause:N.invalidRequestMethod().message})});if(void 0!==r&&!Array.isArray(r)&&("object"!==typeof r||null===r))throw l.PY.invalidRequest({message:N.invalidRequestParams().message,data:(0,i.Z)((0,i.Z)({},e||{}),{},{cause:N.invalidRequestParams().message})});return null===(t=this.provider)||void 0===t?void 0:t.request(e)}sendAsync(e,t){return t?this.send(e,t):this.request(e)}send(e,t){this.request(e).then((e=>t(null,{result:e}))).catch((e=>t(e,null)))}addChain(e){if(!e.chainId)throw l.PY.invalidParams("chainId is required");if(!e.rpcTarget)throw l.PY.invalidParams("chainId is required");this.configure({networks:(0,i.Z)((0,i.Z)({},this.config.networks),{},{[e.chainId]:e})})}getChainConfig(e){var t;const n=null===(t=this.config.networks)||void 0===t?void 0:t[e];if(!n)throw l.PY.invalidRequest(`Chain ${e} is not supported, please add chainConfig for it`);return n}updateProviderEngineProxy(e){this._providerEngineProxy?this._providerEngineProxy.setTarget(e):this._providerEngineProxy=z(e)}getProviderEngineProxy(){return this._providerEngineProxy}}function le(e){return(t,n,r,i)=>"chainId"===t.method?(n.result=e,i()):r()}function de(e){return(t,n,r,i)=>"provider_config"===t.method?(n.result=e,i()):r()}class ce extends se{constructor(e){let{config:t,state:n}=e;super({config:t,state:n})}async setupProvider(){const{networkMiddleware:e}=function(e){const{chainId:t,rpcTarget:n}=e,r=ne({rpcTarget:n});return{networkMiddleware:p([le(t),de(e),r]),fetchMiddleware:r}}(this.config.chainConfig),t=new h;t.push(e);const n=g(t);this.updateProviderEngineProxy(n);const r=this.config.chainConfig.chainId;this.state.chainId!==r&&(this.emit("chainChanged",r),this.emit("connect",{chainId:r})),this.update({chainId:this.config.chainConfig.chainId})}async switchChain(e){if(!this._providerEngineProxy)throw l.gK.custom({message:"Provider is not initialized",code:4902});const t=this.getChainConfig(e.chainId);this.update({chainId:"loading"}),this.configure({chainConfig:t}),await this.setupProvider()}updateProviderEngineProxy(e){this._providerEngineProxy?this._providerEngineProxy.setTarget(e):this._providerEngineProxy=z(e)}getProviderEngineProxy(){return this._providerEngineProxy}lookupNetwork(){throw new Error("Method not implemented.")}}re=ce,(0,r.Z)(ce,"getProviderInstance",(async e=>{const t=new re({config:{chainConfig:e.chainConfig}});return await t.setupProvider(),t}));class ue extends se{constructor(e){let{config:t,state:n}=e;super({config:{chainConfig:(0,i.Z)((0,i.Z)({},t.chainConfig),{},{chainNamespace:A})},state:n}),(0,r.Z)(this,"_providerEngineProxy",null)}get provider(){return this._providerEngineProxy}set provider(e){throw new Error("Method not implemented.")}addChain(e){throw new Error("Method not implemented.")}async setupProvider(e){const t=this.getPrivKeyMiddleware(e),n=new h;n.push(t);const r=g(n);this.updateProviderEngineProxy(r)}updateProviderEngineProxy(e){this._providerEngineProxy?this._providerEngineProxy.setTarget(e):this._providerEngineProxy=z(e)}async switchChain(e){return Promise.resolve()}getProviderEngineProxy(){return this._providerEngineProxy}async lookupNetwork(){return Promise.resolve("")}getPrivKeyMiddleware(e){const t={getPrivatekey:async()=>e};return this.createPrivKeyMiddleware(t)}createPrivKeyMiddleware(e){let{getPrivatekey:t}=e;return n={private_key:f((async function(e,n){n.result=await t()}))},(e,t,r,i)=>{const o=n[e.method];return void 0===o?r():"function"===typeof o?o(e,t,r,i):(t.result=o,i())};var n}}ie=ue,(0,r.Z)(ue,"getProviderInstance",(async e=>{const t=new ie({config:{chainConfig:e.chainConfig}});return await t.setupProvider(e.privKey),t}));ae()();var fe=n(19151),he=n.n(fe),pe=n(52220),ge=n(83201),be=n.n(ge),ye=n(19778).Buffer;const we=be().lowlevel;var me=n(19778).Buffer;function _e(e){return(t,n,r,i)=>"solana_chainId"===t.method?(n.result=e,i()):r()}function ve(e){return(t,n,r,i)=>"solana_provider_config"===t.method?(n.result=e,i()):r()}function Ee(e){const{chainId:t}=e;return p([_e(t),ve(e)])}function Se(e){let{getAccounts:t}=e;return f((async(e,n,r)=>{const{method:i}=e;if("getAccounts"!==i)return r();if(!t)throw new Error("WalletMiddleware - opts.getAccounts not provided");const o=await t(e);n.result=o}))}function Ae(e){let{requestAccounts:t}=e;return f((async(e,n,r)=>{const{method:i}=e;if("requestAccounts"!==i)return r();if(!t)throw new Error("WalletMiddleware - opts.requestAccounts not provided");const o=await t(e);n.result=o}))}function Re(e,t){return f((async(n,r,i)=>{const{method:o}=n;if(o!==e)return i();if(!t)throw new Error(`WalletMiddleware - ${e} not provided`);const a=await t(n);r.result=a}))}function Pe(e){const{getAccounts:t,requestAccounts:n,signTransaction:r,signAndSendTransaction:i,signAllTransactions:o,signMessage:a,getPrivateKey:s,getSecretKey:l}=e;return p([Ae({requestAccounts:n}),Se({getAccounts:t}),Re("signTransaction",r),Re("signAndSendTransaction",i),Re("signAllTransactions",o),Re("signMessage",a),Re("solanaPrivateKey",s),Re("private_key",s),Re("solanaSecretKey",l)])}class Te extends se{constructor(e){let{config:t,state:n}=e;super({config:{chainConfig:(0,i.Z)((0,i.Z)({},t.chainConfig),{},{chainNamespace:S})},state:n})}async switchChain(e){throw C.unsupportedOperation("Chain switching is not supported by this adapter")}async setupProvider(e){const t=new h,n=Pe(this.getProviderHandlers(e));t.push(n);const r=Ee(this.config.chainConfig);t.push(r);const i=this.getInjectedProviderProxy(e);i&&t.push(i);const o=g(t);this.updateProviderEngineProxy(o),await this.lookupNetwork()}async lookupNetwork(){const{chainConfig:e}=this.config;return this.update({chainId:e.chainId}),e.chainId||""}getInjectedProviderProxy(e){}}const Ce=e=>({requestAccounts:async()=>e.publicKey?[he().encode(e.publicKey.toBytes())]:[],getAccounts:async()=>e.publicKey?[he().encode(e.publicKey.toBytes())]:[],getPrivateKey:async()=>{throw l.PY.methodNotSupported()},getSecretKey:async()=>{throw l.PY.methodNotSupported()},signTransaction:async t=>await e.signTransaction(t.params.message),signMessage:async t=>(await e.signMessage(t.params.message,t.params.display)).signature,signAllTransactions:async t=>{var n,r;if(null===(n=t.params)||void 0===n||!n.message||null===(r=t.params)||void 0===r||!r.message.length)throw l.PY.invalidParams("message");return await e.signAllTransactions(t.params.message)},signAndSendTransaction:async t=>({signature:(await e.signAndSendTransaction(t.params.message)).signature})});function Ie(e){return f((async(t,n,r)=>{const i=await e.request(t);n.result=i}))}class Ne extends Te{getProviderHandlers(e){return Ce(e)}getInjectedProviderProxy(e){return Ie(e)}}var ke;class xe extends se{constructor(e){let{config:t,state:n}=e;super({config:{chainConfig:(0,i.Z)((0,i.Z)({},t.chainConfig),{},{chainNamespace:S})},state:n})}async enable(){if(!this.state.privateKey)throw l.gK.custom({message:"Private key is not found in state, plz pass it in constructor state param",code:4902});return await this.setupProvider(this.state.privateKey),this._providerEngineProxy.request({method:"eth_accounts"})}getEd25519Key(e){return function(e){let t;t="string"===typeof e?ye.from(e,"hex"):e;const n=new Uint8Array(64),r=[we.gf(),we.gf(),we.gf(),we.gf()],i=new Uint8Array([...new Uint8Array(t),...new Uint8Array(32)]),o=new Uint8Array(32);we.crypto_hash(n,i,32),n[0]&=248,n[31]&=127,n[31]|=64,we.scalarbase(r,n),we.pack(o,r);for(let a=0;a<32;a+=1)i[a+32]=o[a];return{sk:ye.from(i),pk:ye.from(o)}}(e).sk.toString("hex").padStart(128,"0")}async setupProvider(e){const t=await async function(e){let{privKey:t,getProviderEngineProxy:n}=e;if("string"!==typeof t)throw T.invalidParams("privKey must be a string");const r=pe.RG.fromSecretKey(me.from(t,"hex"));return{requestAccounts:async()=>[r.publicKey.toBase58()],getAccounts:async()=>[r.publicKey.toBase58()],getPrivateKey:async()=>t,getSecretKey:async()=>he().encode(r.secretKey),signTransaction:async e=>{var t;if(null===(t=e.params)||void 0===t||!t.message)throw l.PY.invalidParams("message");const n=e.params.message;return void 0!==n.version||n instanceof pe.GS?n.sign([r]):n.partialSign(r),n},signMessage:async e=>{var t;if(null===(t=e.params)||void 0===t||!t.message)throw l.PY.invalidParams("message");return be().sign.detached(e.params.message,r.secretKey)},signAndSendTransaction:async e=>{var t;if(null===(t=e.params)||void 0===t||!t.message)throw l.PY.invalidParams("message");const i=n();if(!i)throw l.gK.custom({message:"Provider is not initialized",code:4902});const o=e.params.message;return void 0!==o.version||o instanceof pe.GS?o.sign([r]):o.partialSign(r),{signature:await i.request({method:"sendTransaction",params:[me.from(o.serialize()).toString("base64"),{encoding:"base64",preflightCommitment:"confirmed"}]})}},signAllTransactions:async e=>{var t,n,i;if(null===(t=e.params)||void 0===t||!t.message||null===(n=e.params)||void 0===n||!n.message.length)throw l.PY.invalidParams("message");const o=null===(i=e.params)||void 0===i?void 0:i.message;for(const a of o||[]){const e=a;void 0!==e.version||e instanceof pe.GS?e.sign([r]):e.partialSign(r)}return o}}}({privKey:e,getProviderEngineProxy:this.getProviderEngineProxy.bind(this)}),n=Pe(t),r=new h,{networkMiddleware:i}=function(e){const{rpcTarget:t}=e,n=ne({rpcTarget:t});return{networkMiddleware:p([Ee(e),n]),fetchMiddleware:n}}(this.config.chainConfig);r.push(this.getChainSwitchMiddleware()),r.push(this.getAccountMiddleware()),r.push(n),r.push(i);const o=g(r);this.updateProviderEngineProxy(o),await this.lookupNetwork()}async updateAccount(e){if(!this._providerEngineProxy)throw l.gK.custom({message:"Provider is not initialized",code:4902});await this._providerEngineProxy.request({method:"solanaPrivateKey"})!==e.privateKey&&(await this.setupProvider(e.privateKey),this.emit("accountsChanged",{accounts:await this._providerEngineProxy.request({method:"requestAccounts"})}))}async switchChain(e){if(!this._providerEngineProxy)throw l.gK.custom({message:"Provider is not initialized",code:4902});const t=this.getChainConfig(e.chainId);this.update({chainId:"loading"}),this.configure({chainConfig:t});const n=await this._providerEngineProxy.request({method:"solanaPrivateKey"});await this.setupProvider(n)}async lookupNetwork(){if(!this._providerEngineProxy)throw l.gK.custom({message:"Provider is not initialized",code:4902});const e=await this._providerEngineProxy.request({method:"getHealth",params:[]}),{chainConfig:t}=this.config;if("ok"!==e)throw T.rpcConnectionError(`Failed to lookup network for following rpc target: ${t.rpcTarget}`);return this.update({chainId:t.chainId}),this.state.chainId!==t.chainId&&(this.emit("chainChanged",this.state.chainId),this.emit("connect",{chainId:this.state.chainId})),this.state.chainId}getChainSwitchMiddleware(){return function(e){let{addNewChainConfig:t,switchSolanaChain:n}=e;return p([Re("addSolanaChain",t),Re("switchSolanaChain",n)])}({addNewChainConfig:async e=>{if(!e.params)throw l.PY.invalidParams("Missing request params");const{chainId:t,chainName:n,rpcUrls:r,blockExplorerUrls:i,nativeCurrency:o}=e.params;if(!t)throw l.PY.invalidParams("Missing chainId in chainParams");if(!r||0===r.length)throw l.PY.invalidParams("Missing rpcUrls in chainParams");if(!o)throw l.PY.invalidParams("Missing nativeCurrency in chainParams");this.addChain({chainNamespace:S,chainId:t,ticker:(null===o||void 0===o?void 0:o.symbol)||"SOL",tickerName:(null===o||void 0===o?void 0:o.name)||"Solana",displayName:n,rpcTarget:r[0],blockExplorer:(null===i||void 0===i?void 0:i[0])||"",decimals:(null===o||void 0===o?void 0:o.decimals)||9})},switchSolanaChain:async e=>{if(!e.params)throw l.PY.invalidParams("Missing request params");if(!e.params.chainId)throw l.PY.invalidParams("Missing chainId");await this.switchChain(e.params)}})}getAccountMiddleware(){return function(e){let{updatePrivatekey:t}=e;return p([Re("updateAccount",t)])}({updatePrivatekey:async e=>{if(!e.params)throw l.PY.invalidParams("Missing request params");if(!e.params.privateKey)throw l.PY.invalidParams("Missing privateKey");const{privateKey:t}=e.params;await this.updateAccount({privateKey:t})}})}}ke=xe,(0,r.Z)(xe,"getProviderInstance",(async e=>{const t=new ke({config:{chainConfig:e.chainConfig}});return await t.setupProvider(e.privKey),t}));function Me(e,t,n){return new Promise(((r,i)=>{n>0?setTimeout((async()=>{const o=await e();o&&r(o),o||Me(e,t,n-1).then((e=>(r(e),e))).catch((e=>i(e)))}),t):r(!1)}))}const Oe=async function(){var e;let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{interval:1e3,count:3};if("undefined"!==typeof window&&!(null===(e=window.solana)||void 0===e||!e.isPhantom))return window.solana;return await Me((()=>{var e;return null===(e=window.solana)||void 0===e?void 0:e.isPhantom}),t.interval,t.count)?window.solana:null};class De extends $.v{constructor(){super(...arguments),(0,r.Z)(this,"name",O.PHANTOM),(0,r.Z)(this,"adapterNamespace",R),(0,r.Z)(this,"currentChainNamespace",S),(0,r.Z)(this,"type",D),(0,r.Z)(this,"status",L.NOT_READY),(0,r.Z)(this,"_wallet",null),(0,r.Z)(this,"phantomProvider",null),(0,r.Z)(this,"_onDisconnect",(()=>{this._wallet&&(this._wallet.off("disconnect",this._onDisconnect),this.rehydrated=!1,this.status=this.status===L.CONNECTED?L.READY:L.NOT_READY,this.emit(j.DISCONNECTED))}))}get isWalletConnected(){var e;return!(null===(e=this._wallet)||void 0===e||!e.isConnected||this.status!==L.CONNECTED)}get provider(){return this.status!==L.NOT_READY&&this.phantomProvider?this.phantomProvider:null}set provider(e){throw new Error("Not implemented")}async init(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(await super.init(e),super.checkInitializationRequirements(),this._wallet=await Oe({interval:500,count:3}),!this._wallet)throw T.notInstalled();this.phantomProvider=new Ne({config:{chainConfig:this.chainConfig}}),this.status=L.READY,this.emit(j.READY,O.PHANTOM);try{W.debug("initializing phantom adapter"),e.autoConnect&&(this.rehydrated=!0,await this.connect())}catch(t){W.error("Failed to connect with cached phantom provider",t),this.emit("ERRORED",t)}}async connect(){var e=this;try{if(super.checkConnectionRequirements(),this.status=L.CONNECTING,this.emit(j.CONNECTING,{adapter:O.PHANTOM}),!this._wallet)throw T.notInstalled();if(this._wallet.isConnected)await this.connectWithProvider(this._wallet);else{const n=this._wallet._handleDisconnect;try{await new Promise(((t,r)=>{this._wallet?(this._wallet.once("connect",(async()=>{await this.connectWithProvider(this._wallet),t(this.provider)})),this._wallet._handleDisconnect=function(){r(T.windowClosed());for(var t=arguments.length,i=new Array(t),o=0;o<t;o++)i[o]=arguments[o];return n.apply(e._wallet,i)},this._wallet.connect().catch((e=>{r(e)}))):r(T.notInstalled())}))}catch(t){if(t instanceof P)throw t;throw C.connectionError(null===t||void 0===t?void 0:t.message)}finally{this._wallet._handleDisconnect=n}}if(!this._wallet.publicKey)throw C.connectionError();return this._wallet.on("disconnect",this._onDisconnect),this.provider}catch(t){throw this.status=L.READY,this.rehydrated=!1,this.emit(j.ERRORED,t),t}}async disconnect(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{cleanup:!1};await super.disconnectSession();try{var t;await(null===(t=this._wallet)||void 0===t?void 0:t.disconnect()),e.cleanup&&(this.status=L.NOT_READY,this.phantomProvider=null,this._wallet=null),await super.disconnect()}catch(n){this.emit(j.ERRORED,C.disconnectionError(null===n||void 0===n?void 0:n.message))}}async getUserInfo(){if(!this.isWalletConnected)throw C.notConnectedError("Not connected with wallet, Please login/connect first");return{}}async addChain(e){var t;let n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];super.checkAddChainRequirements(e,n),null===(t=this.phantomProvider)||void 0===t||t.addChain(e),this.addChainConfig(e)}async switchChain(e){var t;let n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];super.checkSwitchChainRequirements(e,n),await(null===(t=this.phantomProvider)||void 0===t?void 0:t.switchChain(e)),this.setAdapterSettings({chainConfig:this.getChainConfig(e.chainId)})}async connectWithProvider(e){if(!this.phantomProvider)throw C.connectionError("No phantom provider");return await this.phantomProvider.setupProvider(e),this.status=L.CONNECTED,this.emit(j.CONNECTED,{adapter:O.PHANTOM,reconnected:this.rehydrated}),this.provider}}},1999:e=>{"use strict";e.exports=function(e){if(e.length>=255)throw new TypeError("Alphabet too long");for(var t=new Uint8Array(256),n=0;n<t.length;n++)t[n]=255;for(var r=0;r<e.length;r++){var i=e.charAt(r),o=i.charCodeAt(0);if(255!==t[o])throw new TypeError(i+" is ambiguous");t[o]=r}var a=e.length,s=e.charAt(0),l=Math.log(a)/Math.log(256),d=Math.log(256)/Math.log(a);function c(e){if("string"!==typeof e)throw new TypeError("Expected String");if(0===e.length)return new Uint8Array;for(var n=0,r=0,i=0;e[n]===s;)r++,n++;for(var o=(e.length-n)*l+1>>>0,d=new Uint8Array(o);e[n];){var c=t[e.charCodeAt(n)];if(255===c)return;for(var u=0,f=o-1;(0!==c||u<i)&&-1!==f;f--,u++)c+=a*d[f]>>>0,d[f]=c%256>>>0,c=c/256>>>0;if(0!==c)throw new Error("Non-zero carry");i=u,n++}for(var h=o-i;h!==o&&0===d[h];)h++;for(var p=new Uint8Array(r+(o-h)),g=r;h!==o;)p[g++]=d[h++];return p}return{encode:function(t){if(t instanceof Uint8Array||(ArrayBuffer.isView(t)?t=new Uint8Array(t.buffer,t.byteOffset,t.byteLength):Array.isArray(t)&&(t=Uint8Array.from(t))),!(t instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(0===t.length)return"";for(var n=0,r=0,i=0,o=t.length;i!==o&&0===t[i];)i++,n++;for(var l=(o-i)*d+1>>>0,c=new Uint8Array(l);i!==o;){for(var u=t[i],f=0,h=l-1;(0!==u||f<r)&&-1!==h;h--,f++)u+=256*c[h]>>>0,c[h]=u%a>>>0,u=u/a>>>0;if(0!==u)throw new Error("Non-zero carry");r=f,i++}for(var p=l-r;p!==l&&0===c[p];)p++;for(var g=s.repeat(n);p<l;++p)g+=e.charAt(c[p]);return g},decodeUnsafe:c,decode:function(e){var t=c(e);if(t)return t;throw new Error("Non-base"+a+" character")}}}},19151:(e,t,n)=>{const r=n(1999);e.exports=r("123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz")},82460:(e,t,n)=>{"use strict";const{AbortError:r,codes:i}=n(82009),{isNodeStream:o,isWebStream:a,kControllerErrorFunction:s}=n(30716),l=n(34560),{ERR_INVALID_ARG_TYPE:d}=i;e.exports.addAbortSignal=function(t,n){if(((e,t)=>{if("object"!==typeof e||!("aborted"in e))throw new d(t,"AbortSignal",e)})(t,"signal"),!o(n)&&!a(n))throw new d("stream",["ReadableStream","WritableStream","Stream"],n);return e.exports.addAbortSignalNoValidate(t,n)},e.exports.addAbortSignalNoValidate=function(e,t){if("object"!==typeof e||!("aborted"in e))return t;const n=o(t)?()=>{t.destroy(new r(void 0,{cause:e.reason}))}:()=>{t[s](new r(void 0,{cause:e.reason}))};return e.aborted?n():(e.addEventListener("abort",n),l(t,(()=>e.removeEventListener("abort",n)))),t}},40338:(e,t,n)=>{"use strict";const{StringPrototypeSlice:r,SymbolIterator:i,TypedArrayPrototypeSet:o,Uint8Array:a}=n(29606),{Buffer:s}=n(19778),{inspect:l}=n(30793);e.exports=class{constructor(){this.head=null,this.tail=null,this.length=0}push(e){const t={data:e,next:null};this.length>0?this.tail.next=t:this.head=t,this.tail=t,++this.length}unshift(e){const t={data:e,next:this.head};0===this.length&&(this.tail=t),this.head=t,++this.length}shift(){if(0===this.length)return;const e=this.head.data;return 1===this.length?this.head=this.tail=null:this.head=this.head.next,--this.length,e}clear(){this.head=this.tail=null,this.length=0}join(e){if(0===this.length)return"";let t=this.head,n=""+t.data;for(;null!==(t=t.next);)n+=e+t.data;return n}concat(e){if(0===this.length)return s.alloc(0);const t=s.allocUnsafe(e>>>0);let n=this.head,r=0;for(;n;)o(t,n.data,r),r+=n.data.length,n=n.next;return t}consume(e,t){const n=this.head.data;if(e<n.length){const t=n.slice(0,e);return this.head.data=n.slice(e),t}return e===n.length?this.shift():t?this._getString(e):this._getBuffer(e)}first(){return this.head.data}*[i](){for(let e=this.head;e;e=e.next)yield e.data}_getString(e){let t="",n=this.head,i=0;do{const o=n.data;if(!(e>o.length)){e===o.length?(t+=o,++i,n.next?this.head=n.next:this.head=this.tail=null):(t+=r(o,0,e),this.head=n,n.data=r(o,e));break}t+=o,e-=o.length,++i}while(null!==(n=n.next));return this.length-=i,t}_getBuffer(e){const t=s.allocUnsafe(e),n=e;let r=this.head,i=0;do{const s=r.data;if(!(e>s.length)){e===s.length?(o(t,s,n-e),++i,r.next?this.head=r.next:this.head=this.tail=null):(o(t,new a(s.buffer,s.byteOffset,e),n-e),this.head=r,r.data=s.slice(e));break}o(t,s,n-e),e-=s.length,++i}while(null!==(r=r.next));return this.length-=i,t}[Symbol.for("nodejs.util.inspect.custom")](e,t){return l(this,{...t,depth:0,customInspect:!1})}}},38695:(e,t,n)=>{"use strict";const{pipeline:r}=n(33354),i=n(3437),{destroyer:o}=n(9472),{isNodeStream:a,isReadable:s,isWritable:l,isWebStream:d,isTransformStream:c,isWritableStream:u,isReadableStream:f}=n(30716),{AbortError:h,codes:{ERR_INVALID_ARG_VALUE:p,ERR_MISSING_ARGS:g}}=n(82009),b=n(34560);e.exports=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];if(0===t.length)throw new g("streams");if(1===t.length)return i.from(t[0]);const y=[...t];if("function"===typeof t[0]&&(t[0]=i.from(t[0])),"function"===typeof t[t.length-1]){const e=t.length-1;t[e]=i.from(t[e])}for(let r=0;r<t.length;++r)if(a(t[r])||d(t[r])){if(r<t.length-1&&!(s(t[r])||f(t[r])||c(t[r])))throw new p(`streams[${r}]`,y[r],"must be readable");if(r>0&&!(l(t[r])||u(t[r])||c(t[r])))throw new p(`streams[${r}]`,y[r],"must be writable")}let w,m,_,v,E;const S=t[0],A=r(t,(function(e){const t=v;v=null,t?t(e):e?E.destroy(e):P||R||E.destroy()})),R=!!(l(S)||u(S)||c(S)),P=!!(s(A)||f(A)||c(A));if(E=new i({writableObjectMode:!(null===S||void 0===S||!S.writableObjectMode),readableObjectMode:!(null===A||void 0===A||!A.writableObjectMode),writable:R,readable:P}),R){if(a(S))E._write=function(e,t,n){S.write(e,t)?n():w=n},E._final=function(e){S.end(),m=e},S.on("drain",(function(){if(w){const e=w;w=null,e()}}));else if(d(S)){const e=(c(S)?S.writable:S).getWriter();E._write=async function(t,n,r){try{await e.ready,e.write(t).catch((()=>{})),r()}catch(i){r(i)}},E._final=async function(t){try{await e.ready,e.close().catch((()=>{})),m=t}catch(n){t(n)}}}const e=c(A)?A.readable:A;b(e,(()=>{if(m){const e=m;m=null,e()}}))}if(P)if(a(A))A.on("readable",(function(){if(_){const e=_;_=null,e()}})),A.on("end",(function(){E.push(null)})),E._read=function(){for(;;){const e=A.read();if(null===e)return void(_=E._read);if(!E.push(e))return}};else if(d(A)){const e=(c(A)?A.readable:A).getReader();E._read=async function(){for(;;)try{const{value:t,done:n}=await e.read();if(!E.push(t))return;if(n)return void E.push(null)}catch{return}}}return E._destroy=function(e,t){e||null===v||(e=new h),_=null,w=null,m=null,null===v?t(e):(v=t,a(A)&&o(A,e))},E}},9472:(e,t,n)=>{"use strict";const r=n(1426),{aggregateTwoErrors:i,codes:{ERR_MULTIPLE_CALLBACK:o},AbortError:a}=n(82009),{Symbol:s}=n(29606),{kDestroyed:l,isDestroyed:d,isFinished:c,isServerRequest:u}=n(30716),f=s("kDestroy"),h=s("kConstruct");function p(e,t,n){e&&(e.stack,t&&!t.errored&&(t.errored=e),n&&!n.errored&&(n.errored=e))}function g(e,t,n){let i=!1;function o(t){if(i)return;i=!0;const o=e._readableState,a=e._writableState;p(t,a,o),a&&(a.closed=!0),o&&(o.closed=!0),"function"===typeof n&&n(t),t?r.nextTick(b,e,t):r.nextTick(y,e)}try{e._destroy(t||null,o)}catch(t){o(t)}}function b(e,t){w(e,t),y(e)}function y(e){const t=e._readableState,n=e._writableState;n&&(n.closeEmitted=!0),t&&(t.closeEmitted=!0),(null!==n&&void 0!==n&&n.emitClose||null!==t&&void 0!==t&&t.emitClose)&&e.emit("close")}function w(e,t){const n=e._readableState,r=e._writableState;null!==r&&void 0!==r&&r.errorEmitted||null!==n&&void 0!==n&&n.errorEmitted||(r&&(r.errorEmitted=!0),n&&(n.errorEmitted=!0),e.emit("error",t))}function m(e,t,n){const i=e._readableState,o=e._writableState;if(null!==o&&void 0!==o&&o.destroyed||null!==i&&void 0!==i&&i.destroyed)return this;null!==i&&void 0!==i&&i.autoDestroy||null!==o&&void 0!==o&&o.autoDestroy?e.destroy(t):t&&(t.stack,o&&!o.errored&&(o.errored=t),i&&!i.errored&&(i.errored=t),n?r.nextTick(w,e,t):w(e,t))}function _(e){let t=!1;function n(n){if(t)return void m(e,null!==n&&void 0!==n?n:new o);t=!0;const i=e._readableState,a=e._writableState,s=a||i;i&&(i.constructed=!0),a&&(a.constructed=!0),s.destroyed?e.emit(f,n):n?m(e,n,!0):r.nextTick(v,e)}try{e._construct((e=>{r.nextTick(n,e)}))}catch(i){r.nextTick(n,i)}}function v(e){e.emit(h)}function E(e){return(null===e||void 0===e?void 0:e.setHeader)&&"function"===typeof e.abort}function S(e){e.emit("close")}function A(e,t){e.emit("error",t),r.nextTick(S,e)}e.exports={construct:function(e,t){if("function"!==typeof e._construct)return;const n=e._readableState,i=e._writableState;n&&(n.constructed=!1),i&&(i.constructed=!1),e.once(h,t),e.listenerCount(h)>1||r.nextTick(_,e)},destroyer:function(e,t){e&&!d(e)&&(t||c(e)||(t=new a),u(e)?(e.socket=null,e.destroy(t)):E(e)?e.abort():E(e.req)?e.req.abort():"function"===typeof e.destroy?e.destroy(t):"function"===typeof e.close?e.close():t?r.nextTick(A,e,t):r.nextTick(S,e),e.destroyed||(e[l]=!0))},destroy:function(e,t){const n=this._readableState,r=this._writableState,o=r||n;return null!==r&&void 0!==r&&r.destroyed||null!==n&&void 0!==n&&n.destroyed?("function"===typeof t&&t(),this):(p(e,r,n),r&&(r.destroyed=!0),n&&(n.destroyed=!0),o.constructed?g(this,e,t):this.once(f,(function(n){g(this,i(n,e),t)})),this)},undestroy:function(){const e=this._readableState,t=this._writableState;e&&(e.constructed=!0,e.closed=!1,e.closeEmitted=!1,e.destroyed=!1,e.errored=null,e.errorEmitted=!1,e.reading=!1,e.ended=!1===e.readable,e.endEmitted=!1===e.readable),t&&(t.constructed=!0,t.destroyed=!1,t.closed=!1,t.closeEmitted=!1,t.errored=null,t.errorEmitted=!1,t.finalCalled=!1,t.prefinished=!1,t.ended=!1===t.writable,t.ending=!1===t.writable,t.finished=!1===t.writable)},errorOrDestroy:m}},3437:(e,t,n)=>{"use strict";const{ObjectDefineProperties:r,ObjectGetOwnPropertyDescriptor:i,ObjectKeys:o,ObjectSetPrototypeOf:a}=n(29606);e.exports=d;const s=n(26634),l=n(80442);a(d.prototype,s.prototype),a(d,s);{const e=o(l.prototype);for(let t=0;t<e.length;t++){const n=e[t];d.prototype[n]||(d.prototype[n]=l.prototype[n])}}function d(e){if(!(this instanceof d))return new d(e);s.call(this,e),l.call(this,e),e?(this.allowHalfOpen=!1!==e.allowHalfOpen,!1===e.readable&&(this._readableState.readable=!1,this._readableState.ended=!0,this._readableState.endEmitted=!0),!1===e.writable&&(this._writableState.writable=!1,this._writableState.ending=!0,this._writableState.ended=!0,this._writableState.finished=!0)):this.allowHalfOpen=!0}let c,u;function f(){return void 0===c&&(c={}),c}r(d.prototype,{writable:{__proto__:null,...i(l.prototype,"writable")},writableHighWaterMark:{__proto__:null,...i(l.prototype,"writableHighWaterMark")},writableObjectMode:{__proto__:null,...i(l.prototype,"writableObjectMode")},writableBuffer:{__proto__:null,...i(l.prototype,"writableBuffer")},writableLength:{__proto__:null,...i(l.prototype,"writableLength")},writableFinished:{__proto__:null,...i(l.prototype,"writableFinished")},writableCorked:{__proto__:null,...i(l.prototype,"writableCorked")},writableEnded:{__proto__:null,...i(l.prototype,"writableEnded")},writableNeedDrain:{__proto__:null,...i(l.prototype,"writableNeedDrain")},destroyed:{__proto__:null,get(){return void 0!==this._readableState&&void 0!==this._writableState&&(this._readableState.destroyed&&this._writableState.destroyed)},set(e){this._readableState&&this._writableState&&(this._readableState.destroyed=e,this._writableState.destroyed=e)}}}),d.fromWeb=function(e,t){return f().newStreamDuplexFromReadableWritablePair(e,t)},d.toWeb=function(e){return f().newReadableWritablePairFromDuplex(e)},d.from=function(e){return u||(u=n(41003)),u(e,"body")}},41003:(e,t,n)=>{const r=n(1426),i=n(19778),{isReadable:o,isWritable:a,isIterable:s,isNodeStream:l,isReadableNodeStream:d,isWritableNodeStream:c,isDuplexNodeStream:u}=n(30716),f=n(34560),{AbortError:h,codes:{ERR_INVALID_ARG_TYPE:p,ERR_INVALID_RETURN_VALUE:g}}=n(82009),{destroyer:b}=n(9472),y=n(3437),w=n(26634),{createDeferredPromise:m}=n(30793),_=n(42337),v=globalThis.Blob||i.Blob,E="undefined"!==typeof v?function(e){return e instanceof v}:function(e){return!1},S=globalThis.AbortController||n(35935).AbortController,{FunctionPrototypeCall:A}=n(29606);class R extends y{constructor(e){super(e),!1===(null===e||void 0===e?void 0:e.readable)&&(this._readableState.readable=!1,this._readableState.ended=!0,this._readableState.endEmitted=!0),!1===(null===e||void 0===e?void 0:e.writable)&&(this._writableState.writable=!1,this._writableState.ending=!0,this._writableState.ended=!0,this._writableState.finished=!0)}}function P(e){const t=e.readable&&"function"!==typeof e.readable.read?w.wrap(e.readable):e.readable,n=e.writable;let r,i,s,l,d,c=!!o(t),u=!!a(n);function p(e){const t=l;l=null,t?t(e):e&&d.destroy(e)}return d=new R({readableObjectMode:!(null===t||void 0===t||!t.readableObjectMode),writableObjectMode:!(null===n||void 0===n||!n.writableObjectMode),readable:c,writable:u}),u&&(f(n,(e=>{u=!1,e&&b(t,e),p(e)})),d._write=function(e,t,i){n.write(e,t)?i():r=i},d._final=function(e){n.end(),i=e},n.on("drain",(function(){if(r){const e=r;r=null,e()}})),n.on("finish",(function(){if(i){const e=i;i=null,e()}}))),c&&(f(t,(e=>{c=!1,e&&b(t,e),p(e)})),t.on("readable",(function(){if(s){const e=s;s=null,e()}})),t.on("end",(function(){d.push(null)})),d._read=function(){for(;;){const e=t.read();if(null===e)return void(s=d._read);if(!d.push(e))return}}),d._destroy=function(e,o){e||null===l||(e=new h),s=null,r=null,i=null,null===l?o(e):(l=o,b(n,e),b(t,e))},d}e.exports=function e(t,n){if(u(t))return t;if(d(t))return P({readable:t});if(c(t))return P({writable:t});if(l(t))return P({writable:!1,readable:!1});if("function"===typeof t){const{value:e,write:i,final:o,destroy:a}=function(e){let{promise:t,resolve:n}=m();const i=new S,o=i.signal,a=e(async function*(){for(;;){const e=t;t=null;const{chunk:i,done:a,cb:s}=await e;if(r.nextTick(s),a)return;if(o.aborted)throw new h(void 0,{cause:o.reason});({promise:t,resolve:n}=m()),yield i}}(),{signal:o});return{value:a,write(e,t,r){const i=n;n=null,i({chunk:e,done:!1,cb:r})},final(e){const t=n;n=null,t({done:!0,cb:e})},destroy(e,t){i.abort(),t(e)}}}(t);if(s(e))return _(R,e,{objectMode:!0,write:i,final:o,destroy:a});const l=null===e||void 0===e?void 0:e.then;if("function"===typeof l){let t;const n=A(l,e,(e=>{if(null!=e)throw new g("nully","body",e)}),(e=>{b(t,e)}));return t=new R({objectMode:!0,readable:!1,write:i,final(e){o((async()=>{try{await n,r.nextTick(e,null)}catch(t){r.nextTick(e,t)}}))},destroy:a})}throw new g("Iterable, AsyncIterable or AsyncFunction",n,e)}if(E(t))return e(t.arrayBuffer());if(s(t))return _(R,t,{objectMode:!0,writable:!1});if("object"===typeof(null===t||void 0===t?void 0:t.writable)||"object"===typeof(null===t||void 0===t?void 0:t.readable)){return P({readable:null!==t&&void 0!==t&&t.readable?d(null===t||void 0===t?void 0:t.readable)?null===t||void 0===t?void 0:t.readable:e(t.readable):void 0,writable:null!==t&&void 0!==t&&t.writable?c(null===t||void 0===t?void 0:t.writable)?null===t||void 0===t?void 0:t.writable:e(t.writable):void 0})}const i=null===t||void 0===t?void 0:t.then;if("function"===typeof i){let e;return A(i,t,(t=>{null!=t&&e.push(t),e.push(null)}),(t=>{b(e,t)})),e=new R({objectMode:!0,writable:!1,read(){}})}throw new p(n,["Blob","ReadableStream","WritableStream","Stream","Iterable","AsyncIterable","Function","{ readable, writable } pair","Promise"],t)}},34560:(e,t,n)=>{const r=n(1426),{AbortError:i,codes:o}=n(82009),{ERR_INVALID_ARG_TYPE:a,ERR_STREAM_PREMATURE_CLOSE:s}=o,{kEmptyObject:l,once:d}=n(30793),{validateAbortSignal:c,validateFunction:u,validateObject:f,validateBoolean:h}=n(8595),{Promise:p,PromisePrototypeThen:g}=n(29606),{isClosed:b,isReadable:y,isReadableNodeStream:w,isReadableStream:m,isReadableFinished:_,isReadableErrored:v,isWritable:E,isWritableNodeStream:S,isWritableStream:A,isWritableFinished:R,isWritableErrored:P,isNodeStream:T,willEmitClose:C,kIsClosedPromise:I}=n(30716);const N=()=>{};function k(e,t,n){var o,h;if(2===arguments.length?(n=t,t=l):null==t?t=l:f(t,"options"),u(n,"callback"),c(t.signal,"options.signal"),n=d(n),m(e)||A(e))return function(e,t,n){let o=!1,a=N;if(t.signal)if(a=()=>{o=!0,n.call(e,new i(void 0,{cause:t.signal.reason}))},t.signal.aborted)r.nextTick(a);else{const r=n;n=d((function(){t.signal.removeEventListener("abort",a);for(var n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];r.apply(e,i)})),t.signal.addEventListener("abort",a)}const s=function(){for(var t=arguments.length,i=new Array(t),a=0;a<t;a++)i[a]=arguments[a];o||r.nextTick((()=>n.apply(e,i)))};return g(e[I].promise,s,s),N}(e,t,n);if(!T(e))throw new a("stream",["ReadableStream","WritableStream","Stream"],e);const p=null!==(o=t.readable)&&void 0!==o?o:w(e),k=null!==(h=t.writable)&&void 0!==h?h:S(e),x=e._writableState,M=e._readableState,O=()=>{e.writable||j()};let D=C(e)&&w(e)===p&&S(e)===k,L=R(e,!1);const j=()=>{L=!0,e.destroyed&&(D=!1),(!D||e.readable&&!p)&&(p&&!W||n.call(e))};let W=_(e,!1);const $=()=>{W=!0,e.destroyed&&(D=!1),(!D||e.writable&&!k)&&(k&&!L||n.call(e))},U=t=>{n.call(e,t)};let F=b(e);const K=()=>{F=!0;const t=P(e)||v(e);return t&&"boolean"!==typeof t?n.call(e,t):p&&!W&&w(e,!0)&&!_(e,!1)?n.call(e,new s):!k||L||R(e,!1)?void n.call(e):n.call(e,new s)},B=()=>{F=!0;const t=P(e)||v(e);if(t&&"boolean"!==typeof t)return n.call(e,t);n.call(e)},q=()=>{e.req.on("finish",j)};!function(e){return e.setHeader&&"function"===typeof e.abort}(e)?k&&!x&&(e.on("end",O),e.on("close",O)):(e.on("complete",j),D||e.on("abort",K),e.req?q():e.on("request",q)),D||"boolean"!==typeof e.aborted||e.on("aborted",K),e.on("end",$),e.on("finish",j),!1!==t.error&&e.on("error",U),e.on("close",K),F?r.nextTick(K):null!==x&&void 0!==x&&x.errorEmitted||null!==M&&void 0!==M&&M.errorEmitted?D||r.nextTick(B):(p||D&&!y(e)||!L&&!1!==E(e))&&(k||D&&!E(e)||!W&&!1!==y(e))?M&&e.req&&e.aborted&&r.nextTick(B):r.nextTick(B);const H=()=>{n=N,e.removeListener("aborted",K),e.removeListener("complete",j),e.removeListener("abort",K),e.removeListener("request",q),e.req&&e.req.removeListener("finish",j),e.removeListener("end",O),e.removeListener("close",O),e.removeListener("finish",j),e.removeListener("end",$),e.removeListener("error",U),e.removeListener("close",K)};if(t.signal&&!F){const o=()=>{const r=n;H(),r.call(e,new i(void 0,{cause:t.signal.reason}))};if(t.signal.aborted)r.nextTick(o);else{const r=n;n=d((function(){t.signal.removeEventListener("abort",o);for(var n=arguments.length,i=new Array(n),a=0;a<n;a++)i[a]=arguments[a];r.apply(e,i)})),t.signal.addEventListener("abort",o)}}return H}e.exports=k,e.exports.finished=function(e,t){var n;let r=!1;return null===t&&(t=l),null!==(n=t)&&void 0!==n&&n.cleanup&&(h(t.cleanup,"cleanup"),r=t.cleanup),new p(((n,i)=>{const o=k(e,t,(e=>{r&&o(),e?i(e):n()}))}))}},42337:(e,t,n)=>{"use strict";const r=n(1426),{PromisePrototypeThen:i,SymbolAsyncIterator:o,SymbolIterator:a}=n(29606),{Buffer:s}=n(19778),{ERR_INVALID_ARG_TYPE:l,ERR_STREAM_NULL_VALUES:d}=n(82009).codes;e.exports=function(e,t,n){let c,u;if("string"===typeof t||t instanceof s)return new e({objectMode:!0,...n,read(){this.push(t),this.push(null)}});if(t&&t[o])u=!0,c=t[o]();else{if(!t||!t[a])throw new l("iterable",["Iterable"],t);u=!1,c=t[a]()}const f=new e({objectMode:!0,highWaterMark:1,...n});let h=!1;return f._read=function(){h||(h=!0,async function(){for(;;){try{const{value:e,done:t}=u?await c.next():c.next();if(t)f.push(null);else{const t=e&&"function"===typeof e.then?await e:e;if(null===t)throw h=!1,new d;if(f.push(t))continue;h=!1}}catch(e){f.destroy(e)}break}}())},f._destroy=function(e,t){i(async function(e){const t=void 0!==e&&null!==e,n="function"===typeof c.throw;if(t&&n){const{value:t,done:n}=await c.throw(e);if(await t,n)return}if("function"===typeof c.return){const{value:e}=await c.return();await e}}(e),(()=>r.nextTick(t,e)),(n=>r.nextTick(t,n||e)))},f}},91466:(e,t,n)=>{"use strict";const{ArrayIsArray:r,ObjectSetPrototypeOf:i}=n(29606),{EventEmitter:o}=n(47465);function a(e){o.call(this,e)}function s(e,t,n){if("function"===typeof e.prependListener)return e.prependListener(t,n);e._events&&e._events[t]?r(e._events[t])?e._events[t].unshift(n):e._events[t]=[n,e._events[t]]:e.on(t,n)}i(a.prototype,o.prototype),i(a,o),a.prototype.pipe=function(e,t){const n=this;function r(t){e.writable&&!1===e.write(t)&&n.pause&&n.pause()}function i(){n.readable&&n.resume&&n.resume()}n.on("data",r),e.on("drain",i),e._isStdio||t&&!1===t.end||(n.on("end",l),n.on("close",d));let a=!1;function l(){a||(a=!0,e.end())}function d(){a||(a=!0,"function"===typeof e.destroy&&e.destroy())}function c(e){u(),0===o.listenerCount(this,"error")&&this.emit("error",e)}function u(){n.removeListener("data",r),e.removeListener("drain",i),n.removeListener("end",l),n.removeListener("close",d),n.removeListener("error",c),e.removeListener("error",c),n.removeListener("end",u),n.removeListener("close",u),e.removeListener("close",u)}return s(n,"error",c),s(e,"error",c),n.on("end",u),n.on("close",u),e.on("close",u),e.emit("pipe",n),e},e.exports={Stream:a,prependListener:s}},62737:(e,t,n)=>{"use strict";const r=globalThis.AbortController||n(35935).AbortController,{codes:{ERR_INVALID_ARG_VALUE:i,ERR_INVALID_ARG_TYPE:o,ERR_MISSING_ARGS:a,ERR_OUT_OF_RANGE:s},AbortError:l}=n(82009),{validateAbortSignal:d,validateInteger:c,validateObject:u}=n(8595),f=n(29606).Symbol("kWeak"),{finished:h}=n(34560),p=n(38695),{addAbortSignalNoValidate:g}=n(82460),{isWritable:b,isNodeStream:y}=n(30716),{ArrayPrototypePush:w,MathFloor:m,Number:_,NumberIsNaN:v,Promise:E,PromiseReject:S,PromisePrototypeThen:A,Symbol:R}=n(29606),P=R("kEmpty"),T=R("kEof");function C(e,t){if("function"!==typeof e)throw new o("fn",["Function","AsyncFunction"],e);null!=t&&u(t,"options"),null!=(null===t||void 0===t?void 0:t.signal)&&d(t.signal,"options.signal");let n=1;return null!=(null===t||void 0===t?void 0:t.concurrency)&&(n=m(t.concurrency)),c(n,"concurrency",1),async function*(){var i,o;const a=new r,s=this,d=[],c=a.signal,u={signal:c},f=()=>a.abort();let h,p;null!==t&&void 0!==t&&null!==(i=t.signal)&&void 0!==i&&i.aborted&&f(),null===t||void 0===t||null===(o=t.signal)||void 0===o||o.addEventListener("abort",f);let g=!1;function b(){g=!0}!async function(){try{for await(let t of s){var r;if(g)return;if(c.aborted)throw new l;try{t=e(t,u)}catch(o){t=S(o)}t!==P&&("function"===typeof(null===(r=t)||void 0===r?void 0:r.catch)&&t.catch(b),d.push(t),h&&(h(),h=null),!g&&d.length&&d.length>=n&&await new E((e=>{p=e})))}d.push(T)}catch(o){const e=S(o);A(e,void 0,b),d.push(e)}finally{var i;g=!0,h&&(h(),h=null),null===t||void 0===t||null===(i=t.signal)||void 0===i||i.removeEventListener("abort",f)}}();try{for(;;){for(;d.length>0;){const e=await d[0];if(e===T)return;if(c.aborted)throw new l;e!==P&&(yield e),d.shift(),p&&(p(),p=null)}await new E((e=>{h=e}))}}finally{a.abort(),g=!0,p&&(p(),p=null)}}.call(this)}async function I(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0;for await(const n of N.call(this,e,t))return!0;return!1}function N(e,t){if("function"!==typeof e)throw new o("fn",["Function","AsyncFunction"],e);return C.call(this,(async function(t,n){return await e(t,n)?t:P}),t)}class k extends a{constructor(){super("reduce"),this.message="Reduce of an empty stream requires an initial value"}}function x(e){if(e=_(e),v(e))return 0;if(e<0)throw new s("number",">= 0",e);return e}e.exports.streamReturningOperators={asIndexedPairs:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:void 0;return null!=e&&u(e,"options"),null!=(null===e||void 0===e?void 0:e.signal)&&d(e.signal,"options.signal"),async function*(){let t=0;for await(const r of this){var n;if(null!==e&&void 0!==e&&null!==(n=e.signal)&&void 0!==n&&n.aborted)throw new l({cause:e.signal.reason});yield[t++,r]}}.call(this)},drop:function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0;return null!=t&&u(t,"options"),null!=(null===t||void 0===t?void 0:t.signal)&&d(t.signal,"options.signal"),e=x(e),async function*(){var n;if(null!==t&&void 0!==t&&null!==(n=t.signal)&&void 0!==n&&n.aborted)throw new l;for await(const i of this){var r;if(null!==t&&void 0!==t&&null!==(r=t.signal)&&void 0!==r&&r.aborted)throw new l;e--<=0&&(yield i)}}.call(this)},filter:N,flatMap:function(e,t){const n=C.call(this,e,t);return async function*(){for await(const e of n)yield*e}.call(this)},map:C,take:function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0;return null!=t&&u(t,"options"),null!=(null===t||void 0===t?void 0:t.signal)&&d(t.signal,"options.signal"),e=x(e),async function*(){var n;if(null!==t&&void 0!==t&&null!==(n=t.signal)&&void 0!==n&&n.aborted)throw new l;for await(const i of this){var r;if(null!==t&&void 0!==t&&null!==(r=t.signal)&&void 0!==r&&r.aborted)throw new l;if(!(e-- >0))return;yield i}}.call(this)},compose:function(e,t){if(null!=t&&u(t,"options"),null!=(null===t||void 0===t?void 0:t.signal)&&d(t.signal,"options.signal"),y(e)&&!b(e))throw new i("stream",e,"must be writable");const n=p(this,e);return null!==t&&void 0!==t&&t.signal&&g(t.signal,n),n}},e.exports.promiseReturningOperators={every:async function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0;if("function"!==typeof e)throw new o("fn",["Function","AsyncFunction"],e);return!await I.call(this,(async function(){return!await e(...arguments)}),t)},forEach:async function(e,t){if("function"!==typeof e)throw new o("fn",["Function","AsyncFunction"],e);for await(const n of C.call(this,(async function(t,n){return await e(t,n),P}),t));},reduce:async function(e,t,n){var i;if("function"!==typeof e)throw new o("reducer",["Function","AsyncFunction"],e);null!=n&&u(n,"options"),null!=(null===n||void 0===n?void 0:n.signal)&&d(n.signal,"options.signal");let a=arguments.length>1;if(null!==n&&void 0!==n&&null!==(i=n.signal)&&void 0!==i&&i.aborted){const e=new l(void 0,{cause:n.signal.reason});throw this.once("error",(()=>{})),await h(this.destroy(e)),e}const s=new r,c=s.signal;if(null!==n&&void 0!==n&&n.signal){const e={once:!0,[f]:this};n.signal.addEventListener("abort",(()=>s.abort()),e)}let p=!1;try{for await(const r of this){var g;if(p=!0,null!==n&&void 0!==n&&null!==(g=n.signal)&&void 0!==g&&g.aborted)throw new l;a?t=await e(t,r,{signal:c}):(t=r,a=!0)}if(!p&&!a)throw new k}finally{s.abort()}return t},toArray:async function(e){null!=e&&u(e,"options"),null!=(null===e||void 0===e?void 0:e.signal)&&d(e.signal,"options.signal");const t=[];for await(const r of this){var n;if(null!==e&&void 0!==e&&null!==(n=e.signal)&&void 0!==n&&n.aborted)throw new l(void 0,{cause:e.signal.reason});w(t,r)}return t},some:I,find:async function(e,t){for await(const n of N.call(this,e,t))return n}}},424:(e,t,n)=>{"use strict";const{ObjectSetPrototypeOf:r}=n(29606);e.exports=o;const i=n(28578);function o(e){if(!(this instanceof o))return new o(e);i.call(this,e)}r(o.prototype,i.prototype),r(o,i),o.prototype._transform=function(e,t,n){n(null,e)}},33354:(e,t,n)=>{const r=n(1426),{ArrayIsArray:i,Promise:o,SymbolAsyncIterator:a}=n(29606),s=n(34560),{once:l}=n(30793),d=n(9472),c=n(3437),{aggregateTwoErrors:u,codes:{ERR_INVALID_ARG_TYPE:f,ERR_INVALID_RETURN_VALUE:h,ERR_MISSING_ARGS:p,ERR_STREAM_DESTROYED:g,ERR_STREAM_PREMATURE_CLOSE:b},AbortError:y}=n(82009),{validateFunction:w,validateAbortSignal:m}=n(8595),{isIterable:_,isReadable:v,isReadableNodeStream:E,isNodeStream:S,isTransformStream:A,isWebStream:R,isReadableStream:P,isReadableEnded:T}=n(30716),C=globalThis.AbortController||n(35935).AbortController;let I,N;function k(e,t,n){let r=!1;e.on("close",(()=>{r=!0}));return{destroy:t=>{r||(r=!0,d.destroyer(e,t||new g("pipe")))},cleanup:s(e,{readable:t,writable:n},(e=>{r=!e}))}}function x(e){if(_(e))return e;if(E(e))return async function*(e){N||(N=n(26634));yield*N.prototype[a].call(e)}(e);throw new f("val",["Readable","Iterable","AsyncIterable"],e)}async function M(e,t,n,r){let i,{end:a}=r,l=null;const d=e=>{if(e&&(i=e),l){const e=l;l=null,e()}},c=()=>new o(((e,t)=>{i?t(i):l=()=>{i?t(i):e()}}));t.on("drain",d);const f=s(t,{readable:!1},d);try{t.writableNeedDrain&&await c();for await(const n of e)t.write(n)||await c();a&&t.end(),await c(),n()}catch(h){n(i!==h?u(i,h):h)}finally{f(),t.off("drain",d)}}async function O(e,t,n,r){let{end:i}=r;A(t)&&(t=t.writable);const o=t.getWriter();try{for await(const t of e)await o.ready,o.write(t).catch((()=>{}));await o.ready,i&&await o.close(),n()}catch(a){try{await o.abort(a),n(a)}catch(a){n(a)}}}function D(e,t,o){if(1===e.length&&i(e[0])&&(e=e[0]),e.length<2)throw new p("streams");const a=new C,s=a.signal,l=null===o||void 0===o?void 0:o.signal,d=[];function u(){j(new y)}let g,b;m(l,"options.signal"),null===l||void 0===l||l.addEventListener("abort",u);const w=[];let T,N=0;function D(e){j(e,0===--N)}function j(e,n){if(!e||g&&"ERR_STREAM_PREMATURE_CLOSE"!==g.code||(g=e),g||n){for(;w.length;)w.shift()(g);null===l||void 0===l||l.removeEventListener("abort",u),a.abort(),n&&(g||d.forEach((e=>e())),r.nextTick(t,g,b))}}for(let F=0;F<e.length;F++){const K=e[F],B=F<e.length-1,q=F>0,H=B||!1!==(null===o||void 0===o?void 0:o.end),Z=F===e.length-1;if(S(K)){if(H){const{destroy:Y,cleanup:G}=k(K,B,q);w.push(Y),v(K)&&Z&&d.push(G)}function W(e){e&&"AbortError"!==e.name&&"ERR_STREAM_PREMATURE_CLOSE"!==e.code&&D(e)}K.on("error",W),v(K)&&Z&&d.push((()=>{K.removeListener("error",W)}))}if(0===F)if("function"===typeof K){if(T=K({signal:s}),!_(T))throw new h("Iterable, AsyncIterable or Stream","source",T)}else T=_(K)||E(K)||A(K)?K:c.from(K);else if("function"===typeof K){var $;if(A(T))T=x(null===($=T)||void 0===$?void 0:$.readable);else T=x(T);if(T=K(T,{signal:s}),B){if(!_(T,!0))throw new h("AsyncIterable",`transform[${F-1}]`,T)}else{var U;I||(I=n(424));const V=new I({objectMode:!0}),z=null===(U=T)||void 0===U?void 0:U.then;if("function"===typeof z)N++,z.call(T,(e=>{b=e,null!=e&&V.write(e),H&&V.end(),r.nextTick(D)}),(e=>{V.destroy(e),r.nextTick(D,e)}));else if(_(T,!0))N++,M(T,V,D,{end:H});else{if(!P(T)&&!A(T))throw new h("AsyncIterable or Promise","destination",T);{const Q=T.readable||T;N++,M(Q,V,D,{end:H})}}T=V;const{destroy:J,cleanup:X}=k(T,!1,!0);w.push(J),Z&&d.push(X)}}else if(S(K)){if(E(T)){N+=2;const ee=L(T,K,D,{end:H});v(K)&&Z&&d.push(ee)}else if(A(T)||P(T)){const te=T.readable||T;N++,M(te,K,D,{end:H})}else{if(!_(T))throw new f("val",["Readable","Iterable","AsyncIterable","ReadableStream","TransformStream"],T);N++,M(T,K,D,{end:H})}T=K}else if(R(K)){if(E(T))N++,O(x(T),K,D,{end:H});else if(P(T)||_(T))N++,O(T,K,D,{end:H});else{if(!A(T))throw new f("val",["Readable","Iterable","AsyncIterable","ReadableStream","TransformStream"],T);N++,O(T.readable,K,D,{end:H})}T=K}else T=c.from(K)}return(null!==s&&void 0!==s&&s.aborted||null!==l&&void 0!==l&&l.aborted)&&r.nextTick(u),T}function L(e,t,n,i){let{end:o}=i,a=!1;if(t.on("close",(()=>{a||n(new b)})),e.pipe(t,{end:!1}),o){function l(){a=!0,t.end()}T(e)?r.nextTick(l):e.once("end",l)}else n();return s(e,{readable:!0,writable:!1},(t=>{const r=e._readableState;t&&"ERR_STREAM_PREMATURE_CLOSE"===t.code&&r&&r.ended&&!r.errored&&!r.errorEmitted?e.once("end",n).once("error",n):n(t)})),s(t,{readable:!1,writable:!0},n)}e.exports={pipelineImpl:D,pipeline:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return D(t,l(function(e){return w(e[e.length-1],"streams[stream.length - 1]"),e.pop()}(t)))}}},26634:(e,t,n)=>{const r=n(1426),{ArrayPrototypeIndexOf:i,NumberIsInteger:o,NumberIsNaN:a,NumberParseInt:s,ObjectDefineProperties:l,ObjectKeys:d,ObjectSetPrototypeOf:c,Promise:u,SafeSet:f,SymbolAsyncIterator:h,Symbol:p}=n(29606);e.exports=$,$.ReadableState=W;const{EventEmitter:g}=n(47465),{Stream:b,prependListener:y}=n(91466),{Buffer:w}=n(19778),{addAbortSignal:m}=n(82460),_=n(34560);let v=n(30793).debuglog("stream",(e=>{v=e}));const E=n(40338),S=n(9472),{getHighWaterMark:A,getDefaultHighWaterMark:R}=n(49584),{aggregateTwoErrors:P,codes:{ERR_INVALID_ARG_TYPE:T,ERR_METHOD_NOT_IMPLEMENTED:C,ERR_OUT_OF_RANGE:I,ERR_STREAM_PUSH_AFTER_EOF:N,ERR_STREAM_UNSHIFT_AFTER_END_EVENT:k}}=n(82009),{validateObject:x}=n(8595),M=p("kPaused"),{StringDecoder:O}=n(15948),D=n(42337);c($.prototype,b.prototype),c($,b);const L=()=>{},{errorOrDestroy:j}=S;function W(e,t,r){"boolean"!==typeof r&&(r=t instanceof n(3437)),this.objectMode=!(!e||!e.objectMode),r&&(this.objectMode=this.objectMode||!(!e||!e.readableObjectMode)),this.highWaterMark=e?A(this,e,"readableHighWaterMark",r):R(!1),this.buffer=new E,this.length=0,this.pipes=[],this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.constructed=!0,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this[M]=null,this.errorEmitted=!1,this.emitClose=!e||!1!==e.emitClose,this.autoDestroy=!e||!1!==e.autoDestroy,this.destroyed=!1,this.errored=null,this.closed=!1,this.closeEmitted=!1,this.defaultEncoding=e&&e.defaultEncoding||"utf8",this.awaitDrainWriters=null,this.multiAwaitDrain=!1,this.readingMore=!1,this.dataEmitted=!1,this.decoder=null,this.encoding=null,e&&e.encoding&&(this.decoder=new O(e.encoding),this.encoding=e.encoding)}function $(e){if(!(this instanceof $))return new $(e);const t=this instanceof n(3437);this._readableState=new W(e,this,t),e&&("function"===typeof e.read&&(this._read=e.read),"function"===typeof e.destroy&&(this._destroy=e.destroy),"function"===typeof e.construct&&(this._construct=e.construct),e.signal&&!t&&m(e.signal,this)),b.call(this,e),S.construct(this,(()=>{this._readableState.needReadable&&H(this,this._readableState)}))}function U(e,t,n,r){v("readableAddChunk",t);const i=e._readableState;let o;if(i.objectMode||("string"===typeof t?(n=n||i.defaultEncoding,i.encoding!==n&&(r&&i.encoding?t=w.from(t,n).toString(i.encoding):(t=w.from(t,n),n=""))):t instanceof w?n="":b._isUint8Array(t)?(t=b._uint8ArrayToBuffer(t),n=""):null!=t&&(o=new T("chunk",["string","Buffer","Uint8Array"],t))),o)j(e,o);else if(null===t)i.reading=!1,function(e,t){if(v("onEofChunk"),t.ended)return;if(t.decoder){const e=t.decoder.end();e&&e.length&&(t.buffer.push(e),t.length+=t.objectMode?1:e.length)}t.ended=!0,t.sync?B(e):(t.needReadable=!1,t.emittedReadable=!0,q(e))}(e,i);else if(i.objectMode||t&&t.length>0)if(r)if(i.endEmitted)j(e,new k);else{if(i.destroyed||i.errored)return!1;F(e,i,t,!0)}else if(i.ended)j(e,new N);else{if(i.destroyed||i.errored)return!1;i.reading=!1,i.decoder&&!n?(t=i.decoder.write(t),i.objectMode||0!==t.length?F(e,i,t,!1):H(e,i)):F(e,i,t,!1)}else r||(i.reading=!1,H(e,i));return!i.ended&&(i.length<i.highWaterMark||0===i.length)}function F(e,t,n,r){t.flowing&&0===t.length&&!t.sync&&e.listenerCount("data")>0?(t.multiAwaitDrain?t.awaitDrainWriters.clear():t.awaitDrainWriters=null,t.dataEmitted=!0,e.emit("data",n)):(t.length+=t.objectMode?1:n.length,r?t.buffer.unshift(n):t.buffer.push(n),t.needReadable&&B(e)),H(e,t)}$.prototype.destroy=S.destroy,$.prototype._undestroy=S.undestroy,$.prototype._destroy=function(e,t){t(e)},$.prototype[g.captureRejectionSymbol]=function(e){this.destroy(e)},$.prototype.push=function(e,t){return U(this,e,t,!1)},$.prototype.unshift=function(e,t){return U(this,e,t,!0)},$.prototype.isPaused=function(){const e=this._readableState;return!0===e[M]||!1===e.flowing},$.prototype.setEncoding=function(e){const t=new O(e);this._readableState.decoder=t,this._readableState.encoding=this._readableState.decoder.encoding;const n=this._readableState.buffer;let r="";for(const i of n)r+=t.write(i);return n.clear(),""!==r&&n.push(r),this._readableState.length=r.length,this};function K(e,t){return e<=0||0===t.length&&t.ended?0:t.objectMode?1:a(e)?t.flowing&&t.length?t.buffer.first().length:t.length:e<=t.length?e:t.ended?t.length:0}function B(e){const t=e._readableState;v("emitReadable",t.needReadable,t.emittedReadable),t.needReadable=!1,t.emittedReadable||(v("emitReadable",t.flowing),t.emittedReadable=!0,r.nextTick(q,e))}function q(e){const t=e._readableState;v("emitReadable_",t.destroyed,t.length,t.ended),t.destroyed||t.errored||!t.length&&!t.ended||(e.emit("readable"),t.emittedReadable=!1),t.needReadable=!t.flowing&&!t.ended&&t.length<=t.highWaterMark,z(e)}function H(e,t){!t.readingMore&&t.constructed&&(t.readingMore=!0,r.nextTick(Z,e,t))}function Z(e,t){for(;!t.reading&&!t.ended&&(t.length<t.highWaterMark||t.flowing&&0===t.length);){const n=t.length;if(v("maybeReadMore read 0"),e.read(0),n===t.length)break}t.readingMore=!1}function Y(e){const t=e._readableState;t.readableListening=e.listenerCount("readable")>0,t.resumeScheduled&&!1===t[M]?t.flowing=!0:e.listenerCount("data")>0?e.resume():t.readableListening||(t.flowing=null)}function G(e){v("readable nexttick read 0"),e.read(0)}function V(e,t){v("resume",t.reading),t.reading||e.read(0),t.resumeScheduled=!1,e.emit("resume"),z(e),t.flowing&&!t.reading&&e.read(0)}function z(e){const t=e._readableState;for(v("flow",t.flowing);t.flowing&&null!==e.read(););}function J(e,t){"function"!==typeof e.read&&(e=$.wrap(e,{objectMode:!0}));const n=async function*(e,t){let n,r=L;function i(t){this===e?(r(),r=L):r=t}e.on("readable",i);const o=_(e,{writable:!1},(e=>{n=e?P(n,e):null,r(),r=L}));try{for(;;){const t=e.destroyed?null:e.read();if(null!==t)yield t;else{if(n)throw n;if(null===n)return;await new u(i)}}}catch(a){throw n=P(n,a),n}finally{!n&&!1===(null===t||void 0===t?void 0:t.destroyOnReturn)||void 0!==n&&!e._readableState.autoDestroy?(e.off("readable",i),o()):S.destroyer(e,null)}}(e,t);return n.stream=e,n}function X(e,t){if(0===t.length)return null;let n;return t.objectMode?n=t.buffer.shift():!e||e>=t.length?(n=t.decoder?t.buffer.join(""):1===t.buffer.length?t.buffer.first():t.buffer.concat(t.length),t.buffer.clear()):n=t.buffer.consume(e,t.decoder),n}function Q(e){const t=e._readableState;v("endReadable",t.endEmitted),t.endEmitted||(t.ended=!0,r.nextTick(ee,t,e))}function ee(e,t){if(v("endReadableNT",e.endEmitted,e.length),!e.errored&&!e.closeEmitted&&!e.endEmitted&&0===e.length)if(e.endEmitted=!0,t.emit("end"),t.writable&&!1===t.allowHalfOpen)r.nextTick(te,t);else if(e.autoDestroy){const e=t._writableState;(!e||e.autoDestroy&&(e.finished||!1===e.writable))&&t.destroy()}}function te(e){e.writable&&!e.writableEnded&&!e.destroyed&&e.end()}let ne;function re(){return void 0===ne&&(ne={}),ne}$.prototype.read=function(e){v("read",e),void 0===e?e=NaN:o(e)||(e=s(e,10));const t=this._readableState,n=e;if(e>t.highWaterMark&&(t.highWaterMark=function(e){if(e>1073741824)throw new I("size","<= 1GiB",e);return e--,e|=e>>>1,e|=e>>>2,e|=e>>>4,e|=e>>>8,e|=e>>>16,++e}(e)),0!==e&&(t.emittedReadable=!1),0===e&&t.needReadable&&((0!==t.highWaterMark?t.length>=t.highWaterMark:t.length>0)||t.ended))return v("read: emitReadable",t.length,t.ended),0===t.length&&t.ended?Q(this):B(this),null;if(0===(e=K(e,t))&&t.ended)return 0===t.length&&Q(this),null;let r,i=t.needReadable;if(v("need readable",i),(0===t.length||t.length-e<t.highWaterMark)&&(i=!0,v("length less than watermark",i)),t.ended||t.reading||t.destroyed||t.errored||!t.constructed)i=!1,v("reading, ended or constructing",i);else if(i){v("do read"),t.reading=!0,t.sync=!0,0===t.length&&(t.needReadable=!0);try{this._read(t.highWaterMark)}catch(a){j(this,a)}t.sync=!1,t.reading||(e=K(n,t))}return r=e>0?X(e,t):null,null===r?(t.needReadable=t.length<=t.highWaterMark,e=0):(t.length-=e,t.multiAwaitDrain?t.awaitDrainWriters.clear():t.awaitDrainWriters=null),0===t.length&&(t.ended||(t.needReadable=!0),n!==e&&t.ended&&Q(this)),null===r||t.errorEmitted||t.closeEmitted||(t.dataEmitted=!0,this.emit("data",r)),r},$.prototype._read=function(e){throw new C("_read()")},$.prototype.pipe=function(e,t){const n=this,i=this._readableState;1===i.pipes.length&&(i.multiAwaitDrain||(i.multiAwaitDrain=!0,i.awaitDrainWriters=new f(i.awaitDrainWriters?[i.awaitDrainWriters]:[]))),i.pipes.push(e),v("pipe count=%d opts=%j",i.pipes.length,t);const o=(!t||!1!==t.end)&&e!==r.stdout&&e!==r.stderr?s:b;function a(t,r){v("onunpipe"),t===n&&r&&!1===r.hasUnpiped&&(r.hasUnpiped=!0,function(){v("cleanup"),e.removeListener("close",p),e.removeListener("finish",g),l&&e.removeListener("drain",l);e.removeListener("error",h),e.removeListener("unpipe",a),n.removeListener("end",s),n.removeListener("end",b),n.removeListener("data",u),d=!0,l&&i.awaitDrainWriters&&(!e._writableState||e._writableState.needDrain)&&l()}())}function s(){v("onend"),e.end()}let l;i.endEmitted?r.nextTick(o):n.once("end",o),e.on("unpipe",a);let d=!1;function c(){d||(1===i.pipes.length&&i.pipes[0]===e?(v("false write response, pause",0),i.awaitDrainWriters=e,i.multiAwaitDrain=!1):i.pipes.length>1&&i.pipes.includes(e)&&(v("false write response, pause",i.awaitDrainWriters.size),i.awaitDrainWriters.add(e)),n.pause()),l||(l=function(e,t){return function(){const n=e._readableState;n.awaitDrainWriters===t?(v("pipeOnDrain",1),n.awaitDrainWriters=null):n.multiAwaitDrain&&(v("pipeOnDrain",n.awaitDrainWriters.size),n.awaitDrainWriters.delete(t)),n.awaitDrainWriters&&0!==n.awaitDrainWriters.size||!e.listenerCount("data")||e.resume()}}(n,e),e.on("drain",l))}function u(t){v("ondata");const n=e.write(t);v("dest.write",n),!1===n&&c()}function h(t){if(v("onerror",t),b(),e.removeListener("error",h),0===e.listenerCount("error")){const n=e._writableState||e._readableState;n&&!n.errorEmitted?j(e,t):e.emit("error",t)}}function p(){e.removeListener("finish",g),b()}function g(){v("onfinish"),e.removeListener("close",p),b()}function b(){v("unpipe"),n.unpipe(e)}return n.on("data",u),y(e,"error",h),e.once("close",p),e.once("finish",g),e.emit("pipe",n),!0===e.writableNeedDrain?i.flowing&&c():i.flowing||(v("pipe resume"),n.resume()),e},$.prototype.unpipe=function(e){const t=this._readableState;if(0===t.pipes.length)return this;if(!e){const e=t.pipes;t.pipes=[],this.pause();for(let t=0;t<e.length;t++)e[t].emit("unpipe",this,{hasUnpiped:!1});return this}const n=i(t.pipes,e);return-1===n||(t.pipes.splice(n,1),0===t.pipes.length&&this.pause(),e.emit("unpipe",this,{hasUnpiped:!1})),this},$.prototype.on=function(e,t){const n=b.prototype.on.call(this,e,t),i=this._readableState;return"data"===e?(i.readableListening=this.listenerCount("readable")>0,!1!==i.flowing&&this.resume()):"readable"===e&&(i.endEmitted||i.readableListening||(i.readableListening=i.needReadable=!0,i.flowing=!1,i.emittedReadable=!1,v("on readable",i.length,i.reading),i.length?B(this):i.reading||r.nextTick(G,this))),n},$.prototype.addListener=$.prototype.on,$.prototype.removeListener=function(e,t){const n=b.prototype.removeListener.call(this,e,t);return"readable"===e&&r.nextTick(Y,this),n},$.prototype.off=$.prototype.removeListener,$.prototype.removeAllListeners=function(e){const t=b.prototype.removeAllListeners.apply(this,arguments);return"readable"!==e&&void 0!==e||r.nextTick(Y,this),t},$.prototype.resume=function(){const e=this._readableState;return e.flowing||(v("resume"),e.flowing=!e.readableListening,function(e,t){t.resumeScheduled||(t.resumeScheduled=!0,r.nextTick(V,e,t))}(this,e)),e[M]=!1,this},$.prototype.pause=function(){return v("call pause flowing=%j",this._readableState.flowing),!1!==this._readableState.flowing&&(v("pause"),this._readableState.flowing=!1,this.emit("pause")),this._readableState[M]=!0,this},$.prototype.wrap=function(e){let t=!1;e.on("data",(n=>{!this.push(n)&&e.pause&&(t=!0,e.pause())})),e.on("end",(()=>{this.push(null)})),e.on("error",(e=>{j(this,e)})),e.on("close",(()=>{this.destroy()})),e.on("destroy",(()=>{this.destroy()})),this._read=()=>{t&&e.resume&&(t=!1,e.resume())};const n=d(e);for(let r=1;r<n.length;r++){const t=n[r];void 0===this[t]&&"function"===typeof e[t]&&(this[t]=e[t].bind(e))}return this},$.prototype[h]=function(){return J(this)},$.prototype.iterator=function(e){return void 0!==e&&x(e,"options"),J(this,e)},l($.prototype,{readable:{__proto__:null,get(){const e=this._readableState;return!!e&&!1!==e.readable&&!e.destroyed&&!e.errorEmitted&&!e.endEmitted},set(e){this._readableState&&(this._readableState.readable=!!e)}},readableDidRead:{__proto__:null,enumerable:!1,get:function(){return this._readableState.dataEmitted}},readableAborted:{__proto__:null,enumerable:!1,get:function(){return!(!1===this._readableState.readable||!this._readableState.destroyed&&!this._readableState.errored||this._readableState.endEmitted)}},readableHighWaterMark:{__proto__:null,enumerable:!1,get:function(){return this._readableState.highWaterMark}},readableBuffer:{__proto__:null,enumerable:!1,get:function(){return this._readableState&&this._readableState.buffer}},readableFlowing:{__proto__:null,enumerable:!1,get:function(){return this._readableState.flowing},set:function(e){this._readableState&&(this._readableState.flowing=e)}},readableLength:{__proto__:null,enumerable:!1,get(){return this._readableState.length}},readableObjectMode:{__proto__:null,enumerable:!1,get(){return!!this._readableState&&this._readableState.objectMode}},readableEncoding:{__proto__:null,enumerable:!1,get(){return this._readableState?this._readableState.encoding:null}},errored:{__proto__:null,enumerable:!1,get(){return this._readableState?this._readableState.errored:null}},closed:{__proto__:null,get(){return!!this._readableState&&this._readableState.closed}},destroyed:{__proto__:null,enumerable:!1,get(){return!!this._readableState&&this._readableState.destroyed},set(e){this._readableState&&(this._readableState.destroyed=e)}},readableEnded:{__proto__:null,enumerable:!1,get(){return!!this._readableState&&this._readableState.endEmitted}}}),l(W.prototype,{pipesCount:{__proto__:null,get(){return this.pipes.length}},paused:{__proto__:null,get(){return!1!==this[M]},set(e){this[M]=!!e}}}),$._fromList=X,$.from=function(e,t){return D($,e,t)},$.fromWeb=function(e,t){return re().newStreamReadableFromReadableStream(e,t)},$.toWeb=function(e,t){return re().newReadableStreamFromStreamReadable(e,t)},$.wrap=function(e,t){var n,r;return new $({objectMode:null===(n=null!==(r=e.readableObjectMode)&&void 0!==r?r:e.objectMode)||void 0===n||n,...t,destroy(t,n){S.destroyer(e,t),n(t)}}).wrap(e)}},49584:(e,t,n)=>{"use strict";const{MathFloor:r,NumberIsInteger:i}=n(29606),{ERR_INVALID_ARG_VALUE:o}=n(82009).codes;function a(e){return e?16:16384}e.exports={getHighWaterMark:function(e,t,n,s){const l=function(e,t,n){return null!=e.highWaterMark?e.highWaterMark:t?e[n]:null}(t,s,n);if(null!=l){if(!i(l)||l<0){throw new o(s?`options.${n}`:"options.highWaterMark",l)}return r(l)}return a(e.objectMode)},getDefaultHighWaterMark:a}},28578:(e,t,n)=>{"use strict";const{ObjectSetPrototypeOf:r,Symbol:i}=n(29606);e.exports=d;const{ERR_METHOD_NOT_IMPLEMENTED:o}=n(82009).codes,a=n(3437),{getHighWaterMark:s}=n(49584);r(d.prototype,a.prototype),r(d,a);const l=i("kCallback");function d(e){if(!(this instanceof d))return new d(e);const t=e?s(this,e,"readableHighWaterMark",!0):null;0===t&&(e={...e,highWaterMark:null,readableHighWaterMark:t,writableHighWaterMark:e.writableHighWaterMark||0}),a.call(this,e),this._readableState.sync=!1,this[l]=null,e&&("function"===typeof e.transform&&(this._transform=e.transform),"function"===typeof e.flush&&(this._flush=e.flush)),this.on("prefinish",u)}function c(e){"function"!==typeof this._flush||this.destroyed?(this.push(null),e&&e()):this._flush(((t,n)=>{t?e?e(t):this.destroy(t):(null!=n&&this.push(n),this.push(null),e&&e())}))}function u(){this._final!==c&&c.call(this)}d.prototype._final=c,d.prototype._transform=function(e,t,n){throw new o("_transform()")},d.prototype._write=function(e,t,n){const r=this._readableState,i=this._writableState,o=r.length;this._transform(e,t,((e,t)=>{e?n(e):(null!=t&&this.push(t),i.ended||o===r.length||r.length<r.highWaterMark?n():this[l]=n)}))},d.prototype._read=function(){if(this[l]){const e=this[l];this[l]=null,e()}}},30716:(e,t,n)=>{"use strict";const{Symbol:r,SymbolAsyncIterator:i,SymbolIterator:o,SymbolFor:a}=n(29606),s=r("kDestroyed"),l=r("kIsErrored"),d=r("kIsReadable"),c=r("kIsDisturbed"),u=a("nodejs.webstream.isClosedPromise"),f=a("nodejs.webstream.controllerErrorFunction");function h(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];var n;return!(!e||"function"!==typeof e.pipe||"function"!==typeof e.on||t&&("function"!==typeof e.pause||"function"!==typeof e.resume)||e._writableState&&!1===(null===(n=e._readableState)||void 0===n?void 0:n.readable)||e._writableState&&!e._readableState)}function p(e){var t;return!(!e||"function"!==typeof e.write||"function"!==typeof e.on||e._readableState&&!1===(null===(t=e._writableState)||void 0===t?void 0:t.writable))}function g(e){return e&&(e._readableState||e._writableState||"function"===typeof e.write&&"function"===typeof e.on||"function"===typeof e.pipe&&"function"===typeof e.on)}function b(e){return!(!e||g(e)||"function"!==typeof e.pipeThrough||"function"!==typeof e.getReader||"function"!==typeof e.cancel)}function y(e){return!(!e||g(e)||"function"!==typeof e.getWriter||"function"!==typeof e.abort)}function w(e){return!(!e||g(e)||"object"!==typeof e.readable||"object"!==typeof e.writable)}function m(e){if(!g(e))return null;const t=e._writableState,n=e._readableState,r=t||n;return!!(e.destroyed||e[s]||null!==r&&void 0!==r&&r.destroyed)}function _(e){if(!p(e))return null;if(!0===e.writableEnded)return!0;const t=e._writableState;return(null===t||void 0===t||!t.errored)&&("boolean"!==typeof(null===t||void 0===t?void 0:t.ended)?null:t.ended)}function v(e,t){if(!h(e))return null;const n=e._readableState;return(null===n||void 0===n||!n.errored)&&("boolean"!==typeof(null===n||void 0===n?void 0:n.endEmitted)?null:!!(n.endEmitted||!1===t&&!0===n.ended&&0===n.length))}function E(e){return e&&null!=e[d]?e[d]:"boolean"!==typeof(null===e||void 0===e?void 0:e.readable)?null:!m(e)&&(h(e)&&e.readable&&!v(e))}function S(e){return"boolean"!==typeof(null===e||void 0===e?void 0:e.writable)?null:!m(e)&&(p(e)&&e.writable&&!_(e))}function A(e){return"boolean"===typeof e._closed&&"boolean"===typeof e._defaultKeepAlive&&"boolean"===typeof e._removedConnection&&"boolean"===typeof e._removedContLen}function R(e){return"boolean"===typeof e._sent100&&A(e)}e.exports={kDestroyed:s,isDisturbed:function(e){var t;return!(!e||!(null!==(t=e[c])&&void 0!==t?t:e.readableDidRead||e.readableAborted))},kIsDisturbed:c,isErrored:function(e){var t,n,r,i,o,a,s,d,c,u;return!(!e||!(null!==(t=null!==(n=null!==(r=null!==(i=null!==(o=null!==(a=e[l])&&void 0!==a?a:e.readableErrored)&&void 0!==o?o:e.writableErrored)&&void 0!==i?i:null===(s=e._readableState)||void 0===s?void 0:s.errorEmitted)&&void 0!==r?r:null===(d=e._writableState)||void 0===d?void 0:d.errorEmitted)&&void 0!==n?n:null===(c=e._readableState)||void 0===c?void 0:c.errored)&&void 0!==t?t:null===(u=e._writableState)||void 0===u?void 0:u.errored))},kIsErrored:l,isReadable:E,kIsReadable:d,kIsClosedPromise:u,kControllerErrorFunction:f,isClosed:function(e){if(!g(e))return null;if("boolean"===typeof e.closed)return e.closed;const t=e._writableState,n=e._readableState;return"boolean"===typeof(null===t||void 0===t?void 0:t.closed)||"boolean"===typeof(null===n||void 0===n?void 0:n.closed)?(null===t||void 0===t?void 0:t.closed)||(null===n||void 0===n?void 0:n.closed):"boolean"===typeof e._closed&&A(e)?e._closed:null},isDestroyed:m,isDuplexNodeStream:function(e){return!(!e||"function"!==typeof e.pipe||!e._readableState||"function"!==typeof e.on||"function"!==typeof e.write)},isFinished:function(e,t){return g(e)?!!m(e)||(!1===(null===t||void 0===t?void 0:t.readable)||!E(e))&&(!1===(null===t||void 0===t?void 0:t.writable)||!S(e)):null},isIterable:function(e,t){return null!=e&&(!0===t?"function"===typeof e[i]:!1===t?"function"===typeof e[o]:"function"===typeof e[i]||"function"===typeof e[o])},isReadableNodeStream:h,isReadableStream:b,isReadableEnded:function(e){if(!h(e))return null;if(!0===e.readableEnded)return!0;const t=e._readableState;return!(!t||t.errored)&&("boolean"!==typeof(null===t||void 0===t?void 0:t.ended)?null:t.ended)},isReadableFinished:v,isReadableErrored:function(e){var t,n;return g(e)?e.readableErrored?e.readableErrored:null!==(t=null===(n=e._readableState)||void 0===n?void 0:n.errored)&&void 0!==t?t:null:null},isNodeStream:g,isWebStream:function(e){return b(e)||y(e)||w(e)},isWritable:S,isWritableNodeStream:p,isWritableStream:y,isWritableEnded:_,isWritableFinished:function(e,t){if(!p(e))return null;if(!0===e.writableFinished)return!0;const n=e._writableState;return(null===n||void 0===n||!n.errored)&&("boolean"!==typeof(null===n||void 0===n?void 0:n.finished)?null:!!(n.finished||!1===t&&!0===n.ended&&0===n.length))},isWritableErrored:function(e){var t,n;return g(e)?e.writableErrored?e.writableErrored:null!==(t=null===(n=e._writableState)||void 0===n?void 0:n.errored)&&void 0!==t?t:null:null},isServerRequest:function(e){var t;return"boolean"===typeof e._consuming&&"boolean"===typeof e._dumped&&void 0===(null===(t=e.req)||void 0===t?void 0:t.upgradeOrConnect)},isServerResponse:R,willEmitClose:function(e){if(!g(e))return null;const t=e._writableState,n=e._readableState,r=t||n;return!r&&R(e)||!!(r&&r.autoDestroy&&r.emitClose&&!1===r.closed)},isTransformStream:w}},80442:(e,t,n)=>{const r=n(1426),{ArrayPrototypeSlice:i,Error:o,FunctionPrototypeSymbolHasInstance:a,ObjectDefineProperty:s,ObjectDefineProperties:l,ObjectSetPrototypeOf:d,StringPrototypeToLowerCase:c,Symbol:u,SymbolHasInstance:f}=n(29606);e.exports=O,O.WritableState=x;const{EventEmitter:h}=n(47465),p=n(91466).Stream,{Buffer:g}=n(19778),b=n(9472),{addAbortSignal:y}=n(82460),{getHighWaterMark:w,getDefaultHighWaterMark:m}=n(49584),{ERR_INVALID_ARG_TYPE:_,ERR_METHOD_NOT_IMPLEMENTED:v,ERR_MULTIPLE_CALLBACK:E,ERR_STREAM_CANNOT_PIPE:S,ERR_STREAM_DESTROYED:A,ERR_STREAM_ALREADY_FINISHED:R,ERR_STREAM_NULL_VALUES:P,ERR_STREAM_WRITE_AFTER_END:T,ERR_UNKNOWN_ENCODING:C}=n(82009).codes,{errorOrDestroy:I}=b;function N(){}d(O.prototype,p.prototype),d(O,p);const k=u("kOnFinished");function x(e,t,r){"boolean"!==typeof r&&(r=t instanceof n(3437)),this.objectMode=!(!e||!e.objectMode),r&&(this.objectMode=this.objectMode||!(!e||!e.writableObjectMode)),this.highWaterMark=e?w(this,e,"writableHighWaterMark",r):m(!1),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;const i=!(!e||!1!==e.decodeStrings);this.decodeStrings=!i,this.defaultEncoding=e&&e.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=W.bind(void 0,t),this.writecb=null,this.writelen=0,this.afterWriteTickInfo=null,M(this),this.pendingcb=0,this.constructed=!0,this.prefinished=!1,this.errorEmitted=!1,this.emitClose=!e||!1!==e.emitClose,this.autoDestroy=!e||!1!==e.autoDestroy,this.errored=null,this.closed=!1,this.closeEmitted=!1,this[k]=[]}function M(e){e.buffered=[],e.bufferedIndex=0,e.allBuffers=!0,e.allNoop=!0}function O(e){const t=this instanceof n(3437);if(!t&&!a(O,this))return new O(e);this._writableState=new x(e,this,t),e&&("function"===typeof e.write&&(this._write=e.write),"function"===typeof e.writev&&(this._writev=e.writev),"function"===typeof e.destroy&&(this._destroy=e.destroy),"function"===typeof e.final&&(this._final=e.final),"function"===typeof e.construct&&(this._construct=e.construct),e.signal&&y(e.signal,this)),p.call(this,e),b.construct(this,(()=>{const e=this._writableState;e.writing||K(this,e),H(this,e)}))}function D(e,t,n,i){const o=e._writableState;if("function"===typeof n)i=n,n=o.defaultEncoding;else{if(n){if("buffer"!==n&&!g.isEncoding(n))throw new C(n)}else n=o.defaultEncoding;"function"!==typeof i&&(i=N)}if(null===t)throw new P;if(!o.objectMode)if("string"===typeof t)!1!==o.decodeStrings&&(t=g.from(t,n),n="buffer");else if(t instanceof g)n="buffer";else{if(!p._isUint8Array(t))throw new _("chunk",["string","Buffer","Uint8Array"],t);t=p._uint8ArrayToBuffer(t),n="buffer"}let a;return o.ending?a=new T:o.destroyed&&(a=new A("write")),a?(r.nextTick(i,a),I(e,a,!0),a):(o.pendingcb++,function(e,t,n,r,i){const o=t.objectMode?1:n.length;t.length+=o;const a=t.length<t.highWaterMark;a||(t.needDrain=!0);t.writing||t.corked||t.errored||!t.constructed?(t.buffered.push({chunk:n,encoding:r,callback:i}),t.allBuffers&&"buffer"!==r&&(t.allBuffers=!1),t.allNoop&&i!==N&&(t.allNoop=!1)):(t.writelen=o,t.writecb=i,t.writing=!0,t.sync=!0,e._write(n,r,t.onwrite),t.sync=!1);return a&&!t.errored&&!t.destroyed}(e,o,t,n,i))}function L(e,t,n,r,i,o,a){t.writelen=r,t.writecb=a,t.writing=!0,t.sync=!0,t.destroyed?t.onwrite(new A("write")):n?e._writev(i,t.onwrite):e._write(i,o,t.onwrite),t.sync=!1}function j(e,t,n,r){--t.pendingcb,r(n),F(t),I(e,n)}function W(e,t){const n=e._writableState,i=n.sync,o=n.writecb;"function"===typeof o?(n.writing=!1,n.writecb=null,n.length-=n.writelen,n.writelen=0,t?(t.stack,n.errored||(n.errored=t),e._readableState&&!e._readableState.errored&&(e._readableState.errored=t),i?r.nextTick(j,e,n,t,o):j(e,n,t,o)):(n.buffered.length>n.bufferedIndex&&K(e,n),i?null!==n.afterWriteTickInfo&&n.afterWriteTickInfo.cb===o?n.afterWriteTickInfo.count++:(n.afterWriteTickInfo={count:1,cb:o,stream:e,state:n},r.nextTick($,n.afterWriteTickInfo)):U(e,n,1,o))):I(e,new E)}function $(e){let{stream:t,state:n,count:r,cb:i}=e;return n.afterWriteTickInfo=null,U(t,n,r,i)}function U(e,t,n,r){for(!t.ending&&!e.destroyed&&0===t.length&&t.needDrain&&(t.needDrain=!1,e.emit("drain"));n-- >0;)t.pendingcb--,r();t.destroyed&&F(t),H(e,t)}function F(e){if(e.writing)return;for(let i=e.bufferedIndex;i<e.buffered.length;++i){var t;const{chunk:n,callback:r}=e.buffered[i],o=e.objectMode?1:n.length;e.length-=o,r(null!==(t=e.errored)&&void 0!==t?t:new A("write"))}const n=e[k].splice(0);for(let i=0;i<n.length;i++){var r;n[i](null!==(r=e.errored)&&void 0!==r?r:new A("end"))}M(e)}function K(e,t){if(t.corked||t.bufferProcessing||t.destroyed||!t.constructed)return;const{buffered:n,bufferedIndex:r,objectMode:o}=t,a=n.length-r;if(!a)return;let s=r;if(t.bufferProcessing=!0,a>1&&e._writev){t.pendingcb-=a-1;const r=t.allNoop?N:e=>{for(let t=s;t<n.length;++t)n[t].callback(e)},o=t.allNoop&&0===s?n:i(n,s);o.allBuffers=t.allBuffers,L(e,t,!0,t.length,o,"",r),M(t)}else{do{const{chunk:r,encoding:i,callback:a}=n[s];n[s++]=null;L(e,t,!1,o?1:r.length,r,i,a)}while(s<n.length&&!t.writing);s===n.length?M(t):s>256?(n.splice(0,s),t.bufferedIndex=0):t.bufferedIndex=s}t.bufferProcessing=!1}function B(e){return e.ending&&!e.destroyed&&e.constructed&&0===e.length&&!e.errored&&0===e.buffered.length&&!e.finished&&!e.writing&&!e.errorEmitted&&!e.closeEmitted}function q(e,t){t.prefinished||t.finalCalled||("function"!==typeof e._final||t.destroyed?(t.prefinished=!0,e.emit("prefinish")):(t.finalCalled=!0,function(e,t){let n=!1;function i(i){if(n)I(e,null!==i&&void 0!==i?i:E());else if(n=!0,t.pendingcb--,i){const n=t[k].splice(0);for(let e=0;e<n.length;e++)n[e](i);I(e,i,t.sync)}else B(t)&&(t.prefinished=!0,e.emit("prefinish"),t.pendingcb++,r.nextTick(Z,e,t))}t.sync=!0,t.pendingcb++;try{e._final(i)}catch(o){i(o)}t.sync=!1}(e,t)))}function H(e,t,n){B(t)&&(q(e,t),0===t.pendingcb&&(n?(t.pendingcb++,r.nextTick(((e,t)=>{B(t)?Z(e,t):t.pendingcb--}),e,t)):B(t)&&(t.pendingcb++,Z(e,t))))}function Z(e,t){t.pendingcb--,t.finished=!0;const n=t[k].splice(0);for(let r=0;r<n.length;r++)n[r]();if(e.emit("finish"),t.autoDestroy){const t=e._readableState;(!t||t.autoDestroy&&(t.endEmitted||!1===t.readable))&&e.destroy()}}x.prototype.getBuffer=function(){return i(this.buffered,this.bufferedIndex)},s(x.prototype,"bufferedRequestCount",{__proto__:null,get(){return this.buffered.length-this.bufferedIndex}}),s(O,f,{__proto__:null,value:function(e){return!!a(this,e)||this===O&&(e&&e._writableState instanceof x)}}),O.prototype.pipe=function(){I(this,new S)},O.prototype.write=function(e,t,n){return!0===D(this,e,t,n)},O.prototype.cork=function(){this._writableState.corked++},O.prototype.uncork=function(){const e=this._writableState;e.corked&&(e.corked--,e.writing||K(this,e))},O.prototype.setDefaultEncoding=function(e){if("string"===typeof e&&(e=c(e)),!g.isEncoding(e))throw new C(e);return this._writableState.defaultEncoding=e,this},O.prototype._write=function(e,t,n){if(!this._writev)throw new v("_write()");this._writev([{chunk:e,encoding:t}],n)},O.prototype._writev=null,O.prototype.end=function(e,t,n){const i=this._writableState;let a;if("function"===typeof e?(n=e,e=null,t=null):"function"===typeof t&&(n=t,t=null),null!==e&&void 0!==e){const n=D(this,e,t);n instanceof o&&(a=n)}return i.corked&&(i.corked=1,this.uncork()),a||(i.errored||i.ending?i.finished?a=new R("end"):i.destroyed&&(a=new A("end")):(i.ending=!0,H(this,i,!0),i.ended=!0)),"function"===typeof n&&(a||i.finished?r.nextTick(n,a):i[k].push(n)),this},l(O.prototype,{closed:{__proto__:null,get(){return!!this._writableState&&this._writableState.closed}},destroyed:{__proto__:null,get(){return!!this._writableState&&this._writableState.destroyed},set(e){this._writableState&&(this._writableState.destroyed=e)}},writable:{__proto__:null,get(){const e=this._writableState;return!!e&&!1!==e.writable&&!e.destroyed&&!e.errored&&!e.ending&&!e.ended},set(e){this._writableState&&(this._writableState.writable=!!e)}},writableFinished:{__proto__:null,get(){return!!this._writableState&&this._writableState.finished}},writableObjectMode:{__proto__:null,get(){return!!this._writableState&&this._writableState.objectMode}},writableBuffer:{__proto__:null,get(){return this._writableState&&this._writableState.getBuffer()}},writableEnded:{__proto__:null,get(){return!!this._writableState&&this._writableState.ending}},writableNeedDrain:{__proto__:null,get(){const e=this._writableState;return!!e&&(!e.destroyed&&!e.ending&&e.needDrain)}},writableHighWaterMark:{__proto__:null,get(){return this._writableState&&this._writableState.highWaterMark}},writableCorked:{__proto__:null,get(){return this._writableState?this._writableState.corked:0}},writableLength:{__proto__:null,get(){return this._writableState&&this._writableState.length}},errored:{__proto__:null,enumerable:!1,get(){return this._writableState?this._writableState.errored:null}},writableAborted:{__proto__:null,enumerable:!1,get:function(){return!(!1===this._writableState.writable||!this._writableState.destroyed&&!this._writableState.errored||this._writableState.finished)}}});const Y=b.destroy;let G;function V(){return void 0===G&&(G={}),G}O.prototype.destroy=function(e,t){const n=this._writableState;return!n.destroyed&&(n.bufferedIndex<n.buffered.length||n[k].length)&&r.nextTick(F,n),Y.call(this,e,t),this},O.prototype._undestroy=b.undestroy,O.prototype._destroy=function(e,t){t(e)},O.prototype[h.captureRejectionSymbol]=function(e){this.destroy(e)},O.fromWeb=function(e,t){return V().newStreamWritableFromWritableStream(e,t)},O.toWeb=function(e){return V().newWritableStreamFromStreamWritable(e)}},8595:(e,t,n)=>{"use strict";const{ArrayIsArray:r,ArrayPrototypeIncludes:i,ArrayPrototypeJoin:o,ArrayPrototypeMap:a,NumberIsInteger:s,NumberIsNaN:l,NumberMAX_SAFE_INTEGER:d,NumberMIN_SAFE_INTEGER:c,NumberParseInt:u,ObjectPrototypeHasOwnProperty:f,RegExpPrototypeExec:h,String:p,StringPrototypeToUpperCase:g,StringPrototypeTrim:b}=n(29606),{hideStackFrames:y,codes:{ERR_SOCKET_BAD_PORT:w,ERR_INVALID_ARG_TYPE:m,ERR_INVALID_ARG_VALUE:_,ERR_OUT_OF_RANGE:v,ERR_UNKNOWN_SIGNAL:E}}=n(82009),{normalizeEncoding:S}=n(30793),{isAsyncFunction:A,isArrayBufferView:R}=n(30793).types,P={};const T=/^[0-7]+$/;const C=y((function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:c,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:d;if("number"!==typeof e)throw new m(t,"number",e);if(!s(e))throw new v(t,"an integer",e);if(e<n||e>r)throw new v(t,`>= ${n} && <= ${r}`,e)})),I=y((function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:-2147483648,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:2147483647;if("number"!==typeof e)throw new m(t,"number",e);if(!s(e))throw new v(t,"an integer",e);if(e<n||e>r)throw new v(t,`>= ${n} && <= ${r}`,e)})),N=y((function(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if("number"!==typeof e)throw new m(t,"number",e);if(!s(e))throw new v(t,"an integer",e);const r=n?1:0,i=4294967295;if(e<r||e>i)throw new v(t,`>= ${r} && <= ${i}`,e)}));function k(e,t){if("string"!==typeof e)throw new m(t,"string",e)}const x=y(((e,t,n)=>{if(!i(n,e)){const r=o(a(n,(e=>"string"===typeof e?`'${e}'`:p(e))),", ");throw new _(t,e,"must be one of: "+r)}}));function M(e,t){if("boolean"!==typeof e)throw new m(t,"boolean",e)}function O(e,t,n){return null!=e&&f(e,t)?e[t]:n}const D=y((function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;const i=O(n,"allowArray",!1),o=O(n,"allowFunction",!1);if(!O(n,"nullable",!1)&&null===e||!i&&r(e)||"object"!==typeof e&&(!o||"function"!==typeof e))throw new m(t,"Object",e)})),L=y(((e,t)=>{if(null!=e&&"object"!==typeof e&&"function"!==typeof e)throw new m(t,"a dictionary",e)})),j=y((function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;if(!r(e))throw new m(t,"Array",e);if(e.length<n){throw new _(t,e,`must be longer than ${n}`)}}));const W=y((function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"buffer";if(!R(e))throw new m(t,["Buffer","TypedArray","DataView"],e)}));const $=y(((e,t)=>{if(void 0!==e&&(null===e||"object"!==typeof e||!("aborted"in e)))throw new m(t,"AbortSignal",e)})),U=y(((e,t)=>{if("function"!==typeof e)throw new m(t,"Function",e)})),F=y(((e,t)=>{if("function"!==typeof e||A(e))throw new m(t,"Function",e)})),K=y(((e,t)=>{if(void 0!==e)throw new m(t,"undefined",e)}));const B=/^(?:<[^>]*>)(?:\s*;\s*[^;"\s]+(?:=(")?[^;"\s]*\1)?)*$/;function q(e,t){if("undefined"===typeof e||!h(B,e))throw new _(t,e,'must be an array or string of format "</styles.css>; rel=preload; as=style"')}e.exports={isInt32:function(e){return e===(0|e)},isUint32:function(e){return e===e>>>0},parseFileMode:function(e,t,n){if("undefined"===typeof e&&(e=n),"string"===typeof e){if(null===h(T,e))throw new _(t,e,"must be a 32-bit unsigned integer or an octal string");e=u(e,8)}return N(e,t),e},validateArray:j,validateStringArray:function(e,t){j(e,t);for(let n=0;n<e.length;n++)k(e[n],`${t}[${n}]`)},validateBooleanArray:function(e,t){j(e,t);for(let n=0;n<e.length;n++)M(e[n],`${t}[${n}]`)},validateBoolean:M,validateBuffer:W,validateDictionary:L,validateEncoding:function(e,t){const n=S(t),r=e.length;if("hex"===n&&r%2!==0)throw new _("encoding",t,`is invalid for data of length ${r}`)},validateFunction:U,validateInt32:I,validateInteger:C,validateNumber:function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0,r=arguments.length>3?arguments[3]:void 0;if("number"!==typeof e)throw new m(t,"number",e);if(null!=n&&e<n||null!=r&&e>r||(null!=n||null!=r)&&l(e))throw new v(t,`${null!=n?`>= ${n}`:""}${null!=n&&null!=r?" && ":""}${null!=r?`<= ${r}`:""}`,e)},validateObject:D,validateOneOf:x,validatePlainFunction:F,validatePort:function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"Port",n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];if("number"!==typeof e&&"string"!==typeof e||"string"===typeof e&&0===b(e).length||+e!==+e>>>0||e>65535||0===e&&!n)throw new w(t,e,n);return 0|e},validateSignalName:function(e){if(k(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:"signal"),void 0===P[e]){if(void 0!==P[g(e)])throw new E(e+" (signals must use all capital letters)");throw new E(e)}},validateString:k,validateUint32:N,validateUndefined:K,validateUnion:function(e,t,n){if(!i(n,e))throw new m(t,`('${o(n,"|")}')`,e)},validateAbortSignal:$,validateLinkHeaderValue:function(e){if("string"===typeof e)return q(e,"hints"),e;if(r(e)){const t=e.length;let n="";if(0===t)return n;for(let r=0;r<t;r++){const i=e[r];q(i,"hints"),n+=i,r!==t-1&&(n+=", ")}return n}throw new _("hints",e,'must be an array or string of format "</styles.css>; rel=preload; as=style"')}}},44101:(e,t,n)=>{"use strict";const r=n(72185),i=n(75183),o=r.Readable.destroy;e.exports=r.Readable,e.exports._uint8ArrayToBuffer=r._uint8ArrayToBuffer,e.exports._isUint8Array=r._isUint8Array,e.exports.isDisturbed=r.isDisturbed,e.exports.isErrored=r.isErrored,e.exports.isReadable=r.isReadable,e.exports.Readable=r.Readable,e.exports.Writable=r.Writable,e.exports.Duplex=r.Duplex,e.exports.Transform=r.Transform,e.exports.PassThrough=r.PassThrough,e.exports.addAbortSignal=r.addAbortSignal,e.exports.finished=r.finished,e.exports.destroy=r.destroy,e.exports.destroy=o,e.exports.pipeline=r.pipeline,e.exports.compose=r.compose,Object.defineProperty(r,"promises",{configurable:!0,enumerable:!0,get:()=>i}),e.exports.Stream=r.Stream,e.exports.default=e.exports},82009:(e,t,n)=>{"use strict";const{format:r,inspect:i,AggregateError:o}=n(30793),a=globalThis.AggregateError||o,s=Symbol("kIsNodeError"),l=["string","function","number","object","Function","Object","boolean","bigint","symbol"],d=/^([A-Z][a-z0-9]*)+$/,c={};function u(e,t){if(!e)throw new c.ERR_INTERNAL_ASSERTION(t)}function f(e){let t="",n=e.length;const r="-"===e[0]?1:0;for(;n>=r+4;n-=3)t=`_${e.slice(n-3,n)}${t}`;return`${e.slice(0,n)}${t}`}function h(e,t,n){n||(n=Error);class i extends n{constructor(){for(var n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];super(function(e,t,n){if("function"===typeof t)return u(t.length<=n.length,`Code: ${e}; The provided arguments length (${n.length}) does not match the required ones (${t.length}).`),t(...n);const i=(t.match(/%[dfijoOs]/g)||[]).length;return u(i===n.length,`Code: ${e}; The provided arguments length (${n.length}) does not match the required ones (${i}).`),0===n.length?t:r(t,...n)}(e,t,i))}toString(){return`${this.name} [${e}]: ${this.message}`}}Object.defineProperties(i.prototype,{name:{value:n.name,writable:!0,enumerable:!1,configurable:!0},toString:{value(){return`${this.name} [${e}]: ${this.message}`},writable:!0,enumerable:!1,configurable:!0}}),i.prototype.code=e,i.prototype[s]=!0,c[e]=i}function p(e){const t="__node_internal_"+e.name;return Object.defineProperty(e,"name",{value:t}),e}class g extends Error{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"The operation was aborted",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0;if(void 0!==t&&"object"!==typeof t)throw new c.ERR_INVALID_ARG_TYPE("options","Object",t);super(e,t),this.code="ABORT_ERR",this.name="AbortError"}}h("ERR_ASSERTION","%s",Error),h("ERR_INVALID_ARG_TYPE",((e,t,n)=>{u("string"===typeof e,"'name' must be a string"),Array.isArray(t)||(t=[t]);let r="The ";e.endsWith(" argument")?r+=`${e} `:r+=`"${e}" ${e.includes(".")?"property":"argument"} `,r+="must be ";const o=[],a=[],s=[];for(const i of t)u("string"===typeof i,"All expected entries have to be of type string"),l.includes(i)?o.push(i.toLowerCase()):d.test(i)?a.push(i):(u("object"!==i,'The value "object" should be written as "Object"'),s.push(i));if(a.length>0){const e=o.indexOf("object");-1!==e&&(o.splice(o,e,1),a.push("Object"))}if(o.length>0){switch(o.length){case 1:r+=`of type ${o[0]}`;break;case 2:r+=`one of type ${o[0]} or ${o[1]}`;break;default:{const e=o.pop();r+=`one of type ${o.join(", ")}, or ${e}`}}(a.length>0||s.length>0)&&(r+=" or ")}if(a.length>0){switch(a.length){case 1:r+=`an instance of ${a[0]}`;break;case 2:r+=`an instance of ${a[0]} or ${a[1]}`;break;default:{const e=a.pop();r+=`an instance of ${a.join(", ")}, or ${e}`}}s.length>0&&(r+=" or ")}switch(s.length){case 0:break;case 1:s[0].toLowerCase()!==s[0]&&(r+="an "),r+=`${s[0]}`;break;case 2:r+=`one of ${s[0]} or ${s[1]}`;break;default:{const e=s.pop();r+=`one of ${s.join(", ")}, or ${e}`}}if(null==n)r+=`. Received ${n}`;else if("function"===typeof n&&n.name)r+=`. Received function ${n.name}`;else if("object"===typeof n){var c;if(null!==(c=n.constructor)&&void 0!==c&&c.name)r+=`. Received an instance of ${n.constructor.name}`;else{r+=`. Received ${i(n,{depth:-1})}`}}else{let e=i(n,{colors:!1});e.length>25&&(e=`${e.slice(0,25)}...`),r+=`. Received type ${typeof n} (${e})`}return r}),TypeError),h("ERR_INVALID_ARG_VALUE",(function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"is invalid",r=i(t);r.length>128&&(r=r.slice(0,128)+"...");return`The ${e.includes(".")?"property":"argument"} '${e}' ${n}. Received ${r}`}),TypeError),h("ERR_INVALID_RETURN_VALUE",((e,t,n)=>{var r;return`Expected ${e} to be returned from the "${t}" function but got ${null!==n&&void 0!==n&&null!==(r=n.constructor)&&void 0!==r&&r.name?`instance of ${n.constructor.name}`:"type "+typeof n}.`}),TypeError),h("ERR_MISSING_ARGS",(function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];let r;u(t.length>0,"At least one arg needs to be specified");const i=t.length;switch(t=(Array.isArray(t)?t:[t]).map((e=>`"${e}"`)).join(" or "),i){case 1:r+=`The ${t[0]} argument`;break;case 2:r+=`The ${t[0]} and ${t[1]} arguments`;break;default:{const e=t.pop();r+=`The ${t.join(", ")}, and ${e} arguments`}}return`${r} must be specified`}),TypeError),h("ERR_OUT_OF_RANGE",((e,t,n)=>{let r;return u(t,'Missing "range" argument'),Number.isInteger(n)&&Math.abs(n)>2**32?r=f(String(n)):"bigint"===typeof n?(r=String(n),(n>2n**32n||n<-(2n**32n))&&(r=f(r)),r+="n"):r=i(n),`The value of "${e}" is out of range. It must be ${t}. Received ${r}`}),RangeError),h("ERR_MULTIPLE_CALLBACK","Callback called multiple times",Error),h("ERR_METHOD_NOT_IMPLEMENTED","The %s method is not implemented",Error),h("ERR_STREAM_ALREADY_FINISHED","Cannot call %s after a stream was finished",Error),h("ERR_STREAM_CANNOT_PIPE","Cannot pipe, not readable",Error),h("ERR_STREAM_DESTROYED","Cannot call %s after a stream was destroyed",Error),h("ERR_STREAM_NULL_VALUES","May not write null values to stream",TypeError),h("ERR_STREAM_PREMATURE_CLOSE","Premature close",Error),h("ERR_STREAM_PUSH_AFTER_EOF","stream.push() after EOF",Error),h("ERR_STREAM_UNSHIFT_AFTER_END_EVENT","stream.unshift() after end event",Error),h("ERR_STREAM_WRITE_AFTER_END","write after end",Error),h("ERR_UNKNOWN_ENCODING","Unknown encoding: %s",TypeError),e.exports={AbortError:g,aggregateTwoErrors:p((function(e,t){if(e&&t&&e!==t){if(Array.isArray(t.errors))return t.errors.push(e),t;const n=new a([t,e],t.message);return n.code=t.code,n}return e||t})),hideStackFrames:p,codes:c}},29606:e=>{"use strict";e.exports={ArrayIsArray:e=>Array.isArray(e),ArrayPrototypeIncludes:(e,t)=>e.includes(t),ArrayPrototypeIndexOf:(e,t)=>e.indexOf(t),ArrayPrototypeJoin:(e,t)=>e.join(t),ArrayPrototypeMap:(e,t)=>e.map(t),ArrayPrototypePop:(e,t)=>e.pop(t),ArrayPrototypePush:(e,t)=>e.push(t),ArrayPrototypeSlice:(e,t,n)=>e.slice(t,n),Error:Error,FunctionPrototypeCall(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];return e.call(t,...r)},FunctionPrototypeSymbolHasInstance:(e,t)=>Function.prototype[Symbol.hasInstance].call(e,t),MathFloor:Math.floor,Number:Number,NumberIsInteger:Number.isInteger,NumberIsNaN:Number.isNaN,NumberMAX_SAFE_INTEGER:Number.MAX_SAFE_INTEGER,NumberMIN_SAFE_INTEGER:Number.MIN_SAFE_INTEGER,NumberParseInt:Number.parseInt,ObjectDefineProperties:(e,t)=>Object.defineProperties(e,t),ObjectDefineProperty:(e,t,n)=>Object.defineProperty(e,t,n),ObjectGetOwnPropertyDescriptor:(e,t)=>Object.getOwnPropertyDescriptor(e,t),ObjectKeys:e=>Object.keys(e),ObjectSetPrototypeOf:(e,t)=>Object.setPrototypeOf(e,t),Promise:Promise,PromisePrototypeCatch:(e,t)=>e.catch(t),PromisePrototypeThen:(e,t,n)=>e.then(t,n),PromiseReject:e=>Promise.reject(e),ReflectApply:Reflect.apply,RegExpPrototypeTest:(e,t)=>e.test(t),SafeSet:Set,String:String,StringPrototypeSlice:(e,t,n)=>e.slice(t,n),StringPrototypeToLowerCase:e=>e.toLowerCase(),StringPrototypeToUpperCase:e=>e.toUpperCase(),StringPrototypeTrim:e=>e.trim(),Symbol:Symbol,SymbolFor:Symbol.for,SymbolAsyncIterator:Symbol.asyncIterator,SymbolHasInstance:Symbol.hasInstance,SymbolIterator:Symbol.iterator,TypedArrayPrototypeSet:(e,t,n)=>e.set(t,n),Uint8Array:Uint8Array}},30793:(e,t,n)=>{"use strict";const r=n(19778),i=Object.getPrototypeOf((async function(){})).constructor,o=globalThis.Blob||r.Blob,a="undefined"!==typeof o?function(e){return e instanceof o}:function(e){return!1};class s extends Error{constructor(e){if(!Array.isArray(e))throw new TypeError("Expected input to be an Array, got "+typeof e);let t="";for(let n=0;n<e.length;n++)t+=`    ${e[n].stack}\n`;super(t),this.name="AggregateError",this.errors=e}}e.exports={AggregateError:s,kEmptyObject:Object.freeze({}),once(e){let t=!1;return function(){if(!t){t=!0;for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];e.apply(this,r)}}},createDeferredPromise:function(){let e,t;return{promise:new Promise(((n,r)=>{e=n,t=r})),resolve:e,reject:t}},promisify:e=>new Promise(((t,n)=>{e((function(e){if(e)return n(e);for(var r=arguments.length,i=new Array(r>1?r-1:0),o=1;o<r;o++)i[o-1]=arguments[o];return t(...i)}))})),debuglog:()=>function(){},format(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return e.replace(/%([sdifj])/g,(function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];let[i,o]=t;const a=n.shift();if("f"===o)return a.toFixed(6);if("j"===o)return JSON.stringify(a);if("s"===o&&"object"===typeof a){return`${a.constructor!==Object?a.constructor.name:""} {}`.trim()}return a.toString()}))},inspect(e){switch(typeof e){case"string":if(e.includes("'")){if(!e.includes('"'))return`"${e}"`;if(!e.includes("`")&&!e.includes("${"))return`\`${e}\``}return`'${e}'`;case"number":return isNaN(e)?"NaN":Object.is(e,-0)?String(e):e;case"bigint":return`${String(e)}n`;case"boolean":case"undefined":return String(e);case"object":return"{}"}},types:{isAsyncFunction:e=>e instanceof i,isArrayBufferView:e=>ArrayBuffer.isView(e)},isBlob:a},e.exports.promisify.custom=Symbol.for("nodejs.util.promisify.custom")},72185:(e,t,n)=>{const{Buffer:r}=n(19778),{ObjectDefineProperty:i,ObjectKeys:o,ReflectApply:a}=n(29606),{promisify:{custom:s}}=n(30793),{streamReturningOperators:l,promiseReturningOperators:d}=n(62737),{codes:{ERR_ILLEGAL_CONSTRUCTOR:c}}=n(82009),u=n(38695),{pipeline:f}=n(33354),{destroyer:h}=n(9472),p=n(34560),g=n(75183),b=n(30716),y=e.exports=n(91466).Stream;y.isDisturbed=b.isDisturbed,y.isErrored=b.isErrored,y.isReadable=b.isReadable,y.Readable=n(26634);for(const _ of o(l)){const v=l[_];function w(){if(new.target)throw c();for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return y.Readable.from(a(v,this,t))}i(w,"name",{__proto__:null,value:v.name}),i(w,"length",{__proto__:null,value:v.length}),i(y.Readable.prototype,_,{__proto__:null,value:w,enumerable:!1,configurable:!0,writable:!0})}for(const E of o(d)){const S=d[E];function w(){if(new.target)throw c();for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return a(S,this,t)}i(w,"name",{__proto__:null,value:S.name}),i(w,"length",{__proto__:null,value:S.length}),i(y.Readable.prototype,E,{__proto__:null,value:w,enumerable:!1,configurable:!0,writable:!0})}y.Writable=n(80442),y.Duplex=n(3437),y.Transform=n(28578),y.PassThrough=n(424),y.pipeline=f;const{addAbortSignal:m}=n(82460);y.addAbortSignal=m,y.finished=p,y.destroy=h,y.compose=u,i(y,"promises",{__proto__:null,configurable:!0,enumerable:!0,get:()=>g}),i(f,s,{__proto__:null,enumerable:!0,get:()=>g.pipeline}),i(p,s,{__proto__:null,enumerable:!0,get:()=>g.finished}),y.Stream=y,y._isUint8Array=function(e){return e instanceof Uint8Array},y._uint8ArrayToBuffer=function(e){return r.from(e.buffer,e.byteOffset,e.byteLength)}},75183:(e,t,n)=>{"use strict";const{ArrayPrototypePop:r,Promise:i}=n(29606),{isIterable:o,isNodeStream:a,isWebStream:s}=n(30716),{pipelineImpl:l}=n(33354),{finished:d}=n(34560);n(72185),e.exports={finished:d,pipeline:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new i(((e,n)=>{let i,d;const c=t[t.length-1];if(c&&"object"===typeof c&&!a(c)&&!o(c)&&!s(c)){const e=r(t);i=e.signal,d=e.end}l(t,((t,r)=>{t?n(t):e(r)}),{signal:i,end:d})}))}}}}]);
//# sourceMappingURL=517.75ae0499.chunk.js.map