(self.webpackChunkbiconomy=self.webpackChunkbiconomy||[]).push([[133],{11280:(e,t,n)=>{"use strict";const{AbortError:r,codes:i}=n(13402),{isNodeStream:o,isWebStream:a,kControllerErrorFunction:s}=n(84358),l=n(1255),{ERR_INVALID_ARG_TYPE:d}=i;e.exports.addAbortSignal=function(t,n){if(((e,t)=>{if("object"!==typeof e||!("aborted"in e))throw new d(t,"AbortSignal",e)})(t,"signal"),!o(n)&&!a(n))throw new d("stream",["ReadableStream","WritableStream","Stream"],n);return e.exports.addAbortSignalNoValidate(t,n)},e.exports.addAbortSignalNoValidate=function(e,t){if("object"!==typeof e||!("aborted"in e))return t;const n=o(t)?()=>{t.destroy(new r(void 0,{cause:e.reason}))}:()=>{t[s](new r(void 0,{cause:e.reason}))};return e.aborted?n():(e.addEventListener("abort",n),l(t,(()=>e.removeEventListener("abort",n)))),t}},94886:(e,t,n)=>{"use strict";const{StringPrototypeSlice:r,SymbolIterator:i,TypedArrayPrototypeSet:o,Uint8Array:a}=n(7019),{Buffer:s}=n(19778),{inspect:l}=n(56799);e.exports=class{constructor(){this.head=null,this.tail=null,this.length=0}push(e){const t={data:e,next:null};this.length>0?this.tail.next=t:this.head=t,this.tail=t,++this.length}unshift(e){const t={data:e,next:this.head};0===this.length&&(this.tail=t),this.head=t,++this.length}shift(){if(0===this.length)return;const e=this.head.data;return 1===this.length?this.head=this.tail=null:this.head=this.head.next,--this.length,e}clear(){this.head=this.tail=null,this.length=0}join(e){if(0===this.length)return"";let t=this.head,n=""+t.data;for(;null!==(t=t.next);)n+=e+t.data;return n}concat(e){if(0===this.length)return s.alloc(0);const t=s.allocUnsafe(e>>>0);let n=this.head,r=0;for(;n;)o(t,n.data,r),r+=n.data.length,n=n.next;return t}consume(e,t){const n=this.head.data;if(e<n.length){const t=n.slice(0,e);return this.head.data=n.slice(e),t}return e===n.length?this.shift():t?this._getString(e):this._getBuffer(e)}first(){return this.head.data}*[i](){for(let e=this.head;e;e=e.next)yield e.data}_getString(e){let t="",n=this.head,i=0;do{const o=n.data;if(!(e>o.length)){e===o.length?(t+=o,++i,n.next?this.head=n.next:this.head=this.tail=null):(t+=r(o,0,e),this.head=n,n.data=r(o,e));break}t+=o,e-=o.length,++i}while(null!==(n=n.next));return this.length-=i,t}_getBuffer(e){const t=s.allocUnsafe(e),n=e;let r=this.head,i=0;do{const s=r.data;if(!(e>s.length)){e===s.length?(o(t,s,n-e),++i,r.next?this.head=r.next:this.head=this.tail=null):(o(t,new a(s.buffer,s.byteOffset,e),n-e),this.head=r,r.data=s.slice(e));break}o(t,s,n-e),e-=s.length,++i}while(null!==(r=r.next));return this.length-=i,t}[Symbol.for("nodejs.util.inspect.custom")](e,t){return l(this,{...t,depth:0,customInspect:!1})}}},39972:(e,t,n)=>{"use strict";const{pipeline:r}=n(19758),i=n(6610),{destroyer:o}=n(30680),{isNodeStream:a,isReadable:s,isWritable:l,isWebStream:d,isTransformStream:c,isWritableStream:u,isReadableStream:h}=n(84358),{AbortError:f,codes:{ERR_INVALID_ARG_VALUE:p,ERR_MISSING_ARGS:b}}=n(13402),g=n(1255);e.exports=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];if(0===t.length)throw new b("streams");if(1===t.length)return i.from(t[0]);const y=[...t];if("function"===typeof t[0]&&(t[0]=i.from(t[0])),"function"===typeof t[t.length-1]){const e=t.length-1;t[e]=i.from(t[e])}for(let r=0;r<t.length;++r)if(a(t[r])||d(t[r])){if(r<t.length-1&&!(s(t[r])||h(t[r])||c(t[r])))throw new p(`streams[${r}]`,y[r],"must be readable");if(r>0&&!(l(t[r])||u(t[r])||c(t[r])))throw new p(`streams[${r}]`,y[r],"must be writable")}let m,w,_,v,S;const E=t[0],R=r(t,(function(e){const t=v;v=null,t?t(e):e?S.destroy(e):T||A||S.destroy()})),A=!!(l(E)||u(E)||c(E)),T=!!(s(R)||h(R)||c(R));if(S=new i({writableObjectMode:!(null===E||void 0===E||!E.writableObjectMode),readableObjectMode:!(null===R||void 0===R||!R.writableObjectMode),writable:A,readable:T}),A){if(a(E))S._write=function(e,t,n){E.write(e,t)?n():m=n},S._final=function(e){E.end(),w=e},E.on("drain",(function(){if(m){const e=m;m=null,e()}}));else if(d(E)){const e=(c(E)?E.writable:E).getWriter();S._write=async function(t,n,r){try{await e.ready,e.write(t).catch((()=>{})),r()}catch(i){r(i)}},S._final=async function(t){try{await e.ready,e.close().catch((()=>{})),w=t}catch(n){t(n)}}}const e=c(R)?R.readable:R;g(e,(()=>{if(w){const e=w;w=null,e()}}))}if(T)if(a(R))R.on("readable",(function(){if(_){const e=_;_=null,e()}})),R.on("end",(function(){S.push(null)})),S._read=function(){for(;;){const e=R.read();if(null===e)return void(_=S._read);if(!S.push(e))return}};else if(d(R)){const e=(c(R)?R.readable:R).getReader();S._read=async function(){for(;;)try{const{value:t,done:n}=await e.read();if(!S.push(t))return;if(n)return void S.push(null)}catch{return}}}return S._destroy=function(e,t){e||null===v||(e=new f),_=null,m=null,w=null,null===v?t(e):(v=t,a(R)&&o(R,e))},S}},30680:(e,t,n)=>{"use strict";const r=n(1426),{aggregateTwoErrors:i,codes:{ERR_MULTIPLE_CALLBACK:o},AbortError:a}=n(13402),{Symbol:s}=n(7019),{kDestroyed:l,isDestroyed:d,isFinished:c,isServerRequest:u}=n(84358),h=s("kDestroy"),f=s("kConstruct");function p(e,t,n){e&&(e.stack,t&&!t.errored&&(t.errored=e),n&&!n.errored&&(n.errored=e))}function b(e,t,n){let i=!1;function o(t){if(i)return;i=!0;const o=e._readableState,a=e._writableState;p(t,a,o),a&&(a.closed=!0),o&&(o.closed=!0),"function"===typeof n&&n(t),t?r.nextTick(g,e,t):r.nextTick(y,e)}try{e._destroy(t||null,o)}catch(t){o(t)}}function g(e,t){m(e,t),y(e)}function y(e){const t=e._readableState,n=e._writableState;n&&(n.closeEmitted=!0),t&&(t.closeEmitted=!0),(null!==n&&void 0!==n&&n.emitClose||null!==t&&void 0!==t&&t.emitClose)&&e.emit("close")}function m(e,t){const n=e._readableState,r=e._writableState;null!==r&&void 0!==r&&r.errorEmitted||null!==n&&void 0!==n&&n.errorEmitted||(r&&(r.errorEmitted=!0),n&&(n.errorEmitted=!0),e.emit("error",t))}function w(e,t,n){const i=e._readableState,o=e._writableState;if(null!==o&&void 0!==o&&o.destroyed||null!==i&&void 0!==i&&i.destroyed)return this;null!==i&&void 0!==i&&i.autoDestroy||null!==o&&void 0!==o&&o.autoDestroy?e.destroy(t):t&&(t.stack,o&&!o.errored&&(o.errored=t),i&&!i.errored&&(i.errored=t),n?r.nextTick(m,e,t):m(e,t))}function _(e){let t=!1;function n(n){if(t)return void w(e,null!==n&&void 0!==n?n:new o);t=!0;const i=e._readableState,a=e._writableState,s=a||i;i&&(i.constructed=!0),a&&(a.constructed=!0),s.destroyed?e.emit(h,n):n?w(e,n,!0):r.nextTick(v,e)}try{e._construct((e=>{r.nextTick(n,e)}))}catch(i){r.nextTick(n,i)}}function v(e){e.emit(f)}function S(e){return(null===e||void 0===e?void 0:e.setHeader)&&"function"===typeof e.abort}function E(e){e.emit("close")}function R(e,t){e.emit("error",t),r.nextTick(E,e)}e.exports={construct:function(e,t){if("function"!==typeof e._construct)return;const n=e._readableState,i=e._writableState;n&&(n.constructed=!1),i&&(i.constructed=!1),e.once(f,t),e.listenerCount(f)>1||r.nextTick(_,e)},destroyer:function(e,t){e&&!d(e)&&(t||c(e)||(t=new a),u(e)?(e.socket=null,e.destroy(t)):S(e)?e.abort():S(e.req)?e.req.abort():"function"===typeof e.destroy?e.destroy(t):"function"===typeof e.close?e.close():t?r.nextTick(R,e,t):r.nextTick(E,e),e.destroyed||(e[l]=!0))},destroy:function(e,t){const n=this._readableState,r=this._writableState,o=r||n;return null!==r&&void 0!==r&&r.destroyed||null!==n&&void 0!==n&&n.destroyed?("function"===typeof t&&t(),this):(p(e,r,n),r&&(r.destroyed=!0),n&&(n.destroyed=!0),o.constructed?b(this,e,t):this.once(h,(function(n){b(this,i(n,e),t)})),this)},undestroy:function(){const e=this._readableState,t=this._writableState;e&&(e.constructed=!0,e.closed=!1,e.closeEmitted=!1,e.destroyed=!1,e.errored=null,e.errorEmitted=!1,e.reading=!1,e.ended=!1===e.readable,e.endEmitted=!1===e.readable),t&&(t.constructed=!0,t.destroyed=!1,t.closed=!1,t.closeEmitted=!1,t.errored=null,t.errorEmitted=!1,t.finalCalled=!1,t.prefinished=!1,t.ended=!1===t.writable,t.ending=!1===t.writable,t.finished=!1===t.writable)},errorOrDestroy:w}},6610:(e,t,n)=>{"use strict";const{ObjectDefineProperties:r,ObjectGetOwnPropertyDescriptor:i,ObjectKeys:o,ObjectSetPrototypeOf:a}=n(7019);e.exports=d;const s=n(10223),l=n(94136);a(d.prototype,s.prototype),a(d,s);{const e=o(l.prototype);for(let t=0;t<e.length;t++){const n=e[t];d.prototype[n]||(d.prototype[n]=l.prototype[n])}}function d(e){if(!(this instanceof d))return new d(e);s.call(this,e),l.call(this,e),e?(this.allowHalfOpen=!1!==e.allowHalfOpen,!1===e.readable&&(this._readableState.readable=!1,this._readableState.ended=!0,this._readableState.endEmitted=!0),!1===e.writable&&(this._writableState.writable=!1,this._writableState.ending=!0,this._writableState.ended=!0,this._writableState.finished=!0)):this.allowHalfOpen=!0}let c,u;function h(){return void 0===c&&(c={}),c}r(d.prototype,{writable:{__proto__:null,...i(l.prototype,"writable")},writableHighWaterMark:{__proto__:null,...i(l.prototype,"writableHighWaterMark")},writableObjectMode:{__proto__:null,...i(l.prototype,"writableObjectMode")},writableBuffer:{__proto__:null,...i(l.prototype,"writableBuffer")},writableLength:{__proto__:null,...i(l.prototype,"writableLength")},writableFinished:{__proto__:null,...i(l.prototype,"writableFinished")},writableCorked:{__proto__:null,...i(l.prototype,"writableCorked")},writableEnded:{__proto__:null,...i(l.prototype,"writableEnded")},writableNeedDrain:{__proto__:null,...i(l.prototype,"writableNeedDrain")},destroyed:{__proto__:null,get(){return void 0!==this._readableState&&void 0!==this._writableState&&(this._readableState.destroyed&&this._writableState.destroyed)},set(e){this._readableState&&this._writableState&&(this._readableState.destroyed=e,this._writableState.destroyed=e)}}}),d.fromWeb=function(e,t){return h().newStreamDuplexFromReadableWritablePair(e,t)},d.toWeb=function(e){return h().newReadableWritablePairFromDuplex(e)},d.from=function(e){return u||(u=n(49133)),u(e,"body")}},49133:(e,t,n)=>{const r=n(1426),i=n(19778),{isReadable:o,isWritable:a,isIterable:s,isNodeStream:l,isReadableNodeStream:d,isWritableNodeStream:c,isDuplexNodeStream:u}=n(84358),h=n(1255),{AbortError:f,codes:{ERR_INVALID_ARG_TYPE:p,ERR_INVALID_RETURN_VALUE:b}}=n(13402),{destroyer:g}=n(30680),y=n(6610),m=n(10223),{createDeferredPromise:w}=n(56799),_=n(98759),v=globalThis.Blob||i.Blob,S="undefined"!==typeof v?function(e){return e instanceof v}:function(e){return!1},E=globalThis.AbortController||n(35935).AbortController,{FunctionPrototypeCall:R}=n(7019);class A extends y{constructor(e){super(e),!1===(null===e||void 0===e?void 0:e.readable)&&(this._readableState.readable=!1,this._readableState.ended=!0,this._readableState.endEmitted=!0),!1===(null===e||void 0===e?void 0:e.writable)&&(this._writableState.writable=!1,this._writableState.ending=!0,this._writableState.ended=!0,this._writableState.finished=!0)}}function T(e){const t=e.readable&&"function"!==typeof e.readable.read?m.wrap(e.readable):e.readable,n=e.writable;let r,i,s,l,d,c=!!o(t),u=!!a(n);function p(e){const t=l;l=null,t?t(e):e&&d.destroy(e)}return d=new A({readableObjectMode:!(null===t||void 0===t||!t.readableObjectMode),writableObjectMode:!(null===n||void 0===n||!n.writableObjectMode),readable:c,writable:u}),u&&(h(n,(e=>{u=!1,e&&g(t,e),p(e)})),d._write=function(e,t,i){n.write(e,t)?i():r=i},d._final=function(e){n.end(),i=e},n.on("drain",(function(){if(r){const e=r;r=null,e()}})),n.on("finish",(function(){if(i){const e=i;i=null,e()}}))),c&&(h(t,(e=>{c=!1,e&&g(t,e),p(e)})),t.on("readable",(function(){if(s){const e=s;s=null,e()}})),t.on("end",(function(){d.push(null)})),d._read=function(){for(;;){const e=t.read();if(null===e)return void(s=d._read);if(!d.push(e))return}}),d._destroy=function(e,o){e||null===l||(e=new f),s=null,r=null,i=null,null===l?o(e):(l=o,g(n,e),g(t,e))},d}e.exports=function e(t,n){if(u(t))return t;if(d(t))return T({readable:t});if(c(t))return T({writable:t});if(l(t))return T({writable:!1,readable:!1});if("function"===typeof t){const{value:e,write:i,final:o,destroy:a}=function(e){let{promise:t,resolve:n}=w();const i=new E,o=i.signal,a=e(async function*(){for(;;){const e=t;t=null;const{chunk:i,done:a,cb:s}=await e;if(r.nextTick(s),a)return;if(o.aborted)throw new f(void 0,{cause:o.reason});({promise:t,resolve:n}=w()),yield i}}(),{signal:o});return{value:a,write(e,t,r){const i=n;n=null,i({chunk:e,done:!1,cb:r})},final(e){const t=n;n=null,t({done:!0,cb:e})},destroy(e,t){i.abort(),t(e)}}}(t);if(s(e))return _(A,e,{objectMode:!0,write:i,final:o,destroy:a});const l=null===e||void 0===e?void 0:e.then;if("function"===typeof l){let t;const n=R(l,e,(e=>{if(null!=e)throw new b("nully","body",e)}),(e=>{g(t,e)}));return t=new A({objectMode:!0,readable:!1,write:i,final(e){o((async()=>{try{await n,r.nextTick(e,null)}catch(t){r.nextTick(e,t)}}))},destroy:a})}throw new b("Iterable, AsyncIterable or AsyncFunction",n,e)}if(S(t))return e(t.arrayBuffer());if(s(t))return _(A,t,{objectMode:!0,writable:!1});if("object"===typeof(null===t||void 0===t?void 0:t.writable)||"object"===typeof(null===t||void 0===t?void 0:t.readable)){return T({readable:null!==t&&void 0!==t&&t.readable?d(null===t||void 0===t?void 0:t.readable)?null===t||void 0===t?void 0:t.readable:e(t.readable):void 0,writable:null!==t&&void 0!==t&&t.writable?c(null===t||void 0===t?void 0:t.writable)?null===t||void 0===t?void 0:t.writable:e(t.writable):void 0})}const i=null===t||void 0===t?void 0:t.then;if("function"===typeof i){let e;return R(i,t,(t=>{null!=t&&e.push(t),e.push(null)}),(t=>{g(e,t)})),e=new A({objectMode:!0,writable:!1,read(){}})}throw new p(n,["Blob","ReadableStream","WritableStream","Stream","Iterable","AsyncIterable","Function","{ readable, writable } pair","Promise"],t)}},1255:(e,t,n)=>{const r=n(1426),{AbortError:i,codes:o}=n(13402),{ERR_INVALID_ARG_TYPE:a,ERR_STREAM_PREMATURE_CLOSE:s}=o,{kEmptyObject:l,once:d}=n(56799),{validateAbortSignal:c,validateFunction:u,validateObject:h,validateBoolean:f}=n(57249),{Promise:p,PromisePrototypeThen:b}=n(7019),{isClosed:g,isReadable:y,isReadableNodeStream:m,isReadableStream:w,isReadableFinished:_,isReadableErrored:v,isWritable:S,isWritableNodeStream:E,isWritableStream:R,isWritableFinished:A,isWritableErrored:T,isNodeStream:I,willEmitClose:C,kIsClosedPromise:k}=n(84358);const N=()=>{};function D(e,t,n){var o,f;if(2===arguments.length?(n=t,t=l):null==t?t=l:h(t,"options"),u(n,"callback"),c(t.signal,"options.signal"),n=d(n),w(e)||R(e))return function(e,t,n){let o=!1,a=N;if(t.signal)if(a=()=>{o=!0,n.call(e,new i(void 0,{cause:t.signal.reason}))},t.signal.aborted)r.nextTick(a);else{const r=n;n=d((function(){t.signal.removeEventListener("abort",a);for(var n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];r.apply(e,i)})),t.signal.addEventListener("abort",a)}const s=function(){for(var t=arguments.length,i=new Array(t),a=0;a<t;a++)i[a]=arguments[a];o||r.nextTick((()=>n.apply(e,i)))};return b(e[k].promise,s,s),N}(e,t,n);if(!I(e))throw new a("stream",["ReadableStream","WritableStream","Stream"],e);const p=null!==(o=t.readable)&&void 0!==o?o:m(e),D=null!==(f=t.writable)&&void 0!==f?f:E(e),M=e._writableState,P=e._readableState,O=()=>{e.writable||U()};let L=C(e)&&m(e)===p&&E(e)===D,x=A(e,!1);const U=()=>{x=!0,e.destroyed&&(L=!1),(!L||e.readable&&!p)&&(p&&!j||n.call(e))};let j=_(e,!1);const W=()=>{j=!0,e.destroyed&&(L=!1),(!L||e.writable&&!D)&&(D&&!x||n.call(e))},B=t=>{n.call(e,t)};let $=g(e);const F=()=>{$=!0;const t=T(e)||v(e);return t&&"boolean"!==typeof t?n.call(e,t):p&&!j&&m(e,!0)&&!_(e,!1)?n.call(e,new s):!D||x||A(e,!1)?void n.call(e):n.call(e,new s)},H=()=>{$=!0;const t=T(e)||v(e);if(t&&"boolean"!==typeof t)return n.call(e,t);n.call(e)},V=()=>{e.req.on("finish",U)};!function(e){return e.setHeader&&"function"===typeof e.abort}(e)?D&&!M&&(e.on("end",O),e.on("close",O)):(e.on("complete",U),L||e.on("abort",F),e.req?V():e.on("request",V)),L||"boolean"!==typeof e.aborted||e.on("aborted",F),e.on("end",W),e.on("finish",U),!1!==t.error&&e.on("error",B),e.on("close",F),$?r.nextTick(F):null!==M&&void 0!==M&&M.errorEmitted||null!==P&&void 0!==P&&P.errorEmitted?L||r.nextTick(H):(p||L&&!y(e)||!x&&!1!==S(e))&&(D||L&&!S(e)||!j&&!1!==y(e))?P&&e.req&&e.aborted&&r.nextTick(H):r.nextTick(H);const Z=()=>{n=N,e.removeListener("aborted",F),e.removeListener("complete",U),e.removeListener("abort",F),e.removeListener("request",V),e.req&&e.req.removeListener("finish",U),e.removeListener("end",O),e.removeListener("close",O),e.removeListener("finish",U),e.removeListener("end",W),e.removeListener("error",B),e.removeListener("close",F)};if(t.signal&&!$){const o=()=>{const r=n;Z(),r.call(e,new i(void 0,{cause:t.signal.reason}))};if(t.signal.aborted)r.nextTick(o);else{const r=n;n=d((function(){t.signal.removeEventListener("abort",o);for(var n=arguments.length,i=new Array(n),a=0;a<n;a++)i[a]=arguments[a];r.apply(e,i)})),t.signal.addEventListener("abort",o)}}return Z}e.exports=D,e.exports.finished=function(e,t){var n;let r=!1;return null===t&&(t=l),null!==(n=t)&&void 0!==n&&n.cleanup&&(f(t.cleanup,"cleanup"),r=t.cleanup),new p(((n,i)=>{const o=D(e,t,(e=>{r&&o(),e?i(e):n()}))}))}},98759:(e,t,n)=>{"use strict";const r=n(1426),{PromisePrototypeThen:i,SymbolAsyncIterator:o,SymbolIterator:a}=n(7019),{Buffer:s}=n(19778),{ERR_INVALID_ARG_TYPE:l,ERR_STREAM_NULL_VALUES:d}=n(13402).codes;e.exports=function(e,t,n){let c,u;if("string"===typeof t||t instanceof s)return new e({objectMode:!0,...n,read(){this.push(t),this.push(null)}});if(t&&t[o])u=!0,c=t[o]();else{if(!t||!t[a])throw new l("iterable",["Iterable"],t);u=!1,c=t[a]()}const h=new e({objectMode:!0,highWaterMark:1,...n});let f=!1;return h._read=function(){f||(f=!0,async function(){for(;;){try{const{value:e,done:t}=u?await c.next():c.next();if(t)h.push(null);else{const t=e&&"function"===typeof e.then?await e:e;if(null===t)throw f=!1,new d;if(h.push(t))continue;f=!1}}catch(e){h.destroy(e)}break}}())},h._destroy=function(e,t){i(async function(e){const t=void 0!==e&&null!==e,n="function"===typeof c.throw;if(t&&n){const{value:t,done:n}=await c.throw(e);if(await t,n)return}if("function"===typeof c.return){const{value:e}=await c.return();await e}}(e),(()=>r.nextTick(t,e)),(n=>r.nextTick(t,n||e)))},h}},16522:(e,t,n)=>{"use strict";const{ArrayIsArray:r,ObjectSetPrototypeOf:i}=n(7019),{EventEmitter:o}=n(47465);function a(e){o.call(this,e)}function s(e,t,n){if("function"===typeof e.prependListener)return e.prependListener(t,n);e._events&&e._events[t]?r(e._events[t])?e._events[t].unshift(n):e._events[t]=[n,e._events[t]]:e.on(t,n)}i(a.prototype,o.prototype),i(a,o),a.prototype.pipe=function(e,t){const n=this;function r(t){e.writable&&!1===e.write(t)&&n.pause&&n.pause()}function i(){n.readable&&n.resume&&n.resume()}n.on("data",r),e.on("drain",i),e._isStdio||t&&!1===t.end||(n.on("end",l),n.on("close",d));let a=!1;function l(){a||(a=!0,e.end())}function d(){a||(a=!0,"function"===typeof e.destroy&&e.destroy())}function c(e){u(),0===o.listenerCount(this,"error")&&this.emit("error",e)}function u(){n.removeListener("data",r),e.removeListener("drain",i),n.removeListener("end",l),n.removeListener("close",d),n.removeListener("error",c),e.removeListener("error",c),n.removeListener("end",u),n.removeListener("close",u),e.removeListener("close",u)}return s(n,"error",c),s(e,"error",c),n.on("end",u),n.on("close",u),e.on("close",u),e.emit("pipe",n),e},e.exports={Stream:a,prependListener:s}},2636:(e,t,n)=>{"use strict";const r=globalThis.AbortController||n(35935).AbortController,{codes:{ERR_INVALID_ARG_VALUE:i,ERR_INVALID_ARG_TYPE:o,ERR_MISSING_ARGS:a,ERR_OUT_OF_RANGE:s},AbortError:l}=n(13402),{validateAbortSignal:d,validateInteger:c,validateObject:u}=n(57249),h=n(7019).Symbol("kWeak"),{finished:f}=n(1255),p=n(39972),{addAbortSignalNoValidate:b}=n(11280),{isWritable:g,isNodeStream:y}=n(84358),{ArrayPrototypePush:m,MathFloor:w,Number:_,NumberIsNaN:v,Promise:S,PromiseReject:E,PromisePrototypeThen:R,Symbol:A}=n(7019),T=A("kEmpty"),I=A("kEof");function C(e,t){if("function"!==typeof e)throw new o("fn",["Function","AsyncFunction"],e);null!=t&&u(t,"options"),null!=(null===t||void 0===t?void 0:t.signal)&&d(t.signal,"options.signal");let n=1;return null!=(null===t||void 0===t?void 0:t.concurrency)&&(n=w(t.concurrency)),c(n,"concurrency",1),async function*(){var i,o;const a=new r,s=this,d=[],c=a.signal,u={signal:c},h=()=>a.abort();let f,p;null!==t&&void 0!==t&&null!==(i=t.signal)&&void 0!==i&&i.aborted&&h(),null===t||void 0===t||null===(o=t.signal)||void 0===o||o.addEventListener("abort",h);let b=!1;function g(){b=!0}!async function(){try{for await(let t of s){var r;if(b)return;if(c.aborted)throw new l;try{t=e(t,u)}catch(o){t=E(o)}t!==T&&("function"===typeof(null===(r=t)||void 0===r?void 0:r.catch)&&t.catch(g),d.push(t),f&&(f(),f=null),!b&&d.length&&d.length>=n&&await new S((e=>{p=e})))}d.push(I)}catch(o){const e=E(o);R(e,void 0,g),d.push(e)}finally{var i;b=!0,f&&(f(),f=null),null===t||void 0===t||null===(i=t.signal)||void 0===i||i.removeEventListener("abort",h)}}();try{for(;;){for(;d.length>0;){const e=await d[0];if(e===I)return;if(c.aborted)throw new l;e!==T&&(yield e),d.shift(),p&&(p(),p=null)}await new S((e=>{f=e}))}}finally{a.abort(),b=!0,p&&(p(),p=null)}}.call(this)}async function k(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0;for await(const n of N.call(this,e,t))return!0;return!1}function N(e,t){if("function"!==typeof e)throw new o("fn",["Function","AsyncFunction"],e);return C.call(this,(async function(t,n){return await e(t,n)?t:T}),t)}class D extends a{constructor(){super("reduce"),this.message="Reduce of an empty stream requires an initial value"}}function M(e){if(e=_(e),v(e))return 0;if(e<0)throw new s("number",">= 0",e);return e}e.exports.streamReturningOperators={asIndexedPairs:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:void 0;return null!=e&&u(e,"options"),null!=(null===e||void 0===e?void 0:e.signal)&&d(e.signal,"options.signal"),async function*(){let t=0;for await(const r of this){var n;if(null!==e&&void 0!==e&&null!==(n=e.signal)&&void 0!==n&&n.aborted)throw new l({cause:e.signal.reason});yield[t++,r]}}.call(this)},drop:function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0;return null!=t&&u(t,"options"),null!=(null===t||void 0===t?void 0:t.signal)&&d(t.signal,"options.signal"),e=M(e),async function*(){var n;if(null!==t&&void 0!==t&&null!==(n=t.signal)&&void 0!==n&&n.aborted)throw new l;for await(const i of this){var r;if(null!==t&&void 0!==t&&null!==(r=t.signal)&&void 0!==r&&r.aborted)throw new l;e--<=0&&(yield i)}}.call(this)},filter:N,flatMap:function(e,t){const n=C.call(this,e,t);return async function*(){for await(const e of n)yield*e}.call(this)},map:C,take:function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0;return null!=t&&u(t,"options"),null!=(null===t||void 0===t?void 0:t.signal)&&d(t.signal,"options.signal"),e=M(e),async function*(){var n;if(null!==t&&void 0!==t&&null!==(n=t.signal)&&void 0!==n&&n.aborted)throw new l;for await(const i of this){var r;if(null!==t&&void 0!==t&&null!==(r=t.signal)&&void 0!==r&&r.aborted)throw new l;if(!(e-- >0))return;yield i}}.call(this)},compose:function(e,t){if(null!=t&&u(t,"options"),null!=(null===t||void 0===t?void 0:t.signal)&&d(t.signal,"options.signal"),y(e)&&!g(e))throw new i("stream",e,"must be writable");const n=p(this,e);return null!==t&&void 0!==t&&t.signal&&b(t.signal,n),n}},e.exports.promiseReturningOperators={every:async function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0;if("function"!==typeof e)throw new o("fn",["Function","AsyncFunction"],e);return!await k.call(this,(async function(){return!await e(...arguments)}),t)},forEach:async function(e,t){if("function"!==typeof e)throw new o("fn",["Function","AsyncFunction"],e);for await(const n of C.call(this,(async function(t,n){return await e(t,n),T}),t));},reduce:async function(e,t,n){var i;if("function"!==typeof e)throw new o("reducer",["Function","AsyncFunction"],e);null!=n&&u(n,"options"),null!=(null===n||void 0===n?void 0:n.signal)&&d(n.signal,"options.signal");let a=arguments.length>1;if(null!==n&&void 0!==n&&null!==(i=n.signal)&&void 0!==i&&i.aborted){const e=new l(void 0,{cause:n.signal.reason});throw this.once("error",(()=>{})),await f(this.destroy(e)),e}const s=new r,c=s.signal;if(null!==n&&void 0!==n&&n.signal){const e={once:!0,[h]:this};n.signal.addEventListener("abort",(()=>s.abort()),e)}let p=!1;try{for await(const r of this){var b;if(p=!0,null!==n&&void 0!==n&&null!==(b=n.signal)&&void 0!==b&&b.aborted)throw new l;a?t=await e(t,r,{signal:c}):(t=r,a=!0)}if(!p&&!a)throw new D}finally{s.abort()}return t},toArray:async function(e){null!=e&&u(e,"options"),null!=(null===e||void 0===e?void 0:e.signal)&&d(e.signal,"options.signal");const t=[];for await(const r of this){var n;if(null!==e&&void 0!==e&&null!==(n=e.signal)&&void 0!==n&&n.aborted)throw new l(void 0,{cause:e.signal.reason});m(t,r)}return t},some:k,find:async function(e,t){for await(const n of N.call(this,e,t))return n}}},93652:(e,t,n)=>{"use strict";const{ObjectSetPrototypeOf:r}=n(7019);e.exports=o;const i=n(27892);function o(e){if(!(this instanceof o))return new o(e);i.call(this,e)}r(o.prototype,i.prototype),r(o,i),o.prototype._transform=function(e,t,n){n(null,e)}},19758:(e,t,n)=>{const r=n(1426),{ArrayIsArray:i,Promise:o,SymbolAsyncIterator:a}=n(7019),s=n(1255),{once:l}=n(56799),d=n(30680),c=n(6610),{aggregateTwoErrors:u,codes:{ERR_INVALID_ARG_TYPE:h,ERR_INVALID_RETURN_VALUE:f,ERR_MISSING_ARGS:p,ERR_STREAM_DESTROYED:b,ERR_STREAM_PREMATURE_CLOSE:g},AbortError:y}=n(13402),{validateFunction:m,validateAbortSignal:w}=n(57249),{isIterable:_,isReadable:v,isReadableNodeStream:S,isNodeStream:E,isTransformStream:R,isWebStream:A,isReadableStream:T,isReadableEnded:I}=n(84358),C=globalThis.AbortController||n(35935).AbortController;let k,N;function D(e,t,n){let r=!1;e.on("close",(()=>{r=!0}));return{destroy:t=>{r||(r=!0,d.destroyer(e,t||new b("pipe")))},cleanup:s(e,{readable:t,writable:n},(e=>{r=!e}))}}function M(e){if(_(e))return e;if(S(e))return async function*(e){N||(N=n(10223));yield*N.prototype[a].call(e)}(e);throw new h("val",["Readable","Iterable","AsyncIterable"],e)}async function P(e,t,n,r){let i,{end:a}=r,l=null;const d=e=>{if(e&&(i=e),l){const e=l;l=null,e()}},c=()=>new o(((e,t)=>{i?t(i):l=()=>{i?t(i):e()}}));t.on("drain",d);const h=s(t,{readable:!1},d);try{t.writableNeedDrain&&await c();for await(const n of e)t.write(n)||await c();a&&t.end(),await c(),n()}catch(f){n(i!==f?u(i,f):f)}finally{h(),t.off("drain",d)}}async function O(e,t,n,r){let{end:i}=r;R(t)&&(t=t.writable);const o=t.getWriter();try{for await(const t of e)await o.ready,o.write(t).catch((()=>{}));await o.ready,i&&await o.close(),n()}catch(a){try{await o.abort(a),n(a)}catch(a){n(a)}}}function L(e,t,o){if(1===e.length&&i(e[0])&&(e=e[0]),e.length<2)throw new p("streams");const a=new C,s=a.signal,l=null===o||void 0===o?void 0:o.signal,d=[];function u(){U(new y)}let b,g;w(l,"options.signal"),null===l||void 0===l||l.addEventListener("abort",u);const m=[];let I,N=0;function L(e){U(e,0===--N)}function U(e,n){if(!e||b&&"ERR_STREAM_PREMATURE_CLOSE"!==b.code||(b=e),b||n){for(;m.length;)m.shift()(b);null===l||void 0===l||l.removeEventListener("abort",u),a.abort(),n&&(b||d.forEach((e=>e())),r.nextTick(t,b,g))}}for(let $=0;$<e.length;$++){const F=e[$],H=$<e.length-1,V=$>0,Z=H||!1!==(null===o||void 0===o?void 0:o.end),G=$===e.length-1;if(E(F)){if(Z){const{destroy:K,cleanup:q}=D(F,H,V);m.push(K),v(F)&&G&&d.push(q)}function j(e){e&&"AbortError"!==e.name&&"ERR_STREAM_PREMATURE_CLOSE"!==e.code&&L(e)}F.on("error",j),v(F)&&G&&d.push((()=>{F.removeListener("error",j)}))}if(0===$)if("function"===typeof F){if(I=F({signal:s}),!_(I))throw new f("Iterable, AsyncIterable or Stream","source",I)}else I=_(F)||S(F)||R(F)?F:c.from(F);else if("function"===typeof F){var W;if(R(I))I=M(null===(W=I)||void 0===W?void 0:W.readable);else I=M(I);if(I=F(I,{signal:s}),H){if(!_(I,!0))throw new f("AsyncIterable",`transform[${$-1}]`,I)}else{var B;k||(k=n(93652));const Y=new k({objectMode:!0}),X=null===(B=I)||void 0===B?void 0:B.then;if("function"===typeof X)N++,X.call(I,(e=>{g=e,null!=e&&Y.write(e),Z&&Y.end(),r.nextTick(L)}),(e=>{Y.destroy(e),r.nextTick(L,e)}));else if(_(I,!0))N++,P(I,Y,L,{end:Z});else{if(!T(I)&&!R(I))throw new f("AsyncIterable or Promise","destination",I);{const Q=I.readable||I;N++,P(Q,Y,L,{end:Z})}}I=Y;const{destroy:z,cleanup:J}=D(I,!1,!0);m.push(z),G&&d.push(J)}}else if(E(F)){if(S(I)){N+=2;const ee=x(I,F,L,{end:Z});v(F)&&G&&d.push(ee)}else if(R(I)||T(I)){const te=I.readable||I;N++,P(te,F,L,{end:Z})}else{if(!_(I))throw new h("val",["Readable","Iterable","AsyncIterable","ReadableStream","TransformStream"],I);N++,P(I,F,L,{end:Z})}I=F}else if(A(F)){if(S(I))N++,O(M(I),F,L,{end:Z});else if(T(I)||_(I))N++,O(I,F,L,{end:Z});else{if(!R(I))throw new h("val",["Readable","Iterable","AsyncIterable","ReadableStream","TransformStream"],I);N++,O(I.readable,F,L,{end:Z})}I=F}else I=c.from(F)}return(null!==s&&void 0!==s&&s.aborted||null!==l&&void 0!==l&&l.aborted)&&r.nextTick(u),I}function x(e,t,n,i){let{end:o}=i,a=!1;if(t.on("close",(()=>{a||n(new g)})),e.pipe(t,{end:!1}),o){function l(){a=!0,t.end()}I(e)?r.nextTick(l):e.once("end",l)}else n();return s(e,{readable:!0,writable:!1},(t=>{const r=e._readableState;t&&"ERR_STREAM_PREMATURE_CLOSE"===t.code&&r&&r.ended&&!r.errored&&!r.errorEmitted?e.once("end",n).once("error",n):n(t)})),s(t,{readable:!1,writable:!0},n)}e.exports={pipelineImpl:L,pipeline:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return L(t,l(function(e){return m(e[e.length-1],"streams[stream.length - 1]"),e.pop()}(t)))}}},10223:(e,t,n)=>{const r=n(1426),{ArrayPrototypeIndexOf:i,NumberIsInteger:o,NumberIsNaN:a,NumberParseInt:s,ObjectDefineProperties:l,ObjectKeys:d,ObjectSetPrototypeOf:c,Promise:u,SafeSet:h,SymbolAsyncIterator:f,Symbol:p}=n(7019);e.exports=W,W.ReadableState=j;const{EventEmitter:b}=n(47465),{Stream:g,prependListener:y}=n(16522),{Buffer:m}=n(19778),{addAbortSignal:w}=n(11280),_=n(1255);let v=n(56799).debuglog("stream",(e=>{v=e}));const S=n(94886),E=n(30680),{getHighWaterMark:R,getDefaultHighWaterMark:A}=n(93763),{aggregateTwoErrors:T,codes:{ERR_INVALID_ARG_TYPE:I,ERR_METHOD_NOT_IMPLEMENTED:C,ERR_OUT_OF_RANGE:k,ERR_STREAM_PUSH_AFTER_EOF:N,ERR_STREAM_UNSHIFT_AFTER_END_EVENT:D}}=n(13402),{validateObject:M}=n(57249),P=p("kPaused"),{StringDecoder:O}=n(15948),L=n(98759);c(W.prototype,g.prototype),c(W,g);const x=()=>{},{errorOrDestroy:U}=E;function j(e,t,r){"boolean"!==typeof r&&(r=t instanceof n(6610)),this.objectMode=!(!e||!e.objectMode),r&&(this.objectMode=this.objectMode||!(!e||!e.readableObjectMode)),this.highWaterMark=e?R(this,e,"readableHighWaterMark",r):A(!1),this.buffer=new S,this.length=0,this.pipes=[],this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.constructed=!0,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this[P]=null,this.errorEmitted=!1,this.emitClose=!e||!1!==e.emitClose,this.autoDestroy=!e||!1!==e.autoDestroy,this.destroyed=!1,this.errored=null,this.closed=!1,this.closeEmitted=!1,this.defaultEncoding=e&&e.defaultEncoding||"utf8",this.awaitDrainWriters=null,this.multiAwaitDrain=!1,this.readingMore=!1,this.dataEmitted=!1,this.decoder=null,this.encoding=null,e&&e.encoding&&(this.decoder=new O(e.encoding),this.encoding=e.encoding)}function W(e){if(!(this instanceof W))return new W(e);const t=this instanceof n(6610);this._readableState=new j(e,this,t),e&&("function"===typeof e.read&&(this._read=e.read),"function"===typeof e.destroy&&(this._destroy=e.destroy),"function"===typeof e.construct&&(this._construct=e.construct),e.signal&&!t&&w(e.signal,this)),g.call(this,e),E.construct(this,(()=>{this._readableState.needReadable&&Z(this,this._readableState)}))}function B(e,t,n,r){v("readableAddChunk",t);const i=e._readableState;let o;if(i.objectMode||("string"===typeof t?(n=n||i.defaultEncoding,i.encoding!==n&&(r&&i.encoding?t=m.from(t,n).toString(i.encoding):(t=m.from(t,n),n=""))):t instanceof m?n="":g._isUint8Array(t)?(t=g._uint8ArrayToBuffer(t),n=""):null!=t&&(o=new I("chunk",["string","Buffer","Uint8Array"],t))),o)U(e,o);else if(null===t)i.reading=!1,function(e,t){if(v("onEofChunk"),t.ended)return;if(t.decoder){const e=t.decoder.end();e&&e.length&&(t.buffer.push(e),t.length+=t.objectMode?1:e.length)}t.ended=!0,t.sync?H(e):(t.needReadable=!1,t.emittedReadable=!0,V(e))}(e,i);else if(i.objectMode||t&&t.length>0)if(r)if(i.endEmitted)U(e,new D);else{if(i.destroyed||i.errored)return!1;$(e,i,t,!0)}else if(i.ended)U(e,new N);else{if(i.destroyed||i.errored)return!1;i.reading=!1,i.decoder&&!n?(t=i.decoder.write(t),i.objectMode||0!==t.length?$(e,i,t,!1):Z(e,i)):$(e,i,t,!1)}else r||(i.reading=!1,Z(e,i));return!i.ended&&(i.length<i.highWaterMark||0===i.length)}function $(e,t,n,r){t.flowing&&0===t.length&&!t.sync&&e.listenerCount("data")>0?(t.multiAwaitDrain?t.awaitDrainWriters.clear():t.awaitDrainWriters=null,t.dataEmitted=!0,e.emit("data",n)):(t.length+=t.objectMode?1:n.length,r?t.buffer.unshift(n):t.buffer.push(n),t.needReadable&&H(e)),Z(e,t)}W.prototype.destroy=E.destroy,W.prototype._undestroy=E.undestroy,W.prototype._destroy=function(e,t){t(e)},W.prototype[b.captureRejectionSymbol]=function(e){this.destroy(e)},W.prototype.push=function(e,t){return B(this,e,t,!1)},W.prototype.unshift=function(e,t){return B(this,e,t,!0)},W.prototype.isPaused=function(){const e=this._readableState;return!0===e[P]||!1===e.flowing},W.prototype.setEncoding=function(e){const t=new O(e);this._readableState.decoder=t,this._readableState.encoding=this._readableState.decoder.encoding;const n=this._readableState.buffer;let r="";for(const i of n)r+=t.write(i);return n.clear(),""!==r&&n.push(r),this._readableState.length=r.length,this};function F(e,t){return e<=0||0===t.length&&t.ended?0:t.objectMode?1:a(e)?t.flowing&&t.length?t.buffer.first().length:t.length:e<=t.length?e:t.ended?t.length:0}function H(e){const t=e._readableState;v("emitReadable",t.needReadable,t.emittedReadable),t.needReadable=!1,t.emittedReadable||(v("emitReadable",t.flowing),t.emittedReadable=!0,r.nextTick(V,e))}function V(e){const t=e._readableState;v("emitReadable_",t.destroyed,t.length,t.ended),t.destroyed||t.errored||!t.length&&!t.ended||(e.emit("readable"),t.emittedReadable=!1),t.needReadable=!t.flowing&&!t.ended&&t.length<=t.highWaterMark,X(e)}function Z(e,t){!t.readingMore&&t.constructed&&(t.readingMore=!0,r.nextTick(G,e,t))}function G(e,t){for(;!t.reading&&!t.ended&&(t.length<t.highWaterMark||t.flowing&&0===t.length);){const n=t.length;if(v("maybeReadMore read 0"),e.read(0),n===t.length)break}t.readingMore=!1}function K(e){const t=e._readableState;t.readableListening=e.listenerCount("readable")>0,t.resumeScheduled&&!1===t[P]?t.flowing=!0:e.listenerCount("data")>0?e.resume():t.readableListening||(t.flowing=null)}function q(e){v("readable nexttick read 0"),e.read(0)}function Y(e,t){v("resume",t.reading),t.reading||e.read(0),t.resumeScheduled=!1,e.emit("resume"),X(e),t.flowing&&!t.reading&&e.read(0)}function X(e){const t=e._readableState;for(v("flow",t.flowing);t.flowing&&null!==e.read(););}function z(e,t){"function"!==typeof e.read&&(e=W.wrap(e,{objectMode:!0}));const n=async function*(e,t){let n,r=x;function i(t){this===e?(r(),r=x):r=t}e.on("readable",i);const o=_(e,{writable:!1},(e=>{n=e?T(n,e):null,r(),r=x}));try{for(;;){const t=e.destroyed?null:e.read();if(null!==t)yield t;else{if(n)throw n;if(null===n)return;await new u(i)}}}catch(a){throw n=T(n,a),n}finally{!n&&!1===(null===t||void 0===t?void 0:t.destroyOnReturn)||void 0!==n&&!e._readableState.autoDestroy?(e.off("readable",i),o()):E.destroyer(e,null)}}(e,t);return n.stream=e,n}function J(e,t){if(0===t.length)return null;let n;return t.objectMode?n=t.buffer.shift():!e||e>=t.length?(n=t.decoder?t.buffer.join(""):1===t.buffer.length?t.buffer.first():t.buffer.concat(t.length),t.buffer.clear()):n=t.buffer.consume(e,t.decoder),n}function Q(e){const t=e._readableState;v("endReadable",t.endEmitted),t.endEmitted||(t.ended=!0,r.nextTick(ee,t,e))}function ee(e,t){if(v("endReadableNT",e.endEmitted,e.length),!e.errored&&!e.closeEmitted&&!e.endEmitted&&0===e.length)if(e.endEmitted=!0,t.emit("end"),t.writable&&!1===t.allowHalfOpen)r.nextTick(te,t);else if(e.autoDestroy){const e=t._writableState;(!e||e.autoDestroy&&(e.finished||!1===e.writable))&&t.destroy()}}function te(e){e.writable&&!e.writableEnded&&!e.destroyed&&e.end()}let ne;function re(){return void 0===ne&&(ne={}),ne}W.prototype.read=function(e){v("read",e),void 0===e?e=NaN:o(e)||(e=s(e,10));const t=this._readableState,n=e;if(e>t.highWaterMark&&(t.highWaterMark=function(e){if(e>1073741824)throw new k("size","<= 1GiB",e);return e--,e|=e>>>1,e|=e>>>2,e|=e>>>4,e|=e>>>8,e|=e>>>16,++e}(e)),0!==e&&(t.emittedReadable=!1),0===e&&t.needReadable&&((0!==t.highWaterMark?t.length>=t.highWaterMark:t.length>0)||t.ended))return v("read: emitReadable",t.length,t.ended),0===t.length&&t.ended?Q(this):H(this),null;if(0===(e=F(e,t))&&t.ended)return 0===t.length&&Q(this),null;let r,i=t.needReadable;if(v("need readable",i),(0===t.length||t.length-e<t.highWaterMark)&&(i=!0,v("length less than watermark",i)),t.ended||t.reading||t.destroyed||t.errored||!t.constructed)i=!1,v("reading, ended or constructing",i);else if(i){v("do read"),t.reading=!0,t.sync=!0,0===t.length&&(t.needReadable=!0);try{this._read(t.highWaterMark)}catch(a){U(this,a)}t.sync=!1,t.reading||(e=F(n,t))}return r=e>0?J(e,t):null,null===r?(t.needReadable=t.length<=t.highWaterMark,e=0):(t.length-=e,t.multiAwaitDrain?t.awaitDrainWriters.clear():t.awaitDrainWriters=null),0===t.length&&(t.ended||(t.needReadable=!0),n!==e&&t.ended&&Q(this)),null===r||t.errorEmitted||t.closeEmitted||(t.dataEmitted=!0,this.emit("data",r)),r},W.prototype._read=function(e){throw new C("_read()")},W.prototype.pipe=function(e,t){const n=this,i=this._readableState;1===i.pipes.length&&(i.multiAwaitDrain||(i.multiAwaitDrain=!0,i.awaitDrainWriters=new h(i.awaitDrainWriters?[i.awaitDrainWriters]:[]))),i.pipes.push(e),v("pipe count=%d opts=%j",i.pipes.length,t);const o=(!t||!1!==t.end)&&e!==r.stdout&&e!==r.stderr?s:g;function a(t,r){v("onunpipe"),t===n&&r&&!1===r.hasUnpiped&&(r.hasUnpiped=!0,function(){v("cleanup"),e.removeListener("close",p),e.removeListener("finish",b),l&&e.removeListener("drain",l);e.removeListener("error",f),e.removeListener("unpipe",a),n.removeListener("end",s),n.removeListener("end",g),n.removeListener("data",u),d=!0,l&&i.awaitDrainWriters&&(!e._writableState||e._writableState.needDrain)&&l()}())}function s(){v("onend"),e.end()}let l;i.endEmitted?r.nextTick(o):n.once("end",o),e.on("unpipe",a);let d=!1;function c(){d||(1===i.pipes.length&&i.pipes[0]===e?(v("false write response, pause",0),i.awaitDrainWriters=e,i.multiAwaitDrain=!1):i.pipes.length>1&&i.pipes.includes(e)&&(v("false write response, pause",i.awaitDrainWriters.size),i.awaitDrainWriters.add(e)),n.pause()),l||(l=function(e,t){return function(){const n=e._readableState;n.awaitDrainWriters===t?(v("pipeOnDrain",1),n.awaitDrainWriters=null):n.multiAwaitDrain&&(v("pipeOnDrain",n.awaitDrainWriters.size),n.awaitDrainWriters.delete(t)),n.awaitDrainWriters&&0!==n.awaitDrainWriters.size||!e.listenerCount("data")||e.resume()}}(n,e),e.on("drain",l))}function u(t){v("ondata");const n=e.write(t);v("dest.write",n),!1===n&&c()}function f(t){if(v("onerror",t),g(),e.removeListener("error",f),0===e.listenerCount("error")){const n=e._writableState||e._readableState;n&&!n.errorEmitted?U(e,t):e.emit("error",t)}}function p(){e.removeListener("finish",b),g()}function b(){v("onfinish"),e.removeListener("close",p),g()}function g(){v("unpipe"),n.unpipe(e)}return n.on("data",u),y(e,"error",f),e.once("close",p),e.once("finish",b),e.emit("pipe",n),!0===e.writableNeedDrain?i.flowing&&c():i.flowing||(v("pipe resume"),n.resume()),e},W.prototype.unpipe=function(e){const t=this._readableState;if(0===t.pipes.length)return this;if(!e){const e=t.pipes;t.pipes=[],this.pause();for(let t=0;t<e.length;t++)e[t].emit("unpipe",this,{hasUnpiped:!1});return this}const n=i(t.pipes,e);return-1===n||(t.pipes.splice(n,1),0===t.pipes.length&&this.pause(),e.emit("unpipe",this,{hasUnpiped:!1})),this},W.prototype.on=function(e,t){const n=g.prototype.on.call(this,e,t),i=this._readableState;return"data"===e?(i.readableListening=this.listenerCount("readable")>0,!1!==i.flowing&&this.resume()):"readable"===e&&(i.endEmitted||i.readableListening||(i.readableListening=i.needReadable=!0,i.flowing=!1,i.emittedReadable=!1,v("on readable",i.length,i.reading),i.length?H(this):i.reading||r.nextTick(q,this))),n},W.prototype.addListener=W.prototype.on,W.prototype.removeListener=function(e,t){const n=g.prototype.removeListener.call(this,e,t);return"readable"===e&&r.nextTick(K,this),n},W.prototype.off=W.prototype.removeListener,W.prototype.removeAllListeners=function(e){const t=g.prototype.removeAllListeners.apply(this,arguments);return"readable"!==e&&void 0!==e||r.nextTick(K,this),t},W.prototype.resume=function(){const e=this._readableState;return e.flowing||(v("resume"),e.flowing=!e.readableListening,function(e,t){t.resumeScheduled||(t.resumeScheduled=!0,r.nextTick(Y,e,t))}(this,e)),e[P]=!1,this},W.prototype.pause=function(){return v("call pause flowing=%j",this._readableState.flowing),!1!==this._readableState.flowing&&(v("pause"),this._readableState.flowing=!1,this.emit("pause")),this._readableState[P]=!0,this},W.prototype.wrap=function(e){let t=!1;e.on("data",(n=>{!this.push(n)&&e.pause&&(t=!0,e.pause())})),e.on("end",(()=>{this.push(null)})),e.on("error",(e=>{U(this,e)})),e.on("close",(()=>{this.destroy()})),e.on("destroy",(()=>{this.destroy()})),this._read=()=>{t&&e.resume&&(t=!1,e.resume())};const n=d(e);for(let r=1;r<n.length;r++){const t=n[r];void 0===this[t]&&"function"===typeof e[t]&&(this[t]=e[t].bind(e))}return this},W.prototype[f]=function(){return z(this)},W.prototype.iterator=function(e){return void 0!==e&&M(e,"options"),z(this,e)},l(W.prototype,{readable:{__proto__:null,get(){const e=this._readableState;return!!e&&!1!==e.readable&&!e.destroyed&&!e.errorEmitted&&!e.endEmitted},set(e){this._readableState&&(this._readableState.readable=!!e)}},readableDidRead:{__proto__:null,enumerable:!1,get:function(){return this._readableState.dataEmitted}},readableAborted:{__proto__:null,enumerable:!1,get:function(){return!(!1===this._readableState.readable||!this._readableState.destroyed&&!this._readableState.errored||this._readableState.endEmitted)}},readableHighWaterMark:{__proto__:null,enumerable:!1,get:function(){return this._readableState.highWaterMark}},readableBuffer:{__proto__:null,enumerable:!1,get:function(){return this._readableState&&this._readableState.buffer}},readableFlowing:{__proto__:null,enumerable:!1,get:function(){return this._readableState.flowing},set:function(e){this._readableState&&(this._readableState.flowing=e)}},readableLength:{__proto__:null,enumerable:!1,get(){return this._readableState.length}},readableObjectMode:{__proto__:null,enumerable:!1,get(){return!!this._readableState&&this._readableState.objectMode}},readableEncoding:{__proto__:null,enumerable:!1,get(){return this._readableState?this._readableState.encoding:null}},errored:{__proto__:null,enumerable:!1,get(){return this._readableState?this._readableState.errored:null}},closed:{__proto__:null,get(){return!!this._readableState&&this._readableState.closed}},destroyed:{__proto__:null,enumerable:!1,get(){return!!this._readableState&&this._readableState.destroyed},set(e){this._readableState&&(this._readableState.destroyed=e)}},readableEnded:{__proto__:null,enumerable:!1,get(){return!!this._readableState&&this._readableState.endEmitted}}}),l(j.prototype,{pipesCount:{__proto__:null,get(){return this.pipes.length}},paused:{__proto__:null,get(){return!1!==this[P]},set(e){this[P]=!!e}}}),W._fromList=J,W.from=function(e,t){return L(W,e,t)},W.fromWeb=function(e,t){return re().newStreamReadableFromReadableStream(e,t)},W.toWeb=function(e,t){return re().newReadableStreamFromStreamReadable(e,t)},W.wrap=function(e,t){var n,r;return new W({objectMode:null===(n=null!==(r=e.readableObjectMode)&&void 0!==r?r:e.objectMode)||void 0===n||n,...t,destroy(t,n){E.destroyer(e,t),n(t)}}).wrap(e)}},93763:(e,t,n)=>{"use strict";const{MathFloor:r,NumberIsInteger:i}=n(7019),{ERR_INVALID_ARG_VALUE:o}=n(13402).codes;function a(e){return e?16:16384}e.exports={getHighWaterMark:function(e,t,n,s){const l=function(e,t,n){return null!=e.highWaterMark?e.highWaterMark:t?e[n]:null}(t,s,n);if(null!=l){if(!i(l)||l<0){throw new o(s?`options.${n}`:"options.highWaterMark",l)}return r(l)}return a(e.objectMode)},getDefaultHighWaterMark:a}},27892:(e,t,n)=>{"use strict";const{ObjectSetPrototypeOf:r,Symbol:i}=n(7019);e.exports=d;const{ERR_METHOD_NOT_IMPLEMENTED:o}=n(13402).codes,a=n(6610),{getHighWaterMark:s}=n(93763);r(d.prototype,a.prototype),r(d,a);const l=i("kCallback");function d(e){if(!(this instanceof d))return new d(e);const t=e?s(this,e,"readableHighWaterMark",!0):null;0===t&&(e={...e,highWaterMark:null,readableHighWaterMark:t,writableHighWaterMark:e.writableHighWaterMark||0}),a.call(this,e),this._readableState.sync=!1,this[l]=null,e&&("function"===typeof e.transform&&(this._transform=e.transform),"function"===typeof e.flush&&(this._flush=e.flush)),this.on("prefinish",u)}function c(e){"function"!==typeof this._flush||this.destroyed?(this.push(null),e&&e()):this._flush(((t,n)=>{t?e?e(t):this.destroy(t):(null!=n&&this.push(n),this.push(null),e&&e())}))}function u(){this._final!==c&&c.call(this)}d.prototype._final=c,d.prototype._transform=function(e,t,n){throw new o("_transform()")},d.prototype._write=function(e,t,n){const r=this._readableState,i=this._writableState,o=r.length;this._transform(e,t,((e,t)=>{e?n(e):(null!=t&&this.push(t),i.ended||o===r.length||r.length<r.highWaterMark?n():this[l]=n)}))},d.prototype._read=function(){if(this[l]){const e=this[l];this[l]=null,e()}}},84358:(e,t,n)=>{"use strict";const{Symbol:r,SymbolAsyncIterator:i,SymbolIterator:o,SymbolFor:a}=n(7019),s=r("kDestroyed"),l=r("kIsErrored"),d=r("kIsReadable"),c=r("kIsDisturbed"),u=a("nodejs.webstream.isClosedPromise"),h=a("nodejs.webstream.controllerErrorFunction");function f(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];var n;return!(!e||"function"!==typeof e.pipe||"function"!==typeof e.on||t&&("function"!==typeof e.pause||"function"!==typeof e.resume)||e._writableState&&!1===(null===(n=e._readableState)||void 0===n?void 0:n.readable)||e._writableState&&!e._readableState)}function p(e){var t;return!(!e||"function"!==typeof e.write||"function"!==typeof e.on||e._readableState&&!1===(null===(t=e._writableState)||void 0===t?void 0:t.writable))}function b(e){return e&&(e._readableState||e._writableState||"function"===typeof e.write&&"function"===typeof e.on||"function"===typeof e.pipe&&"function"===typeof e.on)}function g(e){return!(!e||b(e)||"function"!==typeof e.pipeThrough||"function"!==typeof e.getReader||"function"!==typeof e.cancel)}function y(e){return!(!e||b(e)||"function"!==typeof e.getWriter||"function"!==typeof e.abort)}function m(e){return!(!e||b(e)||"object"!==typeof e.readable||"object"!==typeof e.writable)}function w(e){if(!b(e))return null;const t=e._writableState,n=e._readableState,r=t||n;return!!(e.destroyed||e[s]||null!==r&&void 0!==r&&r.destroyed)}function _(e){if(!p(e))return null;if(!0===e.writableEnded)return!0;const t=e._writableState;return(null===t||void 0===t||!t.errored)&&("boolean"!==typeof(null===t||void 0===t?void 0:t.ended)?null:t.ended)}function v(e,t){if(!f(e))return null;const n=e._readableState;return(null===n||void 0===n||!n.errored)&&("boolean"!==typeof(null===n||void 0===n?void 0:n.endEmitted)?null:!!(n.endEmitted||!1===t&&!0===n.ended&&0===n.length))}function S(e){return e&&null!=e[d]?e[d]:"boolean"!==typeof(null===e||void 0===e?void 0:e.readable)?null:!w(e)&&(f(e)&&e.readable&&!v(e))}function E(e){return"boolean"!==typeof(null===e||void 0===e?void 0:e.writable)?null:!w(e)&&(p(e)&&e.writable&&!_(e))}function R(e){return"boolean"===typeof e._closed&&"boolean"===typeof e._defaultKeepAlive&&"boolean"===typeof e._removedConnection&&"boolean"===typeof e._removedContLen}function A(e){return"boolean"===typeof e._sent100&&R(e)}e.exports={kDestroyed:s,isDisturbed:function(e){var t;return!(!e||!(null!==(t=e[c])&&void 0!==t?t:e.readableDidRead||e.readableAborted))},kIsDisturbed:c,isErrored:function(e){var t,n,r,i,o,a,s,d,c,u;return!(!e||!(null!==(t=null!==(n=null!==(r=null!==(i=null!==(o=null!==(a=e[l])&&void 0!==a?a:e.readableErrored)&&void 0!==o?o:e.writableErrored)&&void 0!==i?i:null===(s=e._readableState)||void 0===s?void 0:s.errorEmitted)&&void 0!==r?r:null===(d=e._writableState)||void 0===d?void 0:d.errorEmitted)&&void 0!==n?n:null===(c=e._readableState)||void 0===c?void 0:c.errored)&&void 0!==t?t:null===(u=e._writableState)||void 0===u?void 0:u.errored))},kIsErrored:l,isReadable:S,kIsReadable:d,kIsClosedPromise:u,kControllerErrorFunction:h,isClosed:function(e){if(!b(e))return null;if("boolean"===typeof e.closed)return e.closed;const t=e._writableState,n=e._readableState;return"boolean"===typeof(null===t||void 0===t?void 0:t.closed)||"boolean"===typeof(null===n||void 0===n?void 0:n.closed)?(null===t||void 0===t?void 0:t.closed)||(null===n||void 0===n?void 0:n.closed):"boolean"===typeof e._closed&&R(e)?e._closed:null},isDestroyed:w,isDuplexNodeStream:function(e){return!(!e||"function"!==typeof e.pipe||!e._readableState||"function"!==typeof e.on||"function"!==typeof e.write)},isFinished:function(e,t){return b(e)?!!w(e)||(!1===(null===t||void 0===t?void 0:t.readable)||!S(e))&&(!1===(null===t||void 0===t?void 0:t.writable)||!E(e)):null},isIterable:function(e,t){return null!=e&&(!0===t?"function"===typeof e[i]:!1===t?"function"===typeof e[o]:"function"===typeof e[i]||"function"===typeof e[o])},isReadableNodeStream:f,isReadableStream:g,isReadableEnded:function(e){if(!f(e))return null;if(!0===e.readableEnded)return!0;const t=e._readableState;return!(!t||t.errored)&&("boolean"!==typeof(null===t||void 0===t?void 0:t.ended)?null:t.ended)},isReadableFinished:v,isReadableErrored:function(e){var t,n;return b(e)?e.readableErrored?e.readableErrored:null!==(t=null===(n=e._readableState)||void 0===n?void 0:n.errored)&&void 0!==t?t:null:null},isNodeStream:b,isWebStream:function(e){return g(e)||y(e)||m(e)},isWritable:E,isWritableNodeStream:p,isWritableStream:y,isWritableEnded:_,isWritableFinished:function(e,t){if(!p(e))return null;if(!0===e.writableFinished)return!0;const n=e._writableState;return(null===n||void 0===n||!n.errored)&&("boolean"!==typeof(null===n||void 0===n?void 0:n.finished)?null:!!(n.finished||!1===t&&!0===n.ended&&0===n.length))},isWritableErrored:function(e){var t,n;return b(e)?e.writableErrored?e.writableErrored:null!==(t=null===(n=e._writableState)||void 0===n?void 0:n.errored)&&void 0!==t?t:null:null},isServerRequest:function(e){var t;return"boolean"===typeof e._consuming&&"boolean"===typeof e._dumped&&void 0===(null===(t=e.req)||void 0===t?void 0:t.upgradeOrConnect)},isServerResponse:A,willEmitClose:function(e){if(!b(e))return null;const t=e._writableState,n=e._readableState,r=t||n;return!r&&A(e)||!!(r&&r.autoDestroy&&r.emitClose&&!1===r.closed)},isTransformStream:m}},94136:(e,t,n)=>{const r=n(1426),{ArrayPrototypeSlice:i,Error:o,FunctionPrototypeSymbolHasInstance:a,ObjectDefineProperty:s,ObjectDefineProperties:l,ObjectSetPrototypeOf:d,StringPrototypeToLowerCase:c,Symbol:u,SymbolHasInstance:h}=n(7019);e.exports=O,O.WritableState=M;const{EventEmitter:f}=n(47465),p=n(16522).Stream,{Buffer:b}=n(19778),g=n(30680),{addAbortSignal:y}=n(11280),{getHighWaterMark:m,getDefaultHighWaterMark:w}=n(93763),{ERR_INVALID_ARG_TYPE:_,ERR_METHOD_NOT_IMPLEMENTED:v,ERR_MULTIPLE_CALLBACK:S,ERR_STREAM_CANNOT_PIPE:E,ERR_STREAM_DESTROYED:R,ERR_STREAM_ALREADY_FINISHED:A,ERR_STREAM_NULL_VALUES:T,ERR_STREAM_WRITE_AFTER_END:I,ERR_UNKNOWN_ENCODING:C}=n(13402).codes,{errorOrDestroy:k}=g;function N(){}d(O.prototype,p.prototype),d(O,p);const D=u("kOnFinished");function M(e,t,r){"boolean"!==typeof r&&(r=t instanceof n(6610)),this.objectMode=!(!e||!e.objectMode),r&&(this.objectMode=this.objectMode||!(!e||!e.writableObjectMode)),this.highWaterMark=e?m(this,e,"writableHighWaterMark",r):w(!1),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;const i=!(!e||!1!==e.decodeStrings);this.decodeStrings=!i,this.defaultEncoding=e&&e.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=j.bind(void 0,t),this.writecb=null,this.writelen=0,this.afterWriteTickInfo=null,P(this),this.pendingcb=0,this.constructed=!0,this.prefinished=!1,this.errorEmitted=!1,this.emitClose=!e||!1!==e.emitClose,this.autoDestroy=!e||!1!==e.autoDestroy,this.errored=null,this.closed=!1,this.closeEmitted=!1,this[D]=[]}function P(e){e.buffered=[],e.bufferedIndex=0,e.allBuffers=!0,e.allNoop=!0}function O(e){const t=this instanceof n(6610);if(!t&&!a(O,this))return new O(e);this._writableState=new M(e,this,t),e&&("function"===typeof e.write&&(this._write=e.write),"function"===typeof e.writev&&(this._writev=e.writev),"function"===typeof e.destroy&&(this._destroy=e.destroy),"function"===typeof e.final&&(this._final=e.final),"function"===typeof e.construct&&(this._construct=e.construct),e.signal&&y(e.signal,this)),p.call(this,e),g.construct(this,(()=>{const e=this._writableState;e.writing||F(this,e),Z(this,e)}))}function L(e,t,n,i){const o=e._writableState;if("function"===typeof n)i=n,n=o.defaultEncoding;else{if(n){if("buffer"!==n&&!b.isEncoding(n))throw new C(n)}else n=o.defaultEncoding;"function"!==typeof i&&(i=N)}if(null===t)throw new T;if(!o.objectMode)if("string"===typeof t)!1!==o.decodeStrings&&(t=b.from(t,n),n="buffer");else if(t instanceof b)n="buffer";else{if(!p._isUint8Array(t))throw new _("chunk",["string","Buffer","Uint8Array"],t);t=p._uint8ArrayToBuffer(t),n="buffer"}let a;return o.ending?a=new I:o.destroyed&&(a=new R("write")),a?(r.nextTick(i,a),k(e,a,!0),a):(o.pendingcb++,function(e,t,n,r,i){const o=t.objectMode?1:n.length;t.length+=o;const a=t.length<t.highWaterMark;a||(t.needDrain=!0);t.writing||t.corked||t.errored||!t.constructed?(t.buffered.push({chunk:n,encoding:r,callback:i}),t.allBuffers&&"buffer"!==r&&(t.allBuffers=!1),t.allNoop&&i!==N&&(t.allNoop=!1)):(t.writelen=o,t.writecb=i,t.writing=!0,t.sync=!0,e._write(n,r,t.onwrite),t.sync=!1);return a&&!t.errored&&!t.destroyed}(e,o,t,n,i))}function x(e,t,n,r,i,o,a){t.writelen=r,t.writecb=a,t.writing=!0,t.sync=!0,t.destroyed?t.onwrite(new R("write")):n?e._writev(i,t.onwrite):e._write(i,o,t.onwrite),t.sync=!1}function U(e,t,n,r){--t.pendingcb,r(n),$(t),k(e,n)}function j(e,t){const n=e._writableState,i=n.sync,o=n.writecb;"function"===typeof o?(n.writing=!1,n.writecb=null,n.length-=n.writelen,n.writelen=0,t?(t.stack,n.errored||(n.errored=t),e._readableState&&!e._readableState.errored&&(e._readableState.errored=t),i?r.nextTick(U,e,n,t,o):U(e,n,t,o)):(n.buffered.length>n.bufferedIndex&&F(e,n),i?null!==n.afterWriteTickInfo&&n.afterWriteTickInfo.cb===o?n.afterWriteTickInfo.count++:(n.afterWriteTickInfo={count:1,cb:o,stream:e,state:n},r.nextTick(W,n.afterWriteTickInfo)):B(e,n,1,o))):k(e,new S)}function W(e){let{stream:t,state:n,count:r,cb:i}=e;return n.afterWriteTickInfo=null,B(t,n,r,i)}function B(e,t,n,r){for(!t.ending&&!e.destroyed&&0===t.length&&t.needDrain&&(t.needDrain=!1,e.emit("drain"));n-- >0;)t.pendingcb--,r();t.destroyed&&$(t),Z(e,t)}function $(e){if(e.writing)return;for(let i=e.bufferedIndex;i<e.buffered.length;++i){var t;const{chunk:n,callback:r}=e.buffered[i],o=e.objectMode?1:n.length;e.length-=o,r(null!==(t=e.errored)&&void 0!==t?t:new R("write"))}const n=e[D].splice(0);for(let i=0;i<n.length;i++){var r;n[i](null!==(r=e.errored)&&void 0!==r?r:new R("end"))}P(e)}function F(e,t){if(t.corked||t.bufferProcessing||t.destroyed||!t.constructed)return;const{buffered:n,bufferedIndex:r,objectMode:o}=t,a=n.length-r;if(!a)return;let s=r;if(t.bufferProcessing=!0,a>1&&e._writev){t.pendingcb-=a-1;const r=t.allNoop?N:e=>{for(let t=s;t<n.length;++t)n[t].callback(e)},o=t.allNoop&&0===s?n:i(n,s);o.allBuffers=t.allBuffers,x(e,t,!0,t.length,o,"",r),P(t)}else{do{const{chunk:r,encoding:i,callback:a}=n[s];n[s++]=null;x(e,t,!1,o?1:r.length,r,i,a)}while(s<n.length&&!t.writing);s===n.length?P(t):s>256?(n.splice(0,s),t.bufferedIndex=0):t.bufferedIndex=s}t.bufferProcessing=!1}function H(e){return e.ending&&!e.destroyed&&e.constructed&&0===e.length&&!e.errored&&0===e.buffered.length&&!e.finished&&!e.writing&&!e.errorEmitted&&!e.closeEmitted}function V(e,t){t.prefinished||t.finalCalled||("function"!==typeof e._final||t.destroyed?(t.prefinished=!0,e.emit("prefinish")):(t.finalCalled=!0,function(e,t){let n=!1;function i(i){if(n)k(e,null!==i&&void 0!==i?i:S());else if(n=!0,t.pendingcb--,i){const n=t[D].splice(0);for(let e=0;e<n.length;e++)n[e](i);k(e,i,t.sync)}else H(t)&&(t.prefinished=!0,e.emit("prefinish"),t.pendingcb++,r.nextTick(G,e,t))}t.sync=!0,t.pendingcb++;try{e._final(i)}catch(o){i(o)}t.sync=!1}(e,t)))}function Z(e,t,n){H(t)&&(V(e,t),0===t.pendingcb&&(n?(t.pendingcb++,r.nextTick(((e,t)=>{H(t)?G(e,t):t.pendingcb--}),e,t)):H(t)&&(t.pendingcb++,G(e,t))))}function G(e,t){t.pendingcb--,t.finished=!0;const n=t[D].splice(0);for(let r=0;r<n.length;r++)n[r]();if(e.emit("finish"),t.autoDestroy){const t=e._readableState;(!t||t.autoDestroy&&(t.endEmitted||!1===t.readable))&&e.destroy()}}M.prototype.getBuffer=function(){return i(this.buffered,this.bufferedIndex)},s(M.prototype,"bufferedRequestCount",{__proto__:null,get(){return this.buffered.length-this.bufferedIndex}}),s(O,h,{__proto__:null,value:function(e){return!!a(this,e)||this===O&&(e&&e._writableState instanceof M)}}),O.prototype.pipe=function(){k(this,new E)},O.prototype.write=function(e,t,n){return!0===L(this,e,t,n)},O.prototype.cork=function(){this._writableState.corked++},O.prototype.uncork=function(){const e=this._writableState;e.corked&&(e.corked--,e.writing||F(this,e))},O.prototype.setDefaultEncoding=function(e){if("string"===typeof e&&(e=c(e)),!b.isEncoding(e))throw new C(e);return this._writableState.defaultEncoding=e,this},O.prototype._write=function(e,t,n){if(!this._writev)throw new v("_write()");this._writev([{chunk:e,encoding:t}],n)},O.prototype._writev=null,O.prototype.end=function(e,t,n){const i=this._writableState;let a;if("function"===typeof e?(n=e,e=null,t=null):"function"===typeof t&&(n=t,t=null),null!==e&&void 0!==e){const n=L(this,e,t);n instanceof o&&(a=n)}return i.corked&&(i.corked=1,this.uncork()),a||(i.errored||i.ending?i.finished?a=new A("end"):i.destroyed&&(a=new R("end")):(i.ending=!0,Z(this,i,!0),i.ended=!0)),"function"===typeof n&&(a||i.finished?r.nextTick(n,a):i[D].push(n)),this},l(O.prototype,{closed:{__proto__:null,get(){return!!this._writableState&&this._writableState.closed}},destroyed:{__proto__:null,get(){return!!this._writableState&&this._writableState.destroyed},set(e){this._writableState&&(this._writableState.destroyed=e)}},writable:{__proto__:null,get(){const e=this._writableState;return!!e&&!1!==e.writable&&!e.destroyed&&!e.errored&&!e.ending&&!e.ended},set(e){this._writableState&&(this._writableState.writable=!!e)}},writableFinished:{__proto__:null,get(){return!!this._writableState&&this._writableState.finished}},writableObjectMode:{__proto__:null,get(){return!!this._writableState&&this._writableState.objectMode}},writableBuffer:{__proto__:null,get(){return this._writableState&&this._writableState.getBuffer()}},writableEnded:{__proto__:null,get(){return!!this._writableState&&this._writableState.ending}},writableNeedDrain:{__proto__:null,get(){const e=this._writableState;return!!e&&(!e.destroyed&&!e.ending&&e.needDrain)}},writableHighWaterMark:{__proto__:null,get(){return this._writableState&&this._writableState.highWaterMark}},writableCorked:{__proto__:null,get(){return this._writableState?this._writableState.corked:0}},writableLength:{__proto__:null,get(){return this._writableState&&this._writableState.length}},errored:{__proto__:null,enumerable:!1,get(){return this._writableState?this._writableState.errored:null}},writableAborted:{__proto__:null,enumerable:!1,get:function(){return!(!1===this._writableState.writable||!this._writableState.destroyed&&!this._writableState.errored||this._writableState.finished)}}});const K=g.destroy;let q;function Y(){return void 0===q&&(q={}),q}O.prototype.destroy=function(e,t){const n=this._writableState;return!n.destroyed&&(n.bufferedIndex<n.buffered.length||n[D].length)&&r.nextTick($,n),K.call(this,e,t),this},O.prototype._undestroy=g.undestroy,O.prototype._destroy=function(e,t){t(e)},O.prototype[f.captureRejectionSymbol]=function(e){this.destroy(e)},O.fromWeb=function(e,t){return Y().newStreamWritableFromWritableStream(e,t)},O.toWeb=function(e){return Y().newWritableStreamFromStreamWritable(e)}},57249:(e,t,n)=>{"use strict";const{ArrayIsArray:r,ArrayPrototypeIncludes:i,ArrayPrototypeJoin:o,ArrayPrototypeMap:a,NumberIsInteger:s,NumberIsNaN:l,NumberMAX_SAFE_INTEGER:d,NumberMIN_SAFE_INTEGER:c,NumberParseInt:u,ObjectPrototypeHasOwnProperty:h,RegExpPrototypeExec:f,String:p,StringPrototypeToUpperCase:b,StringPrototypeTrim:g}=n(7019),{hideStackFrames:y,codes:{ERR_SOCKET_BAD_PORT:m,ERR_INVALID_ARG_TYPE:w,ERR_INVALID_ARG_VALUE:_,ERR_OUT_OF_RANGE:v,ERR_UNKNOWN_SIGNAL:S}}=n(13402),{normalizeEncoding:E}=n(56799),{isAsyncFunction:R,isArrayBufferView:A}=n(56799).types,T={};const I=/^[0-7]+$/;const C=y((function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:c,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:d;if("number"!==typeof e)throw new w(t,"number",e);if(!s(e))throw new v(t,"an integer",e);if(e<n||e>r)throw new v(t,`>= ${n} && <= ${r}`,e)})),k=y((function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:-2147483648,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:2147483647;if("number"!==typeof e)throw new w(t,"number",e);if(!s(e))throw new v(t,"an integer",e);if(e<n||e>r)throw new v(t,`>= ${n} && <= ${r}`,e)})),N=y((function(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if("number"!==typeof e)throw new w(t,"number",e);if(!s(e))throw new v(t,"an integer",e);const r=n?1:0,i=4294967295;if(e<r||e>i)throw new v(t,`>= ${r} && <= ${i}`,e)}));function D(e,t){if("string"!==typeof e)throw new w(t,"string",e)}const M=y(((e,t,n)=>{if(!i(n,e)){const r=o(a(n,(e=>"string"===typeof e?`'${e}'`:p(e))),", ");throw new _(t,e,"must be one of: "+r)}}));function P(e,t){if("boolean"!==typeof e)throw new w(t,"boolean",e)}function O(e,t,n){return null!=e&&h(e,t)?e[t]:n}const L=y((function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;const i=O(n,"allowArray",!1),o=O(n,"allowFunction",!1);if(!O(n,"nullable",!1)&&null===e||!i&&r(e)||"object"!==typeof e&&(!o||"function"!==typeof e))throw new w(t,"Object",e)})),x=y(((e,t)=>{if(null!=e&&"object"!==typeof e&&"function"!==typeof e)throw new w(t,"a dictionary",e)})),U=y((function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;if(!r(e))throw new w(t,"Array",e);if(e.length<n){throw new _(t,e,`must be longer than ${n}`)}}));const j=y((function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"buffer";if(!A(e))throw new w(t,["Buffer","TypedArray","DataView"],e)}));const W=y(((e,t)=>{if(void 0!==e&&(null===e||"object"!==typeof e||!("aborted"in e)))throw new w(t,"AbortSignal",e)})),B=y(((e,t)=>{if("function"!==typeof e)throw new w(t,"Function",e)})),$=y(((e,t)=>{if("function"!==typeof e||R(e))throw new w(t,"Function",e)})),F=y(((e,t)=>{if(void 0!==e)throw new w(t,"undefined",e)}));const H=/^(?:<[^>]*>)(?:\s*;\s*[^;"\s]+(?:=(")?[^;"\s]*\1)?)*$/;function V(e,t){if("undefined"===typeof e||!f(H,e))throw new _(t,e,'must be an array or string of format "</styles.css>; rel=preload; as=style"')}e.exports={isInt32:function(e){return e===(0|e)},isUint32:function(e){return e===e>>>0},parseFileMode:function(e,t,n){if("undefined"===typeof e&&(e=n),"string"===typeof e){if(null===f(I,e))throw new _(t,e,"must be a 32-bit unsigned integer or an octal string");e=u(e,8)}return N(e,t),e},validateArray:U,validateStringArray:function(e,t){U(e,t);for(let n=0;n<e.length;n++)D(e[n],`${t}[${n}]`)},validateBooleanArray:function(e,t){U(e,t);for(let n=0;n<e.length;n++)P(e[n],`${t}[${n}]`)},validateBoolean:P,validateBuffer:j,validateDictionary:x,validateEncoding:function(e,t){const n=E(t),r=e.length;if("hex"===n&&r%2!==0)throw new _("encoding",t,`is invalid for data of length ${r}`)},validateFunction:B,validateInt32:k,validateInteger:C,validateNumber:function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0,r=arguments.length>3?arguments[3]:void 0;if("number"!==typeof e)throw new w(t,"number",e);if(null!=n&&e<n||null!=r&&e>r||(null!=n||null!=r)&&l(e))throw new v(t,`${null!=n?`>= ${n}`:""}${null!=n&&null!=r?" && ":""}${null!=r?`<= ${r}`:""}`,e)},validateObject:L,validateOneOf:M,validatePlainFunction:$,validatePort:function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"Port",n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];if("number"!==typeof e&&"string"!==typeof e||"string"===typeof e&&0===g(e).length||+e!==+e>>>0||e>65535||0===e&&!n)throw new m(t,e,n);return 0|e},validateSignalName:function(e){if(D(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:"signal"),void 0===T[e]){if(void 0!==T[b(e)])throw new S(e+" (signals must use all capital letters)");throw new S(e)}},validateString:D,validateUint32:N,validateUndefined:F,validateUnion:function(e,t,n){if(!i(n,e))throw new w(t,`('${o(n,"|")}')`,e)},validateAbortSignal:W,validateLinkHeaderValue:function(e){if("string"===typeof e)return V(e,"hints"),e;if(r(e)){const t=e.length;let n="";if(0===t)return n;for(let r=0;r<t;r++){const i=e[r];V(i,"hints"),n+=i,r!==t-1&&(n+=", ")}return n}throw new _("hints",e,'must be an array or string of format "</styles.css>; rel=preload; as=style"')}}},33871:(e,t,n)=>{"use strict";const r=n(72423),i=n(57215),o=r.Readable.destroy;e.exports=r.Readable,e.exports._uint8ArrayToBuffer=r._uint8ArrayToBuffer,e.exports._isUint8Array=r._isUint8Array,e.exports.isDisturbed=r.isDisturbed,e.exports.isErrored=r.isErrored,e.exports.isReadable=r.isReadable,e.exports.Readable=r.Readable,e.exports.Writable=r.Writable,e.exports.Duplex=r.Duplex,e.exports.Transform=r.Transform,e.exports.PassThrough=r.PassThrough,e.exports.addAbortSignal=r.addAbortSignal,e.exports.finished=r.finished,e.exports.destroy=r.destroy,e.exports.destroy=o,e.exports.pipeline=r.pipeline,e.exports.compose=r.compose,Object.defineProperty(r,"promises",{configurable:!0,enumerable:!0,get:()=>i}),e.exports.Stream=r.Stream,e.exports.default=e.exports},13402:(e,t,n)=>{"use strict";const{format:r,inspect:i,AggregateError:o}=n(56799),a=globalThis.AggregateError||o,s=Symbol("kIsNodeError"),l=["string","function","number","object","Function","Object","boolean","bigint","symbol"],d=/^([A-Z][a-z0-9]*)+$/,c={};function u(e,t){if(!e)throw new c.ERR_INTERNAL_ASSERTION(t)}function h(e){let t="",n=e.length;const r="-"===e[0]?1:0;for(;n>=r+4;n-=3)t=`_${e.slice(n-3,n)}${t}`;return`${e.slice(0,n)}${t}`}function f(e,t,n){n||(n=Error);class i extends n{constructor(){for(var n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];super(function(e,t,n){if("function"===typeof t)return u(t.length<=n.length,`Code: ${e}; The provided arguments length (${n.length}) does not match the required ones (${t.length}).`),t(...n);const i=(t.match(/%[dfijoOs]/g)||[]).length;return u(i===n.length,`Code: ${e}; The provided arguments length (${n.length}) does not match the required ones (${i}).`),0===n.length?t:r(t,...n)}(e,t,i))}toString(){return`${this.name} [${e}]: ${this.message}`}}Object.defineProperties(i.prototype,{name:{value:n.name,writable:!0,enumerable:!1,configurable:!0},toString:{value(){return`${this.name} [${e}]: ${this.message}`},writable:!0,enumerable:!1,configurable:!0}}),i.prototype.code=e,i.prototype[s]=!0,c[e]=i}function p(e){const t="__node_internal_"+e.name;return Object.defineProperty(e,"name",{value:t}),e}class b extends Error{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"The operation was aborted",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0;if(void 0!==t&&"object"!==typeof t)throw new c.ERR_INVALID_ARG_TYPE("options","Object",t);super(e,t),this.code="ABORT_ERR",this.name="AbortError"}}f("ERR_ASSERTION","%s",Error),f("ERR_INVALID_ARG_TYPE",((e,t,n)=>{u("string"===typeof e,"'name' must be a string"),Array.isArray(t)||(t=[t]);let r="The ";e.endsWith(" argument")?r+=`${e} `:r+=`"${e}" ${e.includes(".")?"property":"argument"} `,r+="must be ";const o=[],a=[],s=[];for(const i of t)u("string"===typeof i,"All expected entries have to be of type string"),l.includes(i)?o.push(i.toLowerCase()):d.test(i)?a.push(i):(u("object"!==i,'The value "object" should be written as "Object"'),s.push(i));if(a.length>0){const e=o.indexOf("object");-1!==e&&(o.splice(o,e,1),a.push("Object"))}if(o.length>0){switch(o.length){case 1:r+=`of type ${o[0]}`;break;case 2:r+=`one of type ${o[0]} or ${o[1]}`;break;default:{const e=o.pop();r+=`one of type ${o.join(", ")}, or ${e}`}}(a.length>0||s.length>0)&&(r+=" or ")}if(a.length>0){switch(a.length){case 1:r+=`an instance of ${a[0]}`;break;case 2:r+=`an instance of ${a[0]} or ${a[1]}`;break;default:{const e=a.pop();r+=`an instance of ${a.join(", ")}, or ${e}`}}s.length>0&&(r+=" or ")}switch(s.length){case 0:break;case 1:s[0].toLowerCase()!==s[0]&&(r+="an "),r+=`${s[0]}`;break;case 2:r+=`one of ${s[0]} or ${s[1]}`;break;default:{const e=s.pop();r+=`one of ${s.join(", ")}, or ${e}`}}if(null==n)r+=`. Received ${n}`;else if("function"===typeof n&&n.name)r+=`. Received function ${n.name}`;else if("object"===typeof n){var c;if(null!==(c=n.constructor)&&void 0!==c&&c.name)r+=`. Received an instance of ${n.constructor.name}`;else{r+=`. Received ${i(n,{depth:-1})}`}}else{let e=i(n,{colors:!1});e.length>25&&(e=`${e.slice(0,25)}...`),r+=`. Received type ${typeof n} (${e})`}return r}),TypeError),f("ERR_INVALID_ARG_VALUE",(function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"is invalid",r=i(t);r.length>128&&(r=r.slice(0,128)+"...");return`The ${e.includes(".")?"property":"argument"} '${e}' ${n}. Received ${r}`}),TypeError),f("ERR_INVALID_RETURN_VALUE",((e,t,n)=>{var r;return`Expected ${e} to be returned from the "${t}" function but got ${null!==n&&void 0!==n&&null!==(r=n.constructor)&&void 0!==r&&r.name?`instance of ${n.constructor.name}`:"type "+typeof n}.`}),TypeError),f("ERR_MISSING_ARGS",(function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];let r;u(t.length>0,"At least one arg needs to be specified");const i=t.length;switch(t=(Array.isArray(t)?t:[t]).map((e=>`"${e}"`)).join(" or "),i){case 1:r+=`The ${t[0]} argument`;break;case 2:r+=`The ${t[0]} and ${t[1]} arguments`;break;default:{const e=t.pop();r+=`The ${t.join(", ")}, and ${e} arguments`}}return`${r} must be specified`}),TypeError),f("ERR_OUT_OF_RANGE",((e,t,n)=>{let r;return u(t,'Missing "range" argument'),Number.isInteger(n)&&Math.abs(n)>2**32?r=h(String(n)):"bigint"===typeof n?(r=String(n),(n>2n**32n||n<-(2n**32n))&&(r=h(r)),r+="n"):r=i(n),`The value of "${e}" is out of range. It must be ${t}. Received ${r}`}),RangeError),f("ERR_MULTIPLE_CALLBACK","Callback called multiple times",Error),f("ERR_METHOD_NOT_IMPLEMENTED","The %s method is not implemented",Error),f("ERR_STREAM_ALREADY_FINISHED","Cannot call %s after a stream was finished",Error),f("ERR_STREAM_CANNOT_PIPE","Cannot pipe, not readable",Error),f("ERR_STREAM_DESTROYED","Cannot call %s after a stream was destroyed",Error),f("ERR_STREAM_NULL_VALUES","May not write null values to stream",TypeError),f("ERR_STREAM_PREMATURE_CLOSE","Premature close",Error),f("ERR_STREAM_PUSH_AFTER_EOF","stream.push() after EOF",Error),f("ERR_STREAM_UNSHIFT_AFTER_END_EVENT","stream.unshift() after end event",Error),f("ERR_STREAM_WRITE_AFTER_END","write after end",Error),f("ERR_UNKNOWN_ENCODING","Unknown encoding: %s",TypeError),e.exports={AbortError:b,aggregateTwoErrors:p((function(e,t){if(e&&t&&e!==t){if(Array.isArray(t.errors))return t.errors.push(e),t;const n=new a([t,e],t.message);return n.code=t.code,n}return e||t})),hideStackFrames:p,codes:c}},7019:e=>{"use strict";e.exports={ArrayIsArray:e=>Array.isArray(e),ArrayPrototypeIncludes:(e,t)=>e.includes(t),ArrayPrototypeIndexOf:(e,t)=>e.indexOf(t),ArrayPrototypeJoin:(e,t)=>e.join(t),ArrayPrototypeMap:(e,t)=>e.map(t),ArrayPrototypePop:(e,t)=>e.pop(t),ArrayPrototypePush:(e,t)=>e.push(t),ArrayPrototypeSlice:(e,t,n)=>e.slice(t,n),Error:Error,FunctionPrototypeCall(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];return e.call(t,...r)},FunctionPrototypeSymbolHasInstance:(e,t)=>Function.prototype[Symbol.hasInstance].call(e,t),MathFloor:Math.floor,Number:Number,NumberIsInteger:Number.isInteger,NumberIsNaN:Number.isNaN,NumberMAX_SAFE_INTEGER:Number.MAX_SAFE_INTEGER,NumberMIN_SAFE_INTEGER:Number.MIN_SAFE_INTEGER,NumberParseInt:Number.parseInt,ObjectDefineProperties:(e,t)=>Object.defineProperties(e,t),ObjectDefineProperty:(e,t,n)=>Object.defineProperty(e,t,n),ObjectGetOwnPropertyDescriptor:(e,t)=>Object.getOwnPropertyDescriptor(e,t),ObjectKeys:e=>Object.keys(e),ObjectSetPrototypeOf:(e,t)=>Object.setPrototypeOf(e,t),Promise:Promise,PromisePrototypeCatch:(e,t)=>e.catch(t),PromisePrototypeThen:(e,t,n)=>e.then(t,n),PromiseReject:e=>Promise.reject(e),ReflectApply:Reflect.apply,RegExpPrototypeTest:(e,t)=>e.test(t),SafeSet:Set,String:String,StringPrototypeSlice:(e,t,n)=>e.slice(t,n),StringPrototypeToLowerCase:e=>e.toLowerCase(),StringPrototypeToUpperCase:e=>e.toUpperCase(),StringPrototypeTrim:e=>e.trim(),Symbol:Symbol,SymbolFor:Symbol.for,SymbolAsyncIterator:Symbol.asyncIterator,SymbolHasInstance:Symbol.hasInstance,SymbolIterator:Symbol.iterator,TypedArrayPrototypeSet:(e,t,n)=>e.set(t,n),Uint8Array:Uint8Array}},56799:(e,t,n)=>{"use strict";const r=n(19778),i=Object.getPrototypeOf((async function(){})).constructor,o=globalThis.Blob||r.Blob,a="undefined"!==typeof o?function(e){return e instanceof o}:function(e){return!1};class s extends Error{constructor(e){if(!Array.isArray(e))throw new TypeError("Expected input to be an Array, got "+typeof e);let t="";for(let n=0;n<e.length;n++)t+=`    ${e[n].stack}\n`;super(t),this.name="AggregateError",this.errors=e}}e.exports={AggregateError:s,kEmptyObject:Object.freeze({}),once(e){let t=!1;return function(){if(!t){t=!0;for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];e.apply(this,r)}}},createDeferredPromise:function(){let e,t;return{promise:new Promise(((n,r)=>{e=n,t=r})),resolve:e,reject:t}},promisify:e=>new Promise(((t,n)=>{e((function(e){if(e)return n(e);for(var r=arguments.length,i=new Array(r>1?r-1:0),o=1;o<r;o++)i[o-1]=arguments[o];return t(...i)}))})),debuglog:()=>function(){},format(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return e.replace(/%([sdifj])/g,(function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];let[i,o]=t;const a=n.shift();if("f"===o)return a.toFixed(6);if("j"===o)return JSON.stringify(a);if("s"===o&&"object"===typeof a){return`${a.constructor!==Object?a.constructor.name:""} {}`.trim()}return a.toString()}))},inspect(e){switch(typeof e){case"string":if(e.includes("'")){if(!e.includes('"'))return`"${e}"`;if(!e.includes("`")&&!e.includes("${"))return`\`${e}\``}return`'${e}'`;case"number":return isNaN(e)?"NaN":Object.is(e,-0)?String(e):e;case"bigint":return`${String(e)}n`;case"boolean":case"undefined":return String(e);case"object":return"{}"}},types:{isAsyncFunction:e=>e instanceof i,isArrayBufferView:e=>ArrayBuffer.isView(e)},isBlob:a},e.exports.promisify.custom=Symbol.for("nodejs.util.promisify.custom")},72423:(e,t,n)=>{const{Buffer:r}=n(19778),{ObjectDefineProperty:i,ObjectKeys:o,ReflectApply:a}=n(7019),{promisify:{custom:s}}=n(56799),{streamReturningOperators:l,promiseReturningOperators:d}=n(2636),{codes:{ERR_ILLEGAL_CONSTRUCTOR:c}}=n(13402),u=n(39972),{pipeline:h}=n(19758),{destroyer:f}=n(30680),p=n(1255),b=n(57215),g=n(84358),y=e.exports=n(16522).Stream;y.isDisturbed=g.isDisturbed,y.isErrored=g.isErrored,y.isReadable=g.isReadable,y.Readable=n(10223);for(const _ of o(l)){const v=l[_];function m(){if(new.target)throw c();for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return y.Readable.from(a(v,this,t))}i(m,"name",{__proto__:null,value:v.name}),i(m,"length",{__proto__:null,value:v.length}),i(y.Readable.prototype,_,{__proto__:null,value:m,enumerable:!1,configurable:!0,writable:!0})}for(const S of o(d)){const E=d[S];function m(){if(new.target)throw c();for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return a(E,this,t)}i(m,"name",{__proto__:null,value:E.name}),i(m,"length",{__proto__:null,value:E.length}),i(y.Readable.prototype,S,{__proto__:null,value:m,enumerable:!1,configurable:!0,writable:!0})}y.Writable=n(94136),y.Duplex=n(6610),y.Transform=n(27892),y.PassThrough=n(93652),y.pipeline=h;const{addAbortSignal:w}=n(11280);y.addAbortSignal=w,y.finished=p,y.destroy=f,y.compose=u,i(y,"promises",{__proto__:null,configurable:!0,enumerable:!0,get:()=>b}),i(h,s,{__proto__:null,enumerable:!0,get:()=>b.pipeline}),i(p,s,{__proto__:null,enumerable:!0,get:()=>b.finished}),y.Stream=y,y._isUint8Array=function(e){return e instanceof Uint8Array},y._uint8ArrayToBuffer=function(e){return r.from(e.buffer,e.byteOffset,e.byteLength)}},57215:(e,t,n)=>{"use strict";const{ArrayPrototypePop:r,Promise:i}=n(7019),{isIterable:o,isNodeStream:a,isWebStream:s}=n(84358),{pipelineImpl:l}=n(19758),{finished:d}=n(1255);n(72423),e.exports={finished:d,pipeline:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new i(((e,n)=>{let i,d;const c=t[t.length-1];if(c&&"object"===typeof c&&!a(c)&&!o(c)&&!s(c)){const e=r(t);i=e.signal,d=e.end}l(t,((t,r)=>{t?n(t):e(r)}),{signal:i,end:d})}))}}},64133:(e,t,n)=>{"use strict";n.d(t,{TorusWalletAdapter:()=>Tt});var r=n(1413),i=n(64572);function o(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}var a=n(57381),s=n.n(a),l=n(62895),d=n.n(l);const c=d().getLogger("http-helpers");c.setLevel(l.levels.INFO);let u="torus-default",h="";let f=null;const p=[],b=[];function g(e){u=e}async function y(e,t){let n=null;try{n=new URL(e)}catch(r){}if(f&&n&&(p.includes(n.origin)||b.includes(n.pathname))){const n=f.startTransaction({name:e}),r=n.startChild({op:"http"}),i=await fetch(e,t);return r.finish(),n.finish(),i}return fetch(e,t)}function m(){const e={};return u&&(e["x-api-key"]=u),h&&(e["x-embed-host"]=h),e}function w(e){c.info(`Response: ${e.status} ${e.statusText}`),c.info(`Url: ${e.url}`)}const _=async function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const n={mode:"cors",headers:{}};(arguments.length>2&&void 0!==arguments[2]?arguments[2]:{}).useAPIKey&&(n.headers=(0,r.Z)((0,r.Z)({},n.headers),m()));const i=s()(n,t,{method:"GET"}),o=await y(e,i);if(o.ok){const e=o.headers.get("content-type");return null!==e&&void 0!==e&&e.includes("application/json")?o.json():o.text()}throw w(o),o};var v=n(33871),S=n(47465),E=n(11053),R=n.n(E),A=n(93137),T=n(69578),I=n.n(T),C=n(14876),k=n.n(C),N=n(99306),D=n.n(N);function M(){}const P="ACK";class O extends v.Duplex{constructor(e){let{name:t,target:n,targetWindow:r=window,targetOrigin:o="*"}=e;if(super({objectMode:!0}),(0,i.Z)(this,"_init",void 0),(0,i.Z)(this,"_haveSyn",void 0),(0,i.Z)(this,"_name",void 0),(0,i.Z)(this,"_target",void 0),(0,i.Z)(this,"_targetWindow",void 0),(0,i.Z)(this,"_targetOrigin",void 0),(0,i.Z)(this,"_onMessage",void 0),(0,i.Z)(this,"_synIntervalId",void 0),!t||!n)throw new Error("Invalid input.");this._init=!1,this._haveSyn=!1,this._name=t,this._target=n,this._targetWindow=r,this._targetOrigin=o,this._onMessage=this.onMessage.bind(this),this._synIntervalId=null,window.addEventListener("message",this._onMessage,!1),this._handShake()}_break(){this.cork(),this._write("BRK",null,M),this._haveSyn=!1,this._init=!1}_handShake(){this._write("SYN",null,M),this.cork()}_onData(e){if(this._init)if("BRK"===e)this._break();else try{this.push(e)}catch(t){this.emit("error",t)}else"SYN"===e?(this._haveSyn=!0,this._write(P,null,M)):e===P&&(this._init=!0,this._haveSyn||this._write(P,null,M),this.uncork())}_postMessage(e){const t=this._targetOrigin;this._targetWindow.postMessage({target:this._target,data:e},t)}onMessage(e){const t=e.data;"*"!==this._targetOrigin&&e.origin!==this._targetOrigin||e.source!==this._targetWindow||"object"!==typeof t||t.target!==this._name||!t.data||this._onData(t.data)}_read(){}_write(e,t,n){this._postMessage(e),n()}_destroy(){window.removeEventListener("message",this._onMessage,!1)}}function L(e,t,n){try{Reflect.apply(e,t,n)}catch(r){setTimeout((()=>{throw r}))}}class x extends S.EventEmitter{emit(e){let t="error"===e;const n=this._events;if(void 0!==n)t=t&&void 0===n.error;else if(!t)return!1;for(var r=arguments.length,i=new Array(r>1?r-1:0),o=1;o<r;o++)i[o-1]=arguments[o];if(t){let e;if(i.length>0&&([e]=i),e instanceof Error)throw e;const t=new Error("Unhandled error."+(e?` (${e.message})`:""));throw t.context=e,t}const a=n[e];if(void 0===a)return!1;if("function"===typeof a)L(a,this,i);else{const e=a.length,t=function(e){const t=e.length,n=new Array(t);for(let r=0;r<t;r+=1)n[r]=e[r];return n}(a);for(let n=0;n<e;n+=1)L(t[n],this,i)}return!0}}class U extends Error{constructor(e){let{code:t,message:n,data:r}=e;if(!Number.isInteger(t))throw new Error("code must be an integer");if(!n||"string"!==typeof n)throw new Error("message must be string");super(n),(0,i.Z)(this,"code",void 0),(0,i.Z)(this,"data",void 0),this.code=t,void 0!==r&&(this.data=r)}toString(){return R()({code:this.code,message:this.message,data:this.data,stack:this.stack})}}function j(){const e={};const t=new x;const n=new v.Duplex({objectMode:!0,read:function(){return!1},write:function(n,r,i){let o;try{!n.id?function(e){t.emit("notification",e)}(n):function(t){const n=e[t.id];if(!n)throw new Error(`StreamMiddleware - Unknown response id "${t.id}"`);delete e[t.id],Object.assign(n.res,t),setTimeout(n.end)}(n)}catch(a){o=a}i(o)}});return{events:t,middleware:(t,r,i,o)=>{n.push(t),e[t.id]={req:t,res:r,next:i,end:o}},stream:n}}class W extends x{constructor(){super(),(0,i.Z)(this,"_middleware",void 0),this._middleware=[]}static async _runAllMiddleware(e,t,n){const r=[];let i=null,o=!1;for(const a of n)if([i,o]=await W._runMiddleware(e,t,a,r),o)break;return[i,o,r.reverse()]}static _runMiddleware(e,t,n,r){return new Promise((i=>{const o=e=>{const n=e||t.error;n&&(t.error=(0,A.Xy)(n)),i([n,!0])},a=e=>{t.error?o(t.error):(e&&("function"!==typeof e&&o(new U({code:-32603,message:"JRPCEngine: 'next' return handlers must be functions"})),r.push(e)),i([null,!1]))};try{n(e,t,a,o)}catch(s){o(s)}}))}static async _runReturnHandlers(e){for(const t of e)await new Promise(((e,n)=>{t((t=>t?n(t):e()))}))}static _checkForCompletion(e,t,n){if(!("result"in t)&&!("error"in t))throw new U({code:-32603,message:"Response has no error or result for request"});if(!n)throw new U({code:-32603,message:"Nothing ended request"})}push(e){this._middleware.push(e)}handle(e,t){if(t&&"function"!==typeof t)throw new Error('"callback" must be a function if provided.');return Array.isArray(e)?t?this._handleBatch(e,t):this._handleBatch(e):t?this._handle(e,t):this._promiseHandle(e)}asMiddleware(){return async(e,t,n,r)=>{try{const[i,o,a]=await W._runAllMiddleware(e,t,this._middleware);return o?(await W._runReturnHandlers(a),r(i)):n((async e=>{try{await W._runReturnHandlers(a)}catch(t){return e(t)}return e()}))}catch(i){return r(i)}}}async _handleBatch(e,t){try{const n=await Promise.all(e.map(this._promiseHandle.bind(this)));return t?t(null,n):n}catch(n){if(t)return t(n);throw n}}_promiseHandle(e){return new Promise((t=>{this._handle(e,((e,n)=>{t(n)}))}))}async _handle(e,t){if(!e||Array.isArray(e)||"object"!==typeof e){const e=new U({code:-32603,message:"request must be plain object"});return t(e,{id:void 0,jsonrpc:"2.0",error:e})}if("string"!==typeof e.method){const n=new U({code:-32603,message:"method must be string"});return t(n,{id:e.id,jsonrpc:"2.0",error:n})}const n=(0,r.Z)({},e),i={id:n.id,jsonrpc:n.jsonrpc};let o=null;try{await this._processRequest(n,i)}catch(a){o=a}return o&&(delete i.result,i.error||(i.error=(0,A.Xy)(o))),t(o,i)}async _processRequest(e,t){const[n,r,i]=await W._runAllMiddleware(e,t,this._middleware);if(W._checkForCompletion(e,t,r),await W._runReturnHandlers(i),n)throw n}}class B extends v.Duplex{constructor(e){let{parent:t,name:n}=e;super({objectMode:!0}),(0,i.Z)(this,"_parent",void 0),(0,i.Z)(this,"_name",void 0),this._parent=t,this._name=n}_read(){}_write(e,t,n){this._parent.push({name:this._name,data:e}),n()}}const $=Symbol("IGNORE_SUBSTREAM");class F extends v.Duplex{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};super((0,r.Z)((0,r.Z)({},e),{},{objectMode:!0})),(0,i.Z)(this,"_substreams",void 0),(0,i.Z)(this,"getStream",void 0),this._substreams={}}createStream(e){if(!e)throw new Error("ObjectMultiplex - name must not be empty");if(this._substreams[e])throw new Error(`ObjectMultiplex - Substream for name "${e}" already exists`);const t=new B({parent:this,name:e});return this._substreams[e]=t,function(e,t){const n=k()(t);I()(e,{readable:!1},n),I()(e,{writable:!1},n)}(this,(e=>t.destroy(e||void 0))),t}ignoreStream(e){if(!e)throw new Error("ObjectMultiplex - name must not be empty");if(this._substreams[e])throw new Error(`ObjectMultiplex - Substream for name "${e}" already exists`);this._substreams[e]=$}_read(){}_write(e,t,n){const{name:r,data:i}=e;if(!r)return window.console.warn(`ObjectMultiplex - malformed chunk without name "${e}"`),n();const o=this._substreams[r];return o?(o!==$&&o.push(i),n()):(window.console.warn(`ObjectMultiplex - orphaned data for stream "${r}"`),n())}}var H=n(78262),V=n.n(H),Z=n(19778).Buffer;const G={GOOGLE:"google",FACEBOOK:"facebook",TWITCH:"twitch",REDDIT:"reddit",DISCORD:"discord",EMAIL_PASSWORDLESS:"torus-auth0-email-passwordless"},K={[G.GOOGLE]:"tkey-google",[G.FACEBOOK]:"tkey-facebook",[G.TWITCH]:"tkey-twitch",[G.REDDIT]:"tkey-reddit",[G.DISCORD]:"tkey-discord",[G.EMAIL_PASSWORDLESS]:"tkey-auth0-email-passwordless"},q="moonpay",Y="wyre",X="rampnetwork",z="xanpool",J="mercuryo",Q="transak",ee="banxa",te="mainnet",ne="matic",re="bsc_mainnet",ie="avalanche_mainnet",oe="arbitrum_mainnet",ae="optimism_mainnet",se={PRODUCTION:"production",DEVELOPMENT:"development",BINANCE:"binance",TESTING:"testing",LRC:"lrc",BETA:"beta",BNB:"bnb",POLYGON:"polygon",ALPHA:"alpha"},le={BOTTOM_LEFT:"bottom-left",TOP_LEFT:"top-left",BOTTOM_RIGHT:"bottom-right",TOP_RIGHT:"top-right"},de={[q]:["AUD","BGN","BRL","CAD","CHF","CNY","COP","CZK","DKK","DOP","EGP","EUR","GBP","HKD","HRK","IDR","ILS","JPY","JOD","KES","KRW","KWD","LKR","MAD","MXN","MYR","NGN","NOK","NZD","OMR","PEN","PKR","PLN","RON","RUB","SEK","SGD","THB","TRY","TWD","USD","VND","ZAR"],[Y]:["USD","EUR","GBP","AUD","CAD","NZD","CNY","ARS","BRL","CHF","CLP","COP","CZK","DKK","HKD","ILS","INR","ISK","JPY","KRW","MXN","MYR","NOK","PHP","PLN","SEK","SGD","THB","VND","ZAR"],[X]:["USD","EUR","GBP","BMD","BAM","BWP","BRL","BGN","COP","CRC","CZK","DKK","DOP","GEL","GTQ","HNL","HUF","ISK","INR","ILS","KZT","KES","KWD","LAK","MKD","MYR","MXN","MDL","MZN","NZD","NGN","PYG","PEN","PLN","RON","RSD","SGD","ZAR","LKR","SEK","CHF","TJS","THB","UYU"],[z]:["SGD","HKD","THB","PHP","INR","IDR","MYR","AUD","NZD","KRW"],[J]:["EUR","USD","GBP","TRY","JPY","BRL","NGN","VND","MXN","KRW","PLN","SEK","CHF","CAD","CZK","DKK","BGN","HKD","AUD","INR"],[Q]:["ARS","AUD","BBD","BGN","BMD","BRL","CAD","CHF","CLP","CRC","CZK","DKK","DOP","EUR","FJD","FKP","GBP","GIP","HRK","HUF","IDR","ILS","ISK","JMD","JPY","KES","KRW","MDL","MXN","MYR","NOK","NZD","PEN","PHP","PLN","PYG","RON","SEK","SGD","THB","TRY","TZS","USD","ZAR"],[ee]:["AUD","CAD","CZK","DKK","EUR","GBP","HKD","JPY","NOK","NZD","NZD","PLN","RUB","SEK","SGD","TRY","USD"]},ce=new Set(["ETH","USDT","USDC","TUSD","EOSDT","USD","DAI","GUSD","DKKT","PAX","ILS","RUB","BYN","EUR","GBP","JPY","KRW","PLN","MXN","AUD","BRL","CAD","CHF","KPW","LAK","LBP","LKR","XOF","CNHT","DOGE","UAH","TRY","HKD","XJP","SGD","USC","NZD","NGN","RUR","COP","GHS","EGP","IDR","BHD","CRC","PEN","AED","DOP","PKR","HUF","VND","XAR","LTC","RON","OMR","MYR","DKK","UGX","ZMW","SAR","SEK","GEL","RWF","IRR","TZS","CNY","VEF","BDT","HRK","CLP","THB","XAF","ARS","UYU","SZL","KZT","NOK","KES","PAB","INR","CZK","MAD","TWD","PHP","ZAR","BOB","CDF","DASH","VES","ISK","MWK","BAM","TTD","XRP","JOD","RSD","HNL","BGN","GTQ","BWP","XMR","MMK","QAR","AOA","KWD","MUR","WUSD","WEUR","WAVES","WTRY","LRD","LSL","LYD","AWG","MDL","BTO","EURS","CHFT","MKD","MNT","MOP","MRO","MVR","VOLLAR","CKUSD","KHR","VUV","BITCNY","QC","BBD","NAD","NPR","PGK","PYG","BIF","BMD","BND","XLM","BNB","SCR","BAT","CRO","HT","KCS","LEO","LINK","MKR","NPXS","OMG","REP","ZB","ZIL","ZRX","BCH","BZD","CUP","CVE","DJF","DZD","ERN","ETB","FJD","FKP","BUSD","ANCT","ALL","AMD","ANG","CNYX","IQD","UZS","TND","GGP","XAU","KGS","GIP","JMD","ZEC","USDP","BSV","EMC2","SNT","GTO","POWR","EUSD","EURT","BCY","BTS","ATM","BLOCKPAY","ARDR","AMP","B2X","BITGOLD","BITEUR","ATB","BITUSD","AGRS","DFXT","HIKEN","BIX","KNC","EOS","COB","COSS","BMH","NANO","BDG","BNT","XVG","LKK1Y","LKK","USDK","EURN","NZDT","JSE","GMD","GNF","GYD","YER","XPF","HTG","SLL","SOS","WST","SVC","SYP","NEO","KMF","JUMP","AYA","BLAST","WGR","BCN","BTG","URALS","INN","USDQ","CNH","HUSD","BKRW","NZDX","EURX","CADX","USDEX","JPYX","AUDX","VNDC","EON","GBPX","CHFX","USDJ","IDRT","USDS","USDN","BIDR","IDK","BSD","BTN","KYD","NIO","SBD","SDG","SHP","TOP","XCD","XCHF","CNYT","GYEN","ZUSD","GOLD","TRX","TRYB","PLATC","STRAX","UST","GLM","VAI","BRZ","DDRST","XAUT","MIM"]);function ue(e){return de[e].filter((e=>ce.has(e)))}const he={[q]:{line1:"Credit/ Debit Card/ Apple Pay",line2:"4.5% or 5 USD",line3:"2,000\u20ac/day, 10,000\u20ac/mo",supportPage:"https://help.moonpay.io/en/",minOrderValue:24.99,maxOrderValue:5e4,validCurrencies:ue(q),validCryptoCurrenciesByChain:{[te]:[{value:"aave",display:"AAVE"},{value:"bat",display:"BAT"},{value:"dai",display:"DAI"},{value:"eth",display:"ETH"},{value:"mkr",display:"MKR"},{value:"matic",display:"MATIC"},{value:"usdt",display:"USDT"},{value:"uni",display:"UNI"},{value:"usdc",display:"USDC"},{value:"weth",display:"WETH"}],[ne]:[{value:"eth_polygon",display:"ETH"},{value:"matic_polygon",display:"MATIC"},{value:"usdc_polygon",display:"USDC"},{value:"usdt_polygon",display:"USDT"}],[re]:[{value:"bnb_bsc",display:"BNB"},{value:"busd_bsc",display:"BUSD"}],[ie]:[{value:"avax_cchain",display:"AVAX"},{value:"usdc_cchain",display:"USDC"}],[oe]:[{value:"eth_arbitrum",display:"ETH"},{value:"usdc_arbitrum",display:"USDC"}],[ae]:[{value:"eth_optimism",display:"ETH"},{value:"usdc_optimism",display:"USDC"}]},includeFees:!0,api:!0,enforceMax:!1},[Y]:{line1:"Apple Pay/ Debit/ Credit Card",line2:"4.9% + 30\xa2 or 5 USD",line3:"$250/day",supportPage:"https://support.sendwyre.com/en/",minOrderValue:5,maxOrderValue:500,validCurrencies:ue(Y),validCryptoCurrenciesByChain:{[te]:[{value:"AAVE",display:"AAVE"},{value:"COMP",display:"COMP"},{value:"BAT",display:"BAT"},{value:"BUSD",display:"BUSD"},{value:"DAI",display:"DAI"},{value:"ETH",display:"ETH"},{value:"WBTC",display:"WBTC"},{value:"MKR",display:"MKR"},{value:"UNI",display:"UNI"},{value:"WETH",display:"WETH"},{value:"USDC",display:"USDC"},{value:"USDT",display:"USDT"}],[ne]:[{value:"mUSDC",display:"USDC"},{value:"MATIC",display:"MATIC"},{value:"MWETH",display:"WETH"}],[ie]:[{value:"AVAXC",display:"AVAX"},{value:"AVAXCUSDC",display:"USDC"}],[re]:[{value:"BNB",display:"BNB"},{value:"BBUSD",display:"BUSD"}]},includeFees:!1,api:!0,enforceMax:!1},[X]:{line1:"Debit Card/ <br>Apple Pay/ Bank transfer",line2:"0.49% - 2.9%",line3:"5,000\u20ac/purchase, 20,000\u20ac/mo",supportPage:"https://instant.ramp.network/",minOrderValue:50,maxOrderValue:2e4,validCurrencies:ue(X),validCryptoCurrenciesByChain:{[te]:[{value:"ETH",display:"ETH"},{value:"DAI",display:"DAI"},{value:"BAT",display:"BAT"},{value:"USDC",display:"USDC"},{value:"USDT",display:"USDT"}],[ne]:[{value:"MATIC_BAT",display:"BAT"},{value:"MATIC_DAI",display:"DAI"},{value:"MATIC_MATIC",display:"MATIC"},{value:"MATIC_USDC",display:"USDC"},{value:"MATIC_USDT",display:"USDT"}],[ie]:[{value:"AVAX_AVAX",display:"AVAX"},{value:"AVAX_USDC",display:"USDC"},{value:"AVAX_USDT",display:"USDT"}],[oe]:[{value:"ARBITRUM_ETH",display:"ETH"},{value:"ARBITRUM_USDC.e\t",display:"USDC"},{value:"ARBITRUM_USDT",display:"USDT"}],[ae]:[{value:"OPTIMISM_DAI",display:"DAI"},{value:"OPTIMISM_OPTIMISM",display:"OPTIMISM"},{value:"OPTIMISM_USDC",display:"USDC"},{value:"OPTIMISM_USDT",display:"USDT"}],[re]:[{value:"BSC_BNB",display:"BNB"},{value:"BSC_BUSD",display:"BUSD"}]},includeFees:!0,api:!0,receiveHint:"walletTopUp.receiveHintRamp",enforceMax:!1},[z]:{line1:"PayNow/ InstaPay/ FPS/ GoJekPay/ UPI/ PromptPay/ <br>ViettelPay/ DuitNow",line2:"2.5% buying, 3% selling",line3:"$2,500 / day",supportPage:"mailto:support@xanpool.com",minOrderValue:100,maxOrderValue:2500,validCurrencies:ue(z),validCryptoCurrenciesByChain:{[te]:[{value:"ETH",display:"ETH"},{value:"USDT",display:"USDT"},{value:"USDC",display:"USDC"}]},includeFees:!0,api:!0,sell:!0,enforceMax:!1},[J]:{line1:"Credit/ Debit Card/ Apple Pay",line2:"3.95% or 4 USD",line3:"10,000\u20ac/day, 25,000\u20ac/mo",supportPage:"mailto:support@mercuryo.io",minOrderValue:30,maxOrderValue:5e3,validCurrencies:ue(J),validCryptoCurrenciesByChain:{[te]:[{value:"ETH",display:"ETH"},{value:"BAT",display:"BAT"},{value:"USDT",display:"USDT"},{value:"DAI",display:"DAI"}],[re]:[{value:"BNB",display:"BNB"},{value:"BUSD",display:"BUSD"},{value:"1INCH",display:"1INCH"}],[ie]:[{value:"AVAX",display:"AVAX"}],[ne]:[{value:"MATIC",display:"MATIC"}]},includeFees:!0,api:!0,enforceMax:!1},[Q]:{line1:"Apple & Google Pay / Credit/Debit Card<br/>Bangkok Bank Mobile & iPay<br/>Bank Transfer (sepa/gbp) / SCB Mobile & Easy",line2:"0.99% - 5.5% or 5 USD",line3:"$5,000/day, $28,000/mo",supportPage:"https://support.transak.com/hc/en-US",minOrderValue:30,maxOrderValue:500,validCurrencies:ue(Q),validCryptoCurrenciesByChain:{[te]:[{value:"1INCH",display:"1INCH"},{value:"BAT",display:"BAT"},{value:"AAVE",display:"AAVE"},{value:"DAI",display:"DAI"},{value:"ETH",display:"ETH"},{value:"USDC",display:"USDC"},{value:"USDT",display:"USDT"}],[ne]:[{value:"BAT",display:"BAT"},{value:"AAVE",display:"AAVE"},{value:"DAI",display:"DAI"},{value:"MATIC",display:"MATIC"},{value:"USDC",display:"USDC"},{value:"USDT",display:"USDT"},{value:"WETH",display:"WETH"}],[re]:[{value:"BAT",display:"BAT"},{value:"BNB",display:"BNB"},{value:"BUSD",display:"BUSD"}],[ie]:[{value:"AVAX",display:"AVAX"}],[ae]:[{value:"ETH",display:"ETH"},{value:"USDC",display:"USDC"}],[oe]:[{value:"USDC",display:"USDC"},{value:"ETH",display:"ETH"}]},includeFees:!0,enforceMax:!0},[ee]:{line1:"Debit Card/ <br>Apple Pay/ Bank transfer",line2:"0.49% - 2.9%",line3:"5,000\u20ac/purchase, 20,000\u20ac/mo",supportPage:"https://support.banxa.com",minOrderValue:20,maxOrderValue:15e3,validCurrencies:ue(ee),validCryptoCurrenciesByChain:{[te]:[{value:"ETH",display:"ETH"},{value:"DAI",display:"DAI"},{value:"MKR",display:"MKR"},{value:"USDT",display:"USDT"},{value:"BUSD",display:"BUSD"},{value:"USDC",display:"USDC"},{value:"BAT",display:"BAT"},{value:"AAVE",display:"AAVE"},{value:"COMP",display:"COMP"},{value:"UNI",display:"UNI"}],[ne]:[{value:"MATIC",display:"MATIC"}]},includeFees:!0,enforceMax:!0}};var fe={supportedVerifierList:Object.values(G),paymentProviders:he,api:"https://api.tor.us",translations:{en:{embed:{continue:"Continue",actionRequired:"Authorization required",pendingAction:"Click continue to proceed with your request in a popup",cookiesRequired:"Cookies Required",enableCookies:"Please enable cookies in your browser preferences to access Torus",clickHere:"More Info"}},de:{embed:{continue:"Fortsetzen",actionRequired:"Autorisierung erforderlich",pendingAction:"Klicken Sie in einem Popup auf Weiter, um mit Ihrer Anfrage fortzufahren",cookiesRequired:"Cookies ben\xf6tigt",enableCookies:"Bitte aktivieren Sie Cookies in Ihren Browsereinstellungen, um auf Torus zuzugreifen",clickHere:"Mehr Info"}},ja:{embed:{continue:"\u7d99\u7d9a\u3059\u308b",actionRequired:"\u8a8d\u8a3c\u304c\u5fc5\u8981\u3067\u3059",pendingAction:"\u7d9a\u884c\u3092\u30af\u30ea\u30c3\u30af\u3057\u3066\u3001\u30dd\u30c3\u30d7\u30a2\u30c3\u30d7\u3067\u30ea\u30af\u30a8\u30b9\u30c8\u3092\u7d9a\u884c\u3057\u307e\u3059",cookiesRequired:"\u5fc5\u8981\u306a\u30af\u30c3\u30ad\u30fc",enableCookies:"Torus\u306b\u30a2\u30af\u30bb\u30b9\u3059\u308b\u306b\u306f\u3001\u30d6\u30e9\u30a6\u30b6\u306e\u8a2d\u5b9a\u3067Cookie\u3092\u6709\u52b9\u306b\u3057\u3066\u304f\u3060\u3055\u3044\u3002",clickHere:"\u8a73\u3057\u304f\u306f"}},ko:{embed:{continue:"\uacc4\uc18d\ud558\ub2e4",actionRequired:"\uc2b9\uc778 \ud544\uc694",pendingAction:"\ud31d\uc5c5\uc5d0\uc11c \uc694\uccad\uc744 \uc9c4\ud589\ud558\ub824\uba74 \uacc4\uc18d\uc744 \ud074\ub9ad\ud558\uc2ed\uc2dc\uc624.",cookiesRequired:"\ucfe0\ud0a4 \ud544\uc694",enableCookies:"\ube0c\ub77c\uc6b0\uc800 \ud658\uacbd \uc124\uc815\uc5d0\uc11c \ucfe0\ud0a4\ub97c \ud65c\uc131\ud654\ud558\uc5ec Torus\uc5d0 \uc561\uc138\uc2a4\ud558\uc2ed\uc2dc\uc624.",clickHere:"\ub354 \ub9ce\uc740 \uc815\ubcf4"}},zh:{embed:{continue:"\u7ee7\u7eed",actionRequired:"\u9700\u8981\u6388\u6743",pendingAction:"\u5355\u51fb\u7ee7\u7eed\u4ee5\u5728\u5f39\u51fa\u7a97\u53e3\u4e2d\u7ee7\u7eed\u60a8\u7684\u8bf7\u6c42",cookiesRequired:"\u5fc5\u586bCookie",enableCookies:"\u8bf7\u5728\u60a8\u7684\u6d4f\u89c8\u5668\u9996\u9009\u9879\u4e2d\u542f\u7528cookie\u4ee5\u8bbf\u95eeTorus\u3002",clickHere:"\u66f4\u591a\u4fe1\u606f"}}},prodTorusUrl:"",localStorageKeyPrefix:"torus-"};const pe=e=>{const t=window.document.createElement("template"),n=e.trim();return t.innerHTML=n,t.content.firstChild},be=(e,t,n)=>{const r=i=>{n(i),e.removeListener(t,r)};e.on(t,r)};function ge(e){return null!==e&&"object"===typeof e&&"function"===typeof e.pipe}function ye(e){return function(e){return ge(e)&&!1!==e.writable&&"function"===typeof e._write&&"object"===typeof e._writableState}(e)&&function(e){return ge(e)&&!1!==e.readable&&"function"===typeof e._read&&"object"===typeof e._readableState}(e)}var me=d().getLogger("torus-embed"),we={disconnected:()=>"Torus: Lost connection to Torus.",permanentlyDisconnected:()=>"Torus: Disconnected from iframe. Page reload required.",sendSiteMetadata:()=>"Torus: Failed to send site metadata. This is an internal error, please report this bug.",unsupportedSync:e=>`Torus: The Torus Ethereum provider does not support synchronous methods like ${e} without a callback parameter.`,invalidDuplexStream:()=>"Must provide a Node.js-style duplex stream.",invalidOptions:(e,t)=>`Invalid options. Received: { maxEventListeners: ${e}, shouldSendMetadata: ${t} }`,invalidRequestArgs:()=>"Expected a single, non-array, object argument.",invalidRequestMethod:()=>"'args.method' must be a non-empty string.",invalidRequestParams:()=>"'args.params' must be an object or array if provided.",invalidLoggerObject:()=>"'args.logger' must be an object if provided.",invalidLoggerMethod:e=>`'args.logger' must include required method '${e}'.`},_e={connected:e=>`Torus: Connected to chain with ID "${e}".`};const{paymentProviders:ve}=fe;const Se=()=>Math.random().toString(36).slice(2),Ee=async(e,t)=>{let n,r;const i="4.0.4";let o=t.version||i;try{if(("binance"===e||"production"===e)&&!t.version){let e;e=fe.prodTorusUrl?{data:fe.prodTorusUrl}:await _(`${fe.api}/latestversion?name=@toruslabs/torus-embed&version=${i}`,{},{useAPIKey:!0}),o=e.data,fe.prodTorusUrl=e.data}}catch(a){me.error(a,"unable to fetch latest version")}switch(me.info("version used: ",o),e){case"binance":n=`https://binance.tor.us/v${o}`,r="info";break;case"testing":n="https://testing.tor.us",r="debug";break;case"bnb":n="https://bnb.tor.us",r="error";break;case"polygon":n="https://polygon.tor.us",r="error";break;case"lrc":n="https://lrc.tor.us",r="debug";break;case"beta":n="https://beta.tor.us",r="debug";break;case"development":n="http://localhost:4050",r="debug";break;case"alpha":n="https://alpha.tor.us",r="debug";break;default:n=`https://app.tor.us/v${o}`,r="error"}return{torusUrl:n,logLevel:r}},Re=()=>{let e=window.navigator.language||"en-US";const t=e.split("-");return e=Object.prototype.hasOwnProperty.call(fe.translations,t[0])?t[0]:"en",e},Ae=["eth_subscription"],Te=()=>{},Ie="directories=0,titlebar=0,toolbar=0,status=0,location=0,menubar=0,height=660,width=375",Ce="directories=0,titlebar=0,toolbar=0,status=0,location=0,menubar=0,height=700,width=450";x.defaultMaxListeners=100;const ke=function(e,t){let n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];return(r,i)=>r||i.error?t(r||i.error):!n||Array.isArray(i)?e(i):e(i.result)};class Ne extends x{constructor(e){let{maxEventListeners:t=100,shouldSendMetadata:n=!0,jsonRpcStreamName:o="provider"}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(super(),(0,i.Z)(this,"chainId",void 0),(0,i.Z)(this,"selectedAddress",void 0),(0,i.Z)(this,"_rpcEngine",void 0),(0,i.Z)(this,"networkVersion",void 0),(0,i.Z)(this,"shouldSendMetadata",void 0),(0,i.Z)(this,"isTorus",void 0),(0,i.Z)(this,"tryPreopenHandle",void 0),(0,i.Z)(this,"enable",void 0),(0,i.Z)(this,"_state",void 0),(0,i.Z)(this,"_jsonRpcConnection",void 0),!ye(e))throw new Error(we.invalidDuplexStream());this.isTorus=!0,this.setMaxListeners(t),this._state=(0,r.Z)({},Ne._defaultState),this.selectedAddress=null,this.networkVersion=null,this.chainId=null,this.shouldSendMetadata=n,this._handleAccountsChanged=this._handleAccountsChanged.bind(this),this._handleChainChanged=this._handleChainChanged.bind(this),this._handleUnlockStateChanged=this._handleUnlockStateChanged.bind(this),this._handleConnect=this._handleConnect.bind(this),this._handleDisconnect=this._handleDisconnect.bind(this),this._handleStreamDisconnect=this._handleStreamDisconnect.bind(this),this._sendSync=this._sendSync.bind(this),this._rpcRequest=this._rpcRequest.bind(this),this._initializeState=this._initializeState.bind(this),this.request=this.request.bind(this),this.send=this.send.bind(this),this.sendAsync=this.sendAsync.bind(this);const a=new F;D()(e,a,e,this._handleStreamDisconnect.bind(this,"MetaMask")),a.ignoreStream("phishing"),this.on("connect",(()=>{this._state.isConnected=!0}));const s=j();D()(s.stream,a.createStream(o),s.stream,this._handleStreamDisconnect.bind(this,"MetaMask RpcProvider"));const l=new W;l.push(((e,t,n,r)=>{const i=e.id,o=Math.random().toString(36).slice(2);e.id=o,t.id=o,n((n=>{e.id=i,t.id=i,n()}))})),l.push(((e,t,n)=>{"string"===typeof e.method&&e.method||(t.error=A.PY.invalidRequest({message:"The request 'method' must be a non-empty string.",data:(0,r.Z)((0,r.Z)({},e||{}),{},{cause:"The request 'method' must be a non-empty string."})})),n((e=>{const{error:n}=t;return n?(me.error(`MetaMask - RPC Error: ${n.message}`,n),e()):e()}))})),l.push(s.middleware),this._rpcEngine=l,s.events.on("notification",(e=>{const{method:t,params:n}=e;"wallet_accountsChanged"===t?this._handleAccountsChanged(n):"wallet_unlockStateChanged"===t?this._handleUnlockStateChanged(n):"wallet_chainChanged"===t?this._handleChainChanged(n):Ae.includes(e.method)&&(this.emit("data",e),this.emit("notification",n.result),this.emit("message",{type:t,data:n}))}))}isConnected(){return this._state.isConnected}async request(e){if(!e||"object"!==typeof e||Array.isArray(e))throw A.PY.invalidRequest({message:we.invalidRequestArgs(),data:(0,r.Z)((0,r.Z)({},e||{}),{},{cause:we.invalidRequestArgs()})});const{method:t,params:n}=e;if("string"!==typeof t||0===t.length)throw A.PY.invalidRequest({message:we.invalidRequestMethod(),data:(0,r.Z)((0,r.Z)({},e||{}),{},{cause:we.invalidRequestArgs()})});if(void 0!==n&&!Array.isArray(n)&&("object"!==typeof n||null===n))throw A.PY.invalidRequest({message:we.invalidRequestParams(),data:(0,r.Z)((0,r.Z)({},e||{}),{},{cause:we.invalidRequestArgs()})});return new Promise(((e,r)=>{this._rpcRequest({method:t,params:n},ke(e,r))}))}sendAsync(e,t){this._rpcRequest(e,t)}async _initializeState(){try{const{accounts:e,chainId:t,isUnlocked:n,networkVersion:r}=await this.request({method:"wallet_getProviderState"});this.emit("connect",{chainId:t}),this._handleChainChanged({chainId:t,networkVersion:r}),this._handleUnlockStateChanged({accounts:e,isUnlocked:n}),this._handleAccountsChanged(e)}catch(e){me.error("MetaMask: Failed to get initial state. Please report this bug.",e)}finally{me.info("initialized state"),this._state.initialized=!0,this.emit("_initialized")}}_rpcRequest(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=t;const i=e;if(!Array.isArray(i))if(i.jsonrpc||(i.jsonrpc="2.0"),"eth_accounts"===i.method||"eth_requestAccounts"===i.method)r=(e,r)=>{this._handleAccountsChanged(r.result||[],"eth_accounts"===i.method,n),t(e,r)};else if("wallet_getProviderState"===i.method)return void this._rpcEngine.handle(e,r);this.tryPreopenHandle(i,r)}send(e,t){return"string"!==typeof e||t&&!Array.isArray(t)?e&&"object"===typeof e&&"function"===typeof t?this._rpcRequest(e,t):this._sendSync(e):new Promise(((n,r)=>{try{this._rpcRequest({method:e,params:t},ke(n,r,!1))}catch(i){r(i)}}))}_sendSync(e){let t;switch(e.method){case"eth_accounts":t=this.selectedAddress?[this.selectedAddress]:[];break;case"eth_coinbase":t=this.selectedAddress||null;break;case"eth_uninstallFilter":this._rpcRequest(e,Te),t=!0;break;case"net_version":t=this.networkVersion||null;break;default:throw new Error(we.unsupportedSync(e.method))}return{id:e.id,jsonrpc:e.jsonrpc,result:t}}_handleConnect(e){this._state.isConnected||(this._state.isConnected=!0,this.emit("connect",{chainId:e}),me.debug(_e.connected(e)))}_handleDisconnect(e,t){if(this._state.isConnected||!this._state.isPermanentlyDisconnected&&!e){let n;this._state.isConnected=!1,e?(n=new A.yd(1013,t||we.disconnected()),me.debug(n)):(n=new A.yd(1011,t||we.permanentlyDisconnected()),me.error(n),this.chainId=null,this._state.accounts=null,this.selectedAddress=null,this._state.isUnlocked=!1,this._state.isPermanentlyDisconnected=!0),this.emit("disconnect",n)}}_handleStreamDisconnect(e,t){!function(e,t,n){let r=`MetaMask: Lost connection to "${e}".`;null!==t&&void 0!==t&&t.stack&&(r+=`\n${t.stack}`),me.warn(r),n&&n.listenerCount("error")>0&&n.emit("error",r)}(e,t,this),this._handleDisconnect(!1,t?t.message:void 0)}_handleAccountsChanged(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=e;Array.isArray(r)||(me.error("MetaMask: Received non-array accounts parameter. Please report this bug.",r),r=[]);for(const i of e)if("string"!==typeof i){me.error("MetaMask: Received non-string account. Please report this bug.",e),r=[];break}V()(this._state.accounts,r)||(t&&Array.isArray(this._state.accounts)&&this._state.accounts.length>0&&!n&&me.error('MetaMask: "eth_accounts" unexpectedly updated accounts. Please report this bug.',r),this._state.accounts=r,this.emit("accountsChanged",r)),this.selectedAddress!==r[0]&&(this.selectedAddress=r[0]||null)}_handleChainChanged(){let{chainId:e,networkVersion:t}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};e&&t?"loading"===t?this._handleDisconnect(!0):(this._handleConnect(e),e!==this.chainId&&(this.chainId=e,this._state.initialized&&this.emit("chainChanged",this.chainId))):me.error("MetaMask: Received invalid network parameters. Please report this bug.",{chainId:e,networkVersion:t})}_handleUnlockStateChanged(){let{accounts:e,isUnlocked:t}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};"boolean"===typeof t?t!==this._state.isUnlocked&&(this._state.isUnlocked=t,this._handleAccountsChanged(e||[])):me.error("MetaMask: Received invalid isUnlocked parameter. Please report this bug.",{isUnlocked:t})}}(0,i.Z)(Ne,"_defaultState",{accounts:null,isConnected:!1,isUnlocked:!1,initialized:!1,isPermanentlyDisconnected:!1,hasEmittedConnection:!1});class De extends x{constructor(e){let{url:t,target:n,features:r,timeout:o=3e4}=e;super(),(0,i.Z)(this,"url",void 0),(0,i.Z)(this,"target",void 0),(0,i.Z)(this,"features",void 0),(0,i.Z)(this,"window",void 0),(0,i.Z)(this,"windowTimer",void 0),(0,i.Z)(this,"iClosedWindow",void 0),(0,i.Z)(this,"timeout",void 0),this.url=t,this.target=n||"_blank",this.features=r||function(){const e=void 0!==window.screenLeft?window.screenLeft:window.screenX,t=void 0!==window.screenTop?window.screenTop:window.screenY,n=window.innerWidth?window.innerWidth:document.documentElement.clientWidth?document.documentElement.clientWidth:window.screen.width,r=window.innerHeight?window.innerHeight:document.documentElement.clientHeight?document.documentElement.clientHeight:window.screen.height,i=Math.abs((n-1200)/2/1+e);return`titlebar=0,toolbar=0,status=0,location=0,menubar=0,height=700,width=1200,top=${Math.abs((r-700)/2/1+t)},left=${i}`}(),this.window=void 0,this.windowTimer=void 0,this.iClosedWindow=!1,this.timeout=o,this._setupTimer()}_setupTimer(){this.windowTimer=Number(setInterval((()=>{this.window&&this.window.closed&&(clearInterval(this.windowTimer),setTimeout((()=>{this.iClosedWindow||this.emit("close"),this.iClosedWindow=!1,this.window=void 0}),this.timeout)),void 0===this.window&&clearInterval(this.windowTimer)}),500))}open(){var e;this.window=window.open(this.url.href,this.target,this.features),null!==(e=this.window)&&void 0!==e&&e.focus&&this.window.focus()}close(){this.iClosedWindow=!0,this.window&&this.window.close()}redirect(e){e?window.location.replace(this.url.href):window.location.href=this.url.href}}function Me(e){return new Promise(((t,n)=>{try{const n=document.createElement("img");n.onload=()=>t(!0),n.onerror=()=>t(!1),n.src=e}catch(r){n(r)}}))}const Pe=e=>{const{document:t}=e,n=t.querySelector('head > meta[property="og:site_name"]');if(n)return n.content;const r=t.querySelector('head > meta[name="title"]');return r?r.content:t.title&&t.title.length>0?t.title:e.location.hostname};async function Oe(e){const{document:t}=e;let n=t.querySelector('head > link[rel="shortcut icon"]');return n&&await Me(n.href)?n.href:(n=Array.from(t.querySelectorAll('head > link[rel="icon"]')).find((e=>Boolean(e.href))),n&&await Me(n.href)?n.href:null)}async function Le(e){try{const t=await(async()=>({name:Pe(window),icon:await Oe(window)}))();e.handle({jsonrpc:"2.0",id:Se(),method:"wallet_sendDomainMetadata",params:t},Te)}catch(t){me.error({message:we.sendSiteMetadata(),originalError:t})}}const xe=["host","chainId","networkName"],Ue=["eth_sendTransaction","eth_signTypedData","eth_signTypedData_v3","eth_signTypedData_v4","personal_sign","eth_getEncryptionPublicKey","eth_decrypt","wallet_addEthereumChain","wallet_switchEthereumChain"];!async function(){try{if("undefined"===typeof document)return;const e=document.createElement("link"),{torusUrl:t}=await Ee("production",{version:""});e.href=`${t}/popup`,e.crossOrigin="anonymous",e.type="text/html",e.rel="prefetch",e.relList&&e.relList.supports&&e.relList.supports("prefetch")&&document.head.appendChild(e)}catch(e){me.warn(e)}}();class je{constructor(){let{buttonPosition:e=le.BOTTOM_LEFT,buttonSize:t=56,modalZIndex:n=99999,apiKey:r="torus-default"}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};(0,i.Z)(this,"buttonPosition",le.BOTTOM_LEFT),(0,i.Z)(this,"buttonSize",void 0),(0,i.Z)(this,"torusUrl",void 0),(0,i.Z)(this,"torusIframe",void 0),(0,i.Z)(this,"styleLink",void 0),(0,i.Z)(this,"isLoggedIn",void 0),(0,i.Z)(this,"isInitialized",void 0),(0,i.Z)(this,"torusWidgetVisibility",void 0),(0,i.Z)(this,"torusAlert",void 0),(0,i.Z)(this,"apiKey",void 0),(0,i.Z)(this,"modalZIndex",void 0),(0,i.Z)(this,"alertZIndex",void 0),(0,i.Z)(this,"torusAlertContainer",void 0),(0,i.Z)(this,"isIframeFullScreen",void 0),(0,i.Z)(this,"whiteLabel",void 0),(0,i.Z)(this,"requestedVerifier",void 0),(0,i.Z)(this,"currentVerifier",void 0),(0,i.Z)(this,"embedTranslations",void 0),(0,i.Z)(this,"ethereum",void 0),(0,i.Z)(this,"provider",void 0),(0,i.Z)(this,"communicationMux",void 0),(0,i.Z)(this,"isLoginCallback",void 0),(0,i.Z)(this,"paymentProviders",fe.paymentProviders),(0,i.Z)(this,"loginHint",""),(0,i.Z)(this,"useWalletConnect",void 0),(0,i.Z)(this,"isCustomLogin",!1),this.buttonPosition=e,this.buttonSize=t,this.torusUrl="",this.isLoggedIn=!1,this.isInitialized=!1,this.torusWidgetVisibility=!0,this.requestedVerifier="",this.currentVerifier="",this.apiKey=r,g(r),this.modalZIndex=n,this.alertZIndex=n+1e3,this.isIframeFullScreen=!1}async init(){let{buildEnv:e=se.PRODUCTION,enableLogging:t=!1,network:n={host:"mainnet",chainId:null,networkName:"",blockExplorer:"",ticker:"",tickerName:""},loginConfig:r={},showTorusButton:i=!0,integrity:o={version:""},whiteLabel:a,useWalletConnect:l=!1,mfaLevel:d="default"}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(this.isInitialized)throw new Error("Already initialized");const{torusUrl:c,logLevel:u}=await Ee(e,o);me.info(c,"url loaded"),this.torusUrl=c,this.whiteLabel=a,this.useWalletConnect=l,this.isCustomLogin=!!(r&&Object.keys(r).length>0)||!!(a&&Object.keys(a).length>0),me.setDefaultLevel(u),t?me.enableAll():me.disableAll(),this.torusWidgetVisibility=i;const h=new URL(c);h.pathname.endsWith("/")?h.pathname+="popup":h.pathname+="/popup",h.hash=`#isCustomLogin=${this.isCustomLogin}`,this.torusIframe=pe(`<iframe\n        id="torusIframe"\n        allow=${l?"camera":""}\n        class="torusIframe"\n        src="${h.href}"\n        style="display: none; position: fixed; top: 0; right: 0; width: 100%; color-scheme: none;\n        height: 100%; border: none; border-radius: 0; z-index: ${this.modalZIndex}"\n      ></iframe>`),this.torusAlertContainer=pe('<div id="torusAlertContainer"></div>'),this.torusAlertContainer.style.display="none",this.torusAlertContainer.style.setProperty("z-index",this.alertZIndex.toString());const f=window.document.createElement("link");f.setAttribute("rel","stylesheet"),f.setAttribute("type","text/css"),f.setAttribute("href",`${c}/css/widget.css`),this.styleLink=f;const{defaultLanguage:p=Re(),customTranslations:b={}}=this.whiteLabel||{},g=s()(fe.translations,b)[p]||fe.translations[Re()];return this.embedTranslations=g.embed,new Promise(((e,t)=>{this.torusIframe.onload=async()=>{this._setupWeb3();const i=this.communicationMux.getStream("init_stream");i.on("data",(n=>{const{name:r,data:i,error:o}=n;"init_complete"===r&&i.success?(this.isInitialized=!0,this._displayIframe(this.isIframeFullScreen),e(void 0)):o&&t(new Error(o))})),i.write({name:"init_stream",data:{loginConfig:r,whiteLabel:this.whiteLabel,buttonPosition:this.buttonPosition,buttonSize:this.buttonSize,torusWidgetVisibility:this.torusWidgetVisibility,apiKey:this.apiKey,network:n,mfaLevel:d}})},window.document.head.appendChild(this.styleLink),window.document.body.appendChild(this.torusIframe),window.document.body.appendChild(this.torusAlertContainer)}))}login(){let{verifier:e="",login_hint:t=""}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(!this.isInitialized)throw new Error("Call init() first");return this.requestedVerifier=e,this.loginHint=t,this.ethereum.enable()}logout(){return new Promise(((e,t)=>{if(!this.isLoggedIn)return void t(new Error("User has not logged in yet"));this.communicationMux.getStream("logout").write({name:"logOut"});const n=this.communicationMux.getStream("status");be(n,"data",(n=>{n.loggedIn?t(new Error("Some Error Occured")):(this.isLoggedIn=!1,this.currentVerifier="",this.requestedVerifier="",e())}))}))}async cleanUp(){this.isLoggedIn&&await this.logout(),this.clearInit()}clearInit(){function e(e){return e instanceof Element||e instanceof HTMLDocument}e(this.styleLink)&&window.document.body.contains(this.styleLink)&&(this.styleLink.remove(),this.styleLink=void 0),e(this.torusIframe)&&window.document.body.contains(this.torusIframe)&&(this.torusIframe.remove(),this.torusIframe=void 0),e(this.torusAlertContainer)&&window.document.body.contains(this.torusAlertContainer)&&(this.torusAlert=void 0,this.torusAlertContainer.remove(),this.torusAlertContainer=void 0),this.isInitialized=!1}hideTorusButton(){this.torusWidgetVisibility=!1,this._sendWidgetVisibilityStatus(!1),this._displayIframe()}showTorusButton(){this.torusWidgetVisibility=!0,this._sendWidgetVisibilityStatus(!0),this._displayIframe()}setProvider(e){let{host:t="mainnet",chainId:n=null,networkName:i=""}=e,a=o(e,xe);return new Promise(((e,o)=>{const s=this.communicationMux.getStream("provider_change");be(s,"data",(t=>{const n=t,{err:r,success:i}=n.data;me.info(n),r?o(r):i?e():o(new Error("some error occurred"))}));const l=Se();this._handleWindow(l,{target:"_blank",features:Ie}),s.write({name:"show_provider_change",data:{network:(0,r.Z)({host:t,chainId:n,networkName:i},a),preopenInstanceId:l,override:!1}})}))}showWallet(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const n=this.communicationMux.getStream("show_wallet"),r=e?`/${e}`:"";n.write({name:"show_wallet",data:{path:r}});be(n,"data",(e=>{const n=e;if("show_wallet_instance"===n.name){const{instanceId:e}=n.data,i=new URL(`${this.torusUrl}/wallet${r}`);i.searchParams.append("integrity","true"),i.searchParams.append("instanceId",e),Object.keys(t).forEach((e=>{i.searchParams.append(e,t[e])})),i.hash=`#isCustomLogin=${this.isCustomLogin}`;new De({url:i,features:"directories=0,titlebar=0,toolbar=0,status=0,location=0,menubar=0,height=740,width=1315"}).open()}}))}async getPublicAddress(e){let{verifier:t,verifierId:n,isExtended:r=!1}=e;if(!fe.supportedVerifierList.includes(t)||!K[t])throw new Error("Unsupported verifier");const i=t,o=K[t],a=new URL("https://api.tor.us/lookup/torus");return a.searchParams.append("verifier",o),a.searchParams.append("verifierId",n),a.searchParams.append("walletVerifier",i),a.searchParams.append("network","mainnet"),a.searchParams.append("isExtended",r.toString()),_(a.href,{headers:{"Content-Type":"application/json; charset=utf-8"}},{useAPIKey:!0})}getUserInfo(e){return new Promise(((t,n)=>{if(this.isLoggedIn){const r=this.communicationMux.getStream("user_info_access");r.write({name:"user_info_access_request"});const i=r=>{const i=r,{name:o,data:{approved:a,payload:s,rejected:l,newRequest:d}}=i;if("user_info_access_response"===o)if(a)t(s);else if(l)n(new Error("User rejected the request"));else if(d){const r=this.communicationMux.getStream("user_info");be(r,"data",(e=>{const r=e;"user_info_response"===r.name&&(r.data.approved?t(r.data.payload):n(new Error("User rejected the request")))}));const i=Se();this._handleWindow(i,{target:"_blank",features:Ie}),r.write({name:"user_info_request",data:{message:e,preopenInstanceId:i}})}};be(r,"data",i)}else n(new Error("User has not logged in yet"))}))}initiateTopup(e,t){return new Promise(((n,r)=>{if(this.isInitialized){const{errors:i,isValid:o}=((e,t)=>{const n={};if(!e)return{errors:n,isValid:!0};if(e&&!ve[e])return n.provider="Invalid Provider",{errors:n,isValid:0===Object.keys(n).length};const r=ve[e],i=t||{};if(i.fiatValue){const e=+parseFloat(i.fiatValue.toString())||0;e<r.minOrderValue&&(n.fiatValue="Requested amount is lower than supported"),e>r.maxOrderValue&&r.enforceMax&&(n.fiatValue="Requested amount is higher than supported")}if(i.selectedCurrency&&!r.validCurrencies.includes(i.selectedCurrency)&&(n.selectedCurrency="Unsupported currency"),i.selectedCryptoCurrency){const t=Object.values(r.validCryptoCurrenciesByChain).flat().map((e=>e.value)),o=e===q?i.selectedCryptoCurrency.toLowerCase():i.selectedCryptoCurrency;t&&!t.includes(o)&&(n.selectedCryptoCurrency="Unsupported cryptoCurrency")}return{errors:n,isValid:0===Object.keys(n).length}})(e,t);if(!o)return void r(new Error(JSON.stringify(i)));const a=this.communicationMux.getStream("topup");be(a,"data",(e=>{const t=e;"topup_response"===t.name&&(t.data.success?n(t.data.success):r(new Error(t.data.error)))}));const s=Se();this._handleWindow(s),a.write({name:"topup_request",data:{provider:e,params:t,preopenInstanceId:s}})}else r(new Error("Torus is not initialized yet"))}))}async loginWithPrivateKey(e){const{privateKey:t,userInfo:n}=e;return new Promise(((e,r)=>{if(this.isInitialized){if(32!==Z.from(t,"hex").length)return void r(new Error("Invalid private key, Please provide a 32 byte valid secp25k1 private key"));const i=this.communicationMux.getStream("login_with_private_key");be(i,"data",(t=>{const n=t;"login_with_private_key_response"===n.name&&(n.data.success?e(n.data.success):r(new Error(n.data.error)))})),i.write({name:"login_with_private_key_request",data:{privateKey:t,userInfo:n}})}else r(new Error("Torus is not initialized yet"))}))}async showWalletConnectScanner(){if(!this.useWalletConnect)throw new Error("Set `useWalletConnect` as true in init function options to use wallet connect scanner");return new Promise(((e,t)=>{if(this.isLoggedIn){const n=this.communicationMux.getStream("wallet_connect_stream");be(n,"data",(n=>{const r=n;"wallet_connect_stream_res"===r.name&&(r.data.success?e(r.data.success):t(new Error(r.data.error)),this._displayIframe())})),n.write({name:"wallet_connect_stream_req"}),this._displayIframe(!0)}else t(new Error("User has not logged in yet"))}))}_handleWindow(e){let{url:t,target:n,features:r}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(e){const i=this.communicationMux.getStream("window"),o=new URL(t||`${this.torusUrl}/redirect?preopenInstanceId=${e}`);o.hash?o.hash+=`&isCustomLogin=${this.isCustomLogin}`:o.hash=`#isCustomLogin=${this.isCustomLogin}`;const a=new De({url:o,target:n,features:r});if(a.open(),!a.window)return void this._createPopupBlockAlert(e,o.href);i.write({name:"opened_window",data:{preopenInstanceId:e}});const s=t=>{let{preopenInstanceId:n,close:r}=t;n===e&&r&&(a.close(),i.removeListener("data",s))};i.on("data",s),a.once("close",(()=>{i.write({data:{preopenInstanceId:e,closed:!0}}),i.removeListener("data",s)}))}}_setEmbedWhiteLabel(e){const{theme:t}=this.whiteLabel||{};if(t){const{isDark:n=!1,colors:r={}}=t;n&&e.classList.add("torus-dark"),r.torusBrand1&&e.style.setProperty("--torus-brand-1",r.torusBrand1),r.torusGray2&&e.style.setProperty("--torus-gray-2",r.torusGray2)}}_getLogoUrl(){var e;let t=`${this.torusUrl}/images/torus_icon-blue.svg`;var n,r;null!==(e=this.whiteLabel)&&void 0!==e&&null!==(e=e.theme)&&void 0!==e&&e.isDark?t=(null===(n=this.whiteLabel)||void 0===n?void 0:n.logoLight)||t:t=(null===(r=this.whiteLabel)||void 0===r?void 0:r.logoDark)||t;return t}_sendWidgetVisibilityStatus(e){this.communicationMux.getStream("torus-widget-visibility").write({data:e})}_displayIframe(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];const t={},n=this.buttonSize+14;if(e)t.display="block",t.width="100%",t.height="100%",t.top="0px",t.right="0px",t.left="0px",t.bottom="0px";else switch(t.display=this.torusWidgetVisibility?"block":"none",t.height=`${n}px`,t.width=`${n}px`,this.buttonPosition){case le.TOP_LEFT:t.top="0px",t.left="0px",t.right="auto",t.bottom="auto";break;case le.TOP_RIGHT:t.top="0px",t.right="0px",t.left="auto",t.bottom="auto";break;case le.BOTTOM_RIGHT:t.bottom="0px",t.right="0px",t.top="auto",t.left="auto";break;case le.BOTTOM_LEFT:default:t.bottom="0px",t.left="0px",t.top="auto",t.right="auto"}Object.assign(this.torusIframe.style,t),this.isIframeFullScreen=e}_setupWeb3(){me.info("setupWeb3 running");const e=new O({name:"embed_metamask",target:"iframe_metamask",targetWindow:this.torusIframe.contentWindow,targetOrigin:new URL(this.torusUrl).origin}),t=new O({name:"embed_comm",target:"iframe_comm",targetWindow:this.torusIframe.contentWindow,targetOrigin:new URL(this.torusUrl).origin}),n=new Ne(e),r=e=>{const t=n[e];n[e]=function(e){if(e&&"eth_requestAccounts"===e)return n.enable();for(var r=arguments.length,i=new Array(r>1?r-1:0),o=1;o<r;o++)i[o-1]=arguments[o];return t.apply(this,[e,...i])}};r("send"),r("sendAsync"),n.enable=()=>new Promise(((e,t)=>{n.sendAsync({jsonrpc:"2.0",id:Se(),method:"eth_requestAccounts",params:[]},((n,r)=>{const{result:i}=r||{};if(n)setTimeout((()=>{t(n)}),50);else if(Array.isArray(i)&&i.length>0){const n=()=>{if(""!==this.requestedVerifier&&this.currentVerifier!==this.requestedVerifier){const{requestedVerifier:n}=this;this.logout().then((r=>{this.requestedVerifier=n,this._showLoginPopup(!0,e,t)})).catch((e=>t(e)))}else e(i)};this.isLoggedIn?n():this.isLoginCallback=n}else this._showLoginPopup(!0,e,t)}))})),n.tryPreopenHandle=(e,t)=>{const r=e;if(!Array.isArray(r)&&Ue.includes(r.method)){const e=Se();this._handleWindow(e,{target:"_blank",features:Ce}),r.preopenInstanceId=e}n._rpcEngine.handle(r,t)};const i=new Proxy(n,{deleteProperty:()=>!0});this.ethereum=i;const o=function(e){const t=new F;return t.getStream=function(e){return this._substreams[e]?this._substreams[e]:this.createStream(e)},D()(e,t,e,(e=>{e&&window.console.error(e)})),t}(t);this.communicationMux=o;o.getStream("window").on("data",(e=>{"create_window"===e.name&&this._createPopupBlockAlert(e.data.preopenInstanceId,e.data.url)}));o.getStream("widget").on("data",(e=>{const{data:t}=e;this._displayIframe(t)}));o.getStream("status").on("data",(e=>{e.loggedIn?(this.isLoggedIn=e.loggedIn,this.currentVerifier=e.verifier):this._displayIframe(),this.isLoginCallback&&(this.isLoginCallback(),delete this.isLoginCallback)})),this.provider=i,this.provider.shouldSendMetadata&&Le(this.provider._rpcEngine),n._initializeState(),me.debug("Torus - injected provider")}_showLoginPopup(e,t,n){const r=e=>{const r=e,{err:i,selectedAddress:o}=r;i?(me.error(i),n&&n(i)):t&&t([o]),this.isIframeFullScreen&&this._displayIframe()},i=this.communicationMux.getStream("oauth");if(this.requestedVerifier){be(i,"data",r);const t=Se();this._handleWindow(t),i.write({name:"oauth",data:{calledFromEmbed:e,verifier:this.requestedVerifier,preopenInstanceId:t,login_hint:this.loginHint}})}else this._displayIframe(!0),be(i,"data",r),i.write({name:"oauth_modal",data:{calledFromEmbed:e}})}_createPopupBlockAlert(e,t){const n=this._getLogoUrl(),r=pe(`<div id="torusAlert" class="torus-alert--v2"><div id="torusAlert__logo"><img src="${n}" /></div><div><h1 id="torusAlert__title">${this.embedTranslations.actionRequired}</h1><p id="torusAlert__desc">${this.embedTranslations.pendingAction}</p></div></div>`),i=pe(`<div><a id="torusAlert__btn">${this.embedTranslations.continue}</a></div>`),o=pe('<div id="torusAlert__btn-container"></div>');o.appendChild(i),r.appendChild(o),this._setEmbedWhiteLabel(r),this.torusAlertContainer.style.display="block",this.torusAlertContainer.appendChild(r),i.addEventListener("click",(()=>{this._handleWindow(e,{url:t,target:"_blank",features:Ce}),r.remove(),0===this.torusAlertContainer.children.length&&(this.torusAlertContainer.style.display="none")}))}}n(47314);function We(e,t,n){try{Reflect.apply(e,t,n)}catch(r){setTimeout((()=>{throw r}))}}class Be extends S.EventEmitter{emit(e){let t="error"===e;const n=this._events;if(void 0!==n)t=t&&void 0===n.error;else if(!t)return!1;for(var r=arguments.length,i=new Array(r>1?r-1:0),o=1;o<r;o++)i[o-1]=arguments[o];if(t){let e;if(i.length>0&&([e]=i),e instanceof Error)throw e;const t=new Error("Unhandled error."+(e?` (${e.message})`:""));throw t.context=e,t}const a=n[e];if(void 0===a)return!1;if("function"===typeof a)We(a,this,i);else{const e=a.length,t=function(e){const t=e.length,n=new Array(t);for(let r=0;r<t;r+=1)n[r]=e[r];return n}(a);for(let n=0;n<e;n+=1)We(t[n],this,i)}return!0}}class $e extends Error{constructor(e){let{code:t,message:n,data:r}=e;if(!Number.isInteger(t))throw new Error("code must be an integer");if(!n||"string"!==typeof n)throw new Error("message must be string");super(n),_defineProperty(this,"code",void 0),_defineProperty(this,"data",void 0),this.code=t,void 0!==r&&(this.data=r)}toString(){return stringify({code:this.code,message:this.message,data:this.data,stack:this.stack})}}Symbol("IGNORE_SUBSTREAM");n(1827);var Fe=n(79392);function He(e){let t,n=!1,r=0;try{t=window[e],n=!0,r=t.length;const i="__storage_test__";return t.setItem(i,i),t.removeItem(i),!0}catch(i){const e=i;return e&&(22===e.code||1014===e.code||"QuotaExceededError"===e.name||"NS_ERROR_DOM_QUOTA_REACHED"===e.name)&&n&&0!==r}}class Ve{constructor(){(0,i.Z)(this,"store",{})}getItem(e){return this.store[e]||null}setItem(e,t){this.store[e]=t}}(0,i.Z)(class{constructor(e,t){(0,i.Z)(this,"storage",void 0),(0,i.Z)(this,"_storeKey",void 0),this.storage=t,this._storeKey=e;try{t.getItem(e)||this.resetStore()}catch(n){}}static getInstance(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"local";if(!this.instance){let n;n="local"===t&&He("localStorage")?window.localStorage:"session"===t&&He("sessionStorage")?window.sessionStorage:new Ve,this.instance=new this(e,n)}return this.instance}toJSON(){return this.storage.getItem(this._storeKey)}resetStore(){const e=this.getStore();return this.storage.setItem(this._storeKey,JSON.stringify({})),e}getStore(){return JSON.parse(this.storage.getItem(this._storeKey)||"{}")}get(e){return JSON.parse(this.storage.getItem(this._storeKey)||"{}")[e]}set(e,t){const n=JSON.parse(this.storage.getItem(this._storeKey)||"{}");n[e]=t,this.storage.setItem(this._storeKey,JSON.stringify(n))}},"instance",void 0);const Ze=(0,r.Z)((0,r.Z)({},Fe.X_),Fe.Ad);var Ge=n(688);const Ke=d().getLogger("http-helpers");Ke.setLevel(l.levels.INFO);let qe="torus-default",Ye="";let Xe=null;const ze=[],Je=[];async function Qe(e,t){let n=null;try{n=new URL(e)}catch(r){}if(Xe&&n&&(ze.includes(n.origin)||Je.includes(n.pathname))){const n=Xe.startTransaction({name:e}),r=n.startChild({op:"http"}),i=await fetch(e,t);return r.finish(),n.finish(),i}return fetch(e,t)}function et(){const e={};return qe&&(e["x-api-key"]=qe),Ye&&(e["x-embed-host"]=Ye),e}function tt(e){Ke.info(`Response: ${e.status} ${e.statusText}`),Ke.info(`Url: ${e.url}`)}const nt=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};const o={mode:"cors",headers:{"Content-Type":"application/json; charset=utf-8"}};i.useAPIKey&&(o.headers=(0,r.Z)((0,r.Z)({},o.headers),et()));const a=s()(o,n,{method:"POST"});return i.isUrlEncodedData?(a.body=t,"application/json; charset=utf-8"===a.headers["Content-Type"]&&delete a.headers["Content-Type"]):a.body=JSON.stringify(t),((e,t)=>{const n=new Promise(((t,n)=>{const r=setTimeout((()=>{clearTimeout(r),n(new Error(`Timed out in ${e}ms`))}),e)}));return Promise.race([t,n])})(i.timeout||6e4,Qe(e,a).then((e=>{if(i.logTracingHeader&&function(e){Ke.info(`Request tracing with traceID=${e.headers.get("x-web3-correlation-id")}`)}(e),e.ok){const t=e.headers.get("content-type");return null!==t&&void 0!==t&&t.includes("application/json")?e.json():e.text()}throw tt(e),e})))};var rt=n(30456);const it="eip155",ot="solana",at="other",st="eip155",lt=(e,t)=>{if(e===at)return null;const n=t?"number"===typeof t?t:parseInt(t,16):(e=>{if(e===it)return 1;if(e===ot)return 1;throw new Error(`Chain namespace ${e} is not supported`)})(e);return e===it?(e=>1===e?{chainNamespace:it,chainId:"0x1",rpcTarget:"https://rpc.ankr.com/eth",displayName:"Ethereum Mainnet",blockExplorer:"https://etherscan.io/",ticker:"ETH",tickerName:"Ethereum",decimals:18}:5===e?{chainNamespace:it,chainId:"0x5",rpcTarget:"https://rpc.ankr.com/eth_goerli",displayName:"Goerli Testnet",blockExplorer:"https://goerli.etherscan.io/",ticker:"ETH",tickerName:"Ethereum",decimals:18}:11155111===e?{chainNamespace:it,chainId:"0xaa36a7",rpcTarget:"https://rpc.ankr.com/eth_sepolia",displayName:"Sepolia Testnet",blockExplorer:"https://sepolia.etherscan.io/",ticker:"ETH",tickerName:"Ethereum",decimals:18}:137===e?{chainNamespace:it,chainId:"0x89",rpcTarget:"https://rpc.ankr.com/polygon",displayName:"Polygon Mainnet",blockExplorer:"https://polygonscan.com",ticker:"MATIC",tickerName:"Polygon"}:80001===e?{chainNamespace:it,chainId:"0x13881",rpcTarget:"https://rpc.ankr.com/polygon_mumbai",displayName:"Polygon Mumbai Testnet",blockExplorer:"https://mumbai.polygonscan.com/",ticker:"MATIC",tickerName:"Polygon",decimals:18}:56===e?{chainNamespace:it,chainId:"0x38",rpcTarget:"https://rpc.ankr.com/bsc",displayName:"Binance SmartChain Mainnet",blockExplorer:"https://bscscan.com",ticker:"BNB",tickerName:"Binance SmartChain",decimals:18}:97===e?{chainNamespace:it,chainId:"0x61",rpcTarget:"https://rpc.ankr.com/bsc_testnet_chapel",displayName:"Binance SmartChain Testnet",blockExplorer:"https://testnet.bscscan.com",ticker:"BNB",tickerName:"Binance SmartChain",decimals:18}:25===e?{chainNamespace:it,chainId:"0x19",rpcTarget:"https://rpc.cronos.org",displayName:"Cronos Mainnet",blockExplorer:"https://cronoscan.com/",ticker:"CRO",tickerName:"Cronos"}:338===e?{chainNamespace:it,chainId:"0x152",rpcTarget:"https://rpc-t3.cronos.org/",displayName:"Cronos Testnet",blockExplorer:"https://cronoscan.com/",ticker:"CRO",tickerName:"Cronos",decimals:18}:8217===e?{chainNamespace:it,chainId:"0x2019",rpcTarget:"https://public-node-api.klaytnapi.com/v1/cypress",displayName:"Klaytn Mainnet",blockExplorer:"https://scope.klaytn.com",ticker:"KLAY",tickerName:"Klaytn",decimals:18}:null)(n):e===ot?(e=>1===e?{chainNamespace:ot,chainId:"0x1",rpcTarget:"https://rpc.ankr.com/solana",displayName:"Solana Mainnet",blockExplorer:"https://explorer.solana.com",ticker:"SOL",tickerName:"Solana",decimals:9}:2===e?{chainNamespace:ot,chainId:"0x2",rpcTarget:"https://api.testnet.solana.com",displayName:"Solana Testnet",blockExplorer:"https://explorer.solana.com?cluster=testnet",ticker:"SOL",tickerName:"Solana",decimals:9}:3===e?{chainNamespace:ot,chainId:"0x3",rpcTarget:"https://api.devnet.solana.com",displayName:"Solana Devnet",blockExplorer:"https://explorer.solana.com?cluster=devnet",ticker:"SOL",tickerName:"Solana",decimals:9}:null)(n):null};class dt extends Ge.s{constructor(e,t){super(t),(0,i.Z)(this,"code",void 0),(0,i.Z)(this,"message",void 0),this.code=e,this.message=t||"",Object.defineProperty(this,"name",{value:"Web3AuthError"})}toJSON(){return{name:this.name,code:this.code,message:this.message}}toString(){return JSON.stringify(this.toJSON())}}class ct extends dt{constructor(e,t){super(e,t),Object.defineProperty(this,"name",{value:"WalletInitializationError"})}static fromCode(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return new ct(e,`${ct.messages[e]}, ${t}`)}static notFound(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return ct.fromCode(5001,e)}static notInstalled(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return ct.fromCode(5002,e)}static notReady(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return ct.fromCode(5003,e)}static windowBlocked(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return ct.fromCode(5004,e)}static windowClosed(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return ct.fromCode(5005,e)}static incompatibleChainNameSpace(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return ct.fromCode(5006,e)}static duplicateAdapterError(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return ct.fromCode(5007,e)}static invalidProviderConfigError(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return ct.fromCode(5008,e)}static providerNotReadyError(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return ct.fromCode(5009,e)}static rpcConnectionError(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return ct.fromCode(5010,e)}static invalidParams(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return ct.fromCode(5011,e)}static invalidNetwork(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return ct.fromCode(5013,e)}}(0,i.Z)(ct,"messages",{5e3:"Custom",5001:"Wallet is not found",5002:"Wallet is not installed",5003:"Wallet is not ready yet",5004:"Wallet window is blocked",5005:"Wallet window has been closed by the user",5006:"Incompatible chain namespace provided",5007:"Adapter has already been included",5008:"Invalid provider Config",5009:"Provider is not ready yet",5010:"Failed to connect with rpc url",5011:"Invalid params passed in",5013:"Invalid network provided"});class ut extends dt{constructor(e,t){super(e,t),Object.defineProperty(this,"name",{value:"WalletLoginError"})}static fromCode(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return new ut(e,`${ut.messages[e]}. ${t}`)}static connectionError(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return ut.fromCode(5111,e)}static disconnectionError(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return ut.fromCode(5112,e)}static notConnectedError(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return ut.fromCode(5113,e)}static popupClosed(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return ut.fromCode(5114,e)}static mfaEnabled(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return ut.fromCode(5115,e)}static chainConfigNotAdded(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return ut.fromCode(5116,e)}static unsupportedOperation(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return ut.fromCode(5117,e)}static coreKitKeyNotFound(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return ut.fromCode(5118,e)}static userNotLoggedIn(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return ut.fromCode(5119,e)}}(0,i.Z)(ut,"messages",{5e3:"Custom",5111:"Failed to connect with wallet",5112:"Failed to disconnect from wallet",5113:"Wallet is not connected",5114:"Wallet popup has been closed by the user",5115:"User has already enabled mfa, please use the @web3auth/web3auth-web sdk for login with mfa",5116:"Chain config has not been added. Please add the chain config before calling switchChain",5117:"Unsupported operation",5118:"useCoreKitKey flag is enabled but coreKitKey is not available",5119:"User not logged in."});class ht extends dt{constructor(e,t){super(e,t),Object.defineProperty(this,"name",{value:"WalletOperationsError"})}static fromCode(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return new ht(e,`${ht.messages[e]}, ${t}`)}static chainIDNotAllowed(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return ht.fromCode(5201,e)}static operationNotAllowed(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return ht.fromCode(5202,e)}static chainNamespaceNotAllowed(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return ht.fromCode(5203,e)}}(0,i.Z)(ht,"messages",{5e3:"Custom",5201:"Provided chainId is not allowed",5202:"This operation is not allowed"});class ft extends dt{constructor(e,t){super(e,t),Object.defineProperty(this,"name",{value:"WalletProviderError"})}static fromCode(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return new ht(e,`${ft.messages[e]}, ${t}`)}static invalidRequestArgs(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return ht.fromCode(5301,e)}static invalidRequestMethod(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return ht.fromCode(5302,e)}static invalidRequestParams(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return ht.fromCode(5303,e)}}(0,i.Z)(ft,"messages",{5e3:"Custom",5301:"Expected a single, non-array, object argument.",5302:"'args.method' must be a non-empty string.",5303:"'args.params' must be an object or array if provided."});const pt={OPENLOGIN:"openlogin",WALLET_CONNECT_V2:"wallet-connect-v2"},bt=(0,r.Z)({TORUS_SOLANA:"torus-solana",PHANTOM:"phantom",SOLFLARE:"solflare",SLOPE:"slope"},pt),gt=(0,r.Z)({TORUS_EVM:"torus-evm",METAMASK:"metamask",COINBASE:"coinbase"},pt),yt=(0,r.Z)((0,r.Z)({},gt),bt),mt=(bt.TORUS_SOLANA,bt.PHANTOM,bt.SOLFLARE,bt.SLOPE,gt.TORUS_EVM,gt.METAMASK,gt.COINBASE,"external"),wt={NOT_READY:"not_ready",READY:"ready",CONNECTING:"connecting",CONNECTED:"connected",DISCONNECTED:"disconnected",ERRORED:"errored"},_t=(0,r.Z)((0,r.Z)({},wt),{},{ADAPTER_DATA_UPDATED:"adapter_data_updated",CACHE_CLEAR:"cache_clear"});class vt extends Be{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};super(),(0,i.Z)(this,"adapterData",{}),(0,i.Z)(this,"sessionTime",86400),(0,i.Z)(this,"clientId",void 0),(0,i.Z)(this,"web3AuthNetwork",Ze.MAINNET),(0,i.Z)(this,"rehydrated",!1),(0,i.Z)(this,"chainConfig",null),(0,i.Z)(this,"knownChainConfigs",{}),(0,i.Z)(this,"adapterNamespace",void 0),(0,i.Z)(this,"currentChainNamespace",void 0),(0,i.Z)(this,"type",void 0),(0,i.Z)(this,"name",void 0),(0,i.Z)(this,"status",void 0),this.setAdapterSettings(e)}get chainConfigProxy(){return this.chainConfig?(0,r.Z)({},this.chainConfig):null}get connnected(){return this.status===wt.CONNECTED}setAdapterSettings(e){if(this.status===wt.READY)return;null!==e&&void 0!==e&&e.sessionTime&&(this.sessionTime=e.sessionTime),null!==e&&void 0!==e&&e.clientId&&(this.clientId=e.clientId),null!==e&&void 0!==e&&e.web3AuthNetwork&&(this.web3AuthNetwork=e.web3AuthNetwork);const t=e.chainConfig;if(t){if(!t.chainNamespace)throw ct.notReady("ChainNamespace is required while setting chainConfig");this.currentChainNamespace=t.chainNamespace;const e=lt(t.chainNamespace,t.chainId),n=(0,r.Z)((0,r.Z)({},e||{}),t);this.chainConfig=n,this.addChainConfig(n)}}checkConnectionRequirements(){if(this.name!==yt.WALLET_CONNECT_V2||this.status!==wt.CONNECTING){if(this.status===wt.CONNECTING)throw ct.notReady("Already connecting");if(this.status===wt.CONNECTED)throw ut.connectionError("Already connected");if(this.status!==wt.READY)throw ut.connectionError("Wallet adapter is not ready yet, Please wait for init function to resolve before calling connect/connectTo function")}}checkInitializationRequirements(){if(!this.clientId)throw ct.invalidParams("Please initialize Web3Auth with a valid clientId in constructor");if(!this.chainConfig)throw ct.invalidParams("rpcTarget is required in chainConfig");if(!this.chainConfig.rpcTarget&&this.chainConfig.chainNamespace!==at)throw ct.invalidParams("rpcTarget is required in chainConfig");if(!this.chainConfig.chainId&&this.chainConfig.chainNamespace!==at)throw ct.invalidParams("chainID is required in chainConfig");if(this.status!==wt.NOT_READY){if(this.status===wt.CONNECTED)throw ct.notReady("Already connected");if(this.status===wt.READY)throw ct.notReady("Adapter is already initialized")}}checkDisconnectionRequirements(){if(this.status!==wt.CONNECTED)throw ut.disconnectionError("Not connected with wallet")}checkAddChainRequirements(e){if(!(arguments.length>1&&void 0!==arguments[1]&&arguments[1])&&!this.provider)throw ut.notConnectedError("Not connected with wallet.");if(this.currentChainNamespace!==e.chainNamespace)throw ht.chainNamespaceNotAllowed("This adapter doesn't support this chainNamespace")}checkSwitchChainRequirements(e){let{chainId:t}=e;if(!(arguments.length>1&&void 0!==arguments[1]&&arguments[1])&&!this.provider)throw ut.notConnectedError("Not connected with wallet.");if(!this.knownChainConfigs[t])throw ut.chainConfigNotAdded("Invalid chainId")}updateAdapterData(e){this.adapterData=e,this.emit(_t.ADAPTER_DATA_UPDATED,{adapterName:this.name,data:e})}addChainConfig(e){const t=this.knownChainConfigs[e.chainId];this.knownChainConfigs[e.chainId]=(0,r.Z)((0,r.Z)({},t||{}),e)}getChainConfig(e){return this.knownChainConfigs[e]||null}}const St="https://authjs.web3auth.io";var Et=d().getLogger("web3auth-logger");function Rt(e){let t,n=!1,r=0;try{t=window[e],n=!0,r=t.length;const i="__storage_test__";return t.setItem(i,i),t.removeItem(i),!0}catch(i){const e=i;return!(!e||22!==e.code&&1014!==e.code&&"QuotaExceededError"!==e.name&&"NS_ERROR_DOM_QUOTA_REACHED"!==e.name||!n||0===r)}}class At extends vt{async init(e){this.chainConfig||(this.chainConfig=lt(it,1))}async authenticateUser(){if(!this.provider||this.status!==wt.CONNECTED)throw ut.notConnectedError();const{chainNamespace:e,chainId:t}=this.chainConfig,n=await this.provider.request({method:"eth_accounts"});if(n&&n.length>0){const o=(r=n[0],i=this.name,Rt("localStorage")?localStorage.getItem(`${r.toLowerCase()}_${i}`):null);if(o){if(!(e=>{const t=(0,rt.Z)(e);return!t.exp||t.exp<Math.floor(Date.now()/1e3)})(o))return{idToken:o}}const a={domain:window.location.origin,uri:window.location.href,address:n[0],chainId:parseInt(t,16),version:"1",nonce:Math.random().toString(36).slice(2),issuedAt:(new Date).toISOString()},s=await(async(e,t)=>{const n={payload:e,header:{t:"solana"===t?"sip99":"eip191"},network:"solana"===t?"solana":"ethereum"},r=await nt(`${St}/siww/get`,n);if(!r.success)throw new Error("Failed to authenticate user, Please reach out to Web3Auth Support team");return r.challenge})(a,e),l=await this.provider.request({method:"personal_sign",params:[s,n[0]]}),d=await(async(e,t,n,r,i,o,a)=>{const s={signature:{s:t,t:"solana"===e?"sip99":"eip191"},message:n,issuer:r,audience:"undefined"!==typeof window.location?window.location.hostname:"com://reactnative",timeout:i},l=await nt(`${St}/siww/verify`,s,{headers:{client_id:o,wallet_provider:r,web3auth_network:a}});if(!l.success)throw Et.error("Failed to authenticate user, ,message verification failed",l.error),new Error("Failed to authenticate user, ,message verification failed");return l.token})(e,l,s,this.name,this.sessionTime,this.clientId,this.web3AuthNetwork);return((e,t,n)=>{Rt("localStorage")&&localStorage.setItem(`${e.toLowerCase()}_${t}`,n)})(n[0],this.name,d),{idToken:d}}var r,i;throw ut.notConnectedError("Not connected with wallet, Please login/connect first")}async disconnectSession(){super.checkDisconnectionRequirements();const e=await this.provider.request({method:"eth_accounts"});var t,n;e&&e.length>0&&(t=e[0],n=this.name,Rt("localStorage")&&localStorage.removeItem(`${t.toLowerCase()}_${n}`))}async disconnect(){this.rehydrated=!1,this.emit(_t.DISCONNECTED)}}class Tt extends At{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};super(e),(0,i.Z)(this,"name",yt.TORUS_EVM),(0,i.Z)(this,"adapterNamespace",st),(0,i.Z)(this,"currentChainNamespace",it),(0,i.Z)(this,"type",mt),(0,i.Z)(this,"status",wt.NOT_READY),(0,i.Z)(this,"torusInstance",null),(0,i.Z)(this,"torusWalletOptions",void 0),(0,i.Z)(this,"initParams",void 0),(0,i.Z)(this,"loginSettings",{}),this.torusWalletOptions=e.adapterSettings||{},this.initParams=e.initParams||{},this.loginSettings=e.loginSettings||{}}get provider(){return this.status!==wt.NOT_READY&&this.torusInstance?this.torusInstance.provider:null}set provider(e){throw new Error("Not implemented")}async init(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};await super.init(e),super.checkInitializationRequirements();const{chainId:t,blockExplorer:n,displayName:i,rpcTarget:o,ticker:a,tickerName:s}=this.chainConfig,l={chainId:Number.parseInt(t,16),host:o,blockExplorer:n,networkName:i,ticker:a,tickerName:s};this.torusInstance=new je(this.torusWalletOptions),Et.debug("initializing torus evm adapter init"),await this.torusInstance.init((0,r.Z)((0,r.Z)({showTorusButton:!1},this.initParams),{},{network:l})),this.status=wt.READY,this.emit(_t.READY,yt.TORUS_EVM);try{Et.debug("initializing torus evm adapter"),e.autoConnect&&(this.rehydrated=!0,await this.connect())}catch(d){Et.error("Failed to connect with torus evm provider",d),this.emit(_t.ERRORED,d)}}async connect(){if(super.checkConnectionRequirements(),!this.torusInstance)throw ct.notReady("Torus wallet is not initialized");this.status=wt.CONNECTING,this.emit(_t.CONNECTING,{adapter:yt.TORUS_EVM});try{await this.torusInstance.login(this.loginSettings);const e=await this.torusInstance.provider.request({method:"eth_chainId"});if(e&&parseInt(e)!==parseInt(this.chainConfig.chainId,16)){const{chainId:e,blockExplorer:t,displayName:n,rpcTarget:i,ticker:o,tickerName:a}=this.chainConfig,s={chainId:Number.parseInt(e,16),host:i,blockExplorer:t,networkName:n,tickerName:a,ticker:o};await this.torusInstance.setProvider((0,r.Z)({},s));const l=await this.torusInstance.ethereum.request({method:"eth_chainId"});if(l&&parseInt(l)!==parseInt(this.chainConfig.chainId,16))throw ct.fromCode(5e3,`Not connected to correct chainId. Expected: ${this.chainConfig.chainId}, Current: ${l}`)}return this.status=wt.CONNECTED,this.torusInstance.showTorusButton(),this.emit(wt.CONNECTED,{adapter:yt.TORUS_EVM,reconnected:this.rehydrated}),this.provider}catch(e){throw this.status=wt.READY,this.rehydrated=!1,this.emit(wt.ERRORED,e),e instanceof dt?e:ut.connectionError("Failed to login with torus wallet")}}async disconnect(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{cleanup:!1};if(await super.disconnectSession(),!this.torusInstance)throw ct.notReady("Torus wallet is not initialized");await this.torusInstance.logout(),this.torusInstance.hideTorusButton(),e.cleanup?(this.status=wt.NOT_READY,this.torusInstance=null):this.status=wt.READY,await super.disconnect()}async getUserInfo(){if(this.status!==wt.CONNECTED)throw ut.notConnectedError("Not connected with wallet");if(!this.torusInstance)throw ct.notReady("Torus wallet is not initialized");return await this.torusInstance.getUserInfo("")}async addChain(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];super.checkAddChainRequirements(e,t),this.addChainConfig(e)}async switchChain(e){var t;let n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];super.checkSwitchChainRequirements(e,n);const r=this.getChainConfig(e.chainId);await(null===(t=this.torusInstance)||void 0===t?void 0:t.setProvider({host:r.rpcTarget,chainId:parseInt(r.chainId,16),networkName:r.displayName,blockExplorer:r.blockExplorer,ticker:r.ticker,tickerName:r.tickerName})),this.setAdapterSettings({chainConfig:this.getChainConfig(e.chainId)})}}},63342:(e,t,n)=>{"use strict";const{AbortError:r,codes:i}=n(98524),{isNodeStream:o,isWebStream:a,kControllerErrorFunction:s}=n(23913),l=n(96016),{ERR_INVALID_ARG_TYPE:d}=i;e.exports.addAbortSignal=function(t,n){if(((e,t)=>{if("object"!==typeof e||!("aborted"in e))throw new d(t,"AbortSignal",e)})(t,"signal"),!o(n)&&!a(n))throw new d("stream",["ReadableStream","WritableStream","Stream"],n);return e.exports.addAbortSignalNoValidate(t,n)},e.exports.addAbortSignalNoValidate=function(e,t){if("object"!==typeof e||!("aborted"in e))return t;const n=o(t)?()=>{t.destroy(new r(void 0,{cause:e.reason}))}:()=>{t[s](new r(void 0,{cause:e.reason}))};return e.aborted?n():(e.addEventListener("abort",n),l(t,(()=>e.removeEventListener("abort",n)))),t}},10362:(e,t,n)=>{"use strict";const{StringPrototypeSlice:r,SymbolIterator:i,TypedArrayPrototypeSet:o,Uint8Array:a}=n(7863),{Buffer:s}=n(19778),{inspect:l}=n(27344);e.exports=class{constructor(){this.head=null,this.tail=null,this.length=0}push(e){const t={data:e,next:null};this.length>0?this.tail.next=t:this.head=t,this.tail=t,++this.length}unshift(e){const t={data:e,next:this.head};0===this.length&&(this.tail=t),this.head=t,++this.length}shift(){if(0===this.length)return;const e=this.head.data;return 1===this.length?this.head=this.tail=null:this.head=this.head.next,--this.length,e}clear(){this.head=this.tail=null,this.length=0}join(e){if(0===this.length)return"";let t=this.head,n=""+t.data;for(;null!==(t=t.next);)n+=e+t.data;return n}concat(e){if(0===this.length)return s.alloc(0);const t=s.allocUnsafe(e>>>0);let n=this.head,r=0;for(;n;)o(t,n.data,r),r+=n.data.length,n=n.next;return t}consume(e,t){const n=this.head.data;if(e<n.length){const t=n.slice(0,e);return this.head.data=n.slice(e),t}return e===n.length?this.shift():t?this._getString(e):this._getBuffer(e)}first(){return this.head.data}*[i](){for(let e=this.head;e;e=e.next)yield e.data}_getString(e){let t="",n=this.head,i=0;do{const o=n.data;if(!(e>o.length)){e===o.length?(t+=o,++i,n.next?this.head=n.next:this.head=this.tail=null):(t+=r(o,0,e),this.head=n,n.data=r(o,e));break}t+=o,e-=o.length,++i}while(null!==(n=n.next));return this.length-=i,t}_getBuffer(e){const t=s.allocUnsafe(e),n=e;let r=this.head,i=0;do{const s=r.data;if(!(e>s.length)){e===s.length?(o(t,s,n-e),++i,r.next?this.head=r.next:this.head=this.tail=null):(o(t,new a(s.buffer,s.byteOffset,e),n-e),this.head=r,r.data=s.slice(e));break}o(t,s,n-e),e-=s.length,++i}while(null!==(r=r.next));return this.length-=i,t}[Symbol.for("nodejs.util.inspect.custom")](e,t){return l(this,{...t,depth:0,customInspect:!1})}}},82849:(e,t,n)=>{"use strict";const{pipeline:r}=n(59005),i=n(66027),{destroyer:o}=n(37724),{isNodeStream:a,isReadable:s,isWritable:l,isWebStream:d,isTransformStream:c,isWritableStream:u,isReadableStream:h}=n(23913),{AbortError:f,codes:{ERR_INVALID_ARG_VALUE:p,ERR_MISSING_ARGS:b}}=n(98524),g=n(96016);e.exports=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];if(0===t.length)throw new b("streams");if(1===t.length)return i.from(t[0]);const y=[...t];if("function"===typeof t[0]&&(t[0]=i.from(t[0])),"function"===typeof t[t.length-1]){const e=t.length-1;t[e]=i.from(t[e])}for(let r=0;r<t.length;++r)if(a(t[r])||d(t[r])){if(r<t.length-1&&!(s(t[r])||h(t[r])||c(t[r])))throw new p(`streams[${r}]`,y[r],"must be readable");if(r>0&&!(l(t[r])||u(t[r])||c(t[r])))throw new p(`streams[${r}]`,y[r],"must be writable")}let m,w,_,v,S;const E=t[0],R=r(t,(function(e){const t=v;v=null,t?t(e):e?S.destroy(e):T||A||S.destroy()})),A=!!(l(E)||u(E)||c(E)),T=!!(s(R)||h(R)||c(R));if(S=new i({writableObjectMode:!(null===E||void 0===E||!E.writableObjectMode),readableObjectMode:!(null===R||void 0===R||!R.writableObjectMode),writable:A,readable:T}),A){if(a(E))S._write=function(e,t,n){E.write(e,t)?n():m=n},S._final=function(e){E.end(),w=e},E.on("drain",(function(){if(m){const e=m;m=null,e()}}));else if(d(E)){const e=(c(E)?E.writable:E).getWriter();S._write=async function(t,n,r){try{await e.ready,e.write(t).catch((()=>{})),r()}catch(i){r(i)}},S._final=async function(t){try{await e.ready,e.close().catch((()=>{})),w=t}catch(n){t(n)}}}const e=c(R)?R.readable:R;g(e,(()=>{if(w){const e=w;w=null,e()}}))}if(T)if(a(R))R.on("readable",(function(){if(_){const e=_;_=null,e()}})),R.on("end",(function(){S.push(null)})),S._read=function(){for(;;){const e=R.read();if(null===e)return void(_=S._read);if(!S.push(e))return}};else if(d(R)){const e=(c(R)?R.readable:R).getReader();S._read=async function(){for(;;)try{const{value:t,done:n}=await e.read();if(!S.push(t))return;if(n)return void S.push(null)}catch{return}}}return S._destroy=function(e,t){e||null===v||(e=new f),_=null,m=null,w=null,null===v?t(e):(v=t,a(R)&&o(R,e))},S}},37724:(e,t,n)=>{"use strict";const r=n(1426),{aggregateTwoErrors:i,codes:{ERR_MULTIPLE_CALLBACK:o},AbortError:a}=n(98524),{Symbol:s}=n(7863),{kDestroyed:l,isDestroyed:d,isFinished:c,isServerRequest:u}=n(23913),h=s("kDestroy"),f=s("kConstruct");function p(e,t,n){e&&(e.stack,t&&!t.errored&&(t.errored=e),n&&!n.errored&&(n.errored=e))}function b(e,t,n){let i=!1;function o(t){if(i)return;i=!0;const o=e._readableState,a=e._writableState;p(t,a,o),a&&(a.closed=!0),o&&(o.closed=!0),"function"===typeof n&&n(t),t?r.nextTick(g,e,t):r.nextTick(y,e)}try{e._destroy(t||null,o)}catch(t){o(t)}}function g(e,t){m(e,t),y(e)}function y(e){const t=e._readableState,n=e._writableState;n&&(n.closeEmitted=!0),t&&(t.closeEmitted=!0),(null!==n&&void 0!==n&&n.emitClose||null!==t&&void 0!==t&&t.emitClose)&&e.emit("close")}function m(e,t){const n=e._readableState,r=e._writableState;null!==r&&void 0!==r&&r.errorEmitted||null!==n&&void 0!==n&&n.errorEmitted||(r&&(r.errorEmitted=!0),n&&(n.errorEmitted=!0),e.emit("error",t))}function w(e,t,n){const i=e._readableState,o=e._writableState;if(null!==o&&void 0!==o&&o.destroyed||null!==i&&void 0!==i&&i.destroyed)return this;null!==i&&void 0!==i&&i.autoDestroy||null!==o&&void 0!==o&&o.autoDestroy?e.destroy(t):t&&(t.stack,o&&!o.errored&&(o.errored=t),i&&!i.errored&&(i.errored=t),n?r.nextTick(m,e,t):m(e,t))}function _(e){let t=!1;function n(n){if(t)return void w(e,null!==n&&void 0!==n?n:new o);t=!0;const i=e._readableState,a=e._writableState,s=a||i;i&&(i.constructed=!0),a&&(a.constructed=!0),s.destroyed?e.emit(h,n):n?w(e,n,!0):r.nextTick(v,e)}try{e._construct((e=>{r.nextTick(n,e)}))}catch(i){r.nextTick(n,i)}}function v(e){e.emit(f)}function S(e){return(null===e||void 0===e?void 0:e.setHeader)&&"function"===typeof e.abort}function E(e){e.emit("close")}function R(e,t){e.emit("error",t),r.nextTick(E,e)}e.exports={construct:function(e,t){if("function"!==typeof e._construct)return;const n=e._readableState,i=e._writableState;n&&(n.constructed=!1),i&&(i.constructed=!1),e.once(f,t),e.listenerCount(f)>1||r.nextTick(_,e)},destroyer:function(e,t){e&&!d(e)&&(t||c(e)||(t=new a),u(e)?(e.socket=null,e.destroy(t)):S(e)?e.abort():S(e.req)?e.req.abort():"function"===typeof e.destroy?e.destroy(t):"function"===typeof e.close?e.close():t?r.nextTick(R,e,t):r.nextTick(E,e),e.destroyed||(e[l]=!0))},destroy:function(e,t){const n=this._readableState,r=this._writableState,o=r||n;return null!==r&&void 0!==r&&r.destroyed||null!==n&&void 0!==n&&n.destroyed?("function"===typeof t&&t(),this):(p(e,r,n),r&&(r.destroyed=!0),n&&(n.destroyed=!0),o.constructed?b(this,e,t):this.once(h,(function(n){b(this,i(n,e),t)})),this)},undestroy:function(){const e=this._readableState,t=this._writableState;e&&(e.constructed=!0,e.closed=!1,e.closeEmitted=!1,e.destroyed=!1,e.errored=null,e.errorEmitted=!1,e.reading=!1,e.ended=!1===e.readable,e.endEmitted=!1===e.readable),t&&(t.constructed=!0,t.destroyed=!1,t.closed=!1,t.closeEmitted=!1,t.errored=null,t.errorEmitted=!1,t.finalCalled=!1,t.prefinished=!1,t.ended=!1===t.writable,t.ending=!1===t.writable,t.finished=!1===t.writable)},errorOrDestroy:w}},66027:(e,t,n)=>{"use strict";const{ObjectDefineProperties:r,ObjectGetOwnPropertyDescriptor:i,ObjectKeys:o,ObjectSetPrototypeOf:a}=n(7863);e.exports=d;const s=n(87515),l=n(91189);a(d.prototype,s.prototype),a(d,s);{const e=o(l.prototype);for(let t=0;t<e.length;t++){const n=e[t];d.prototype[n]||(d.prototype[n]=l.prototype[n])}}function d(e){if(!(this instanceof d))return new d(e);s.call(this,e),l.call(this,e),e?(this.allowHalfOpen=!1!==e.allowHalfOpen,!1===e.readable&&(this._readableState.readable=!1,this._readableState.ended=!0,this._readableState.endEmitted=!0),!1===e.writable&&(this._writableState.writable=!1,this._writableState.ending=!0,this._writableState.ended=!0,this._writableState.finished=!0)):this.allowHalfOpen=!0}let c,u;function h(){return void 0===c&&(c={}),c}r(d.prototype,{writable:{__proto__:null,...i(l.prototype,"writable")},writableHighWaterMark:{__proto__:null,...i(l.prototype,"writableHighWaterMark")},writableObjectMode:{__proto__:null,...i(l.prototype,"writableObjectMode")},writableBuffer:{__proto__:null,...i(l.prototype,"writableBuffer")},writableLength:{__proto__:null,...i(l.prototype,"writableLength")},writableFinished:{__proto__:null,...i(l.prototype,"writableFinished")},writableCorked:{__proto__:null,...i(l.prototype,"writableCorked")},writableEnded:{__proto__:null,...i(l.prototype,"writableEnded")},writableNeedDrain:{__proto__:null,...i(l.prototype,"writableNeedDrain")},destroyed:{__proto__:null,get(){return void 0!==this._readableState&&void 0!==this._writableState&&(this._readableState.destroyed&&this._writableState.destroyed)},set(e){this._readableState&&this._writableState&&(this._readableState.destroyed=e,this._writableState.destroyed=e)}}}),d.fromWeb=function(e,t){return h().newStreamDuplexFromReadableWritablePair(e,t)},d.toWeb=function(e){return h().newReadableWritablePairFromDuplex(e)},d.from=function(e){return u||(u=n(54249)),u(e,"body")}},54249:(e,t,n)=>{const r=n(1426),i=n(19778),{isReadable:o,isWritable:a,isIterable:s,isNodeStream:l,isReadableNodeStream:d,isWritableNodeStream:c,isDuplexNodeStream:u}=n(23913),h=n(96016),{AbortError:f,codes:{ERR_INVALID_ARG_TYPE:p,ERR_INVALID_RETURN_VALUE:b}}=n(98524),{destroyer:g}=n(37724),y=n(66027),m=n(87515),{createDeferredPromise:w}=n(27344),_=n(86812),v=globalThis.Blob||i.Blob,S="undefined"!==typeof v?function(e){return e instanceof v}:function(e){return!1},E=globalThis.AbortController||n(35935).AbortController,{FunctionPrototypeCall:R}=n(7863);class A extends y{constructor(e){super(e),!1===(null===e||void 0===e?void 0:e.readable)&&(this._readableState.readable=!1,this._readableState.ended=!0,this._readableState.endEmitted=!0),!1===(null===e||void 0===e?void 0:e.writable)&&(this._writableState.writable=!1,this._writableState.ending=!0,this._writableState.ended=!0,this._writableState.finished=!0)}}function T(e){const t=e.readable&&"function"!==typeof e.readable.read?m.wrap(e.readable):e.readable,n=e.writable;let r,i,s,l,d,c=!!o(t),u=!!a(n);function p(e){const t=l;l=null,t?t(e):e&&d.destroy(e)}return d=new A({readableObjectMode:!(null===t||void 0===t||!t.readableObjectMode),writableObjectMode:!(null===n||void 0===n||!n.writableObjectMode),readable:c,writable:u}),u&&(h(n,(e=>{u=!1,e&&g(t,e),p(e)})),d._write=function(e,t,i){n.write(e,t)?i():r=i},d._final=function(e){n.end(),i=e},n.on("drain",(function(){if(r){const e=r;r=null,e()}})),n.on("finish",(function(){if(i){const e=i;i=null,e()}}))),c&&(h(t,(e=>{c=!1,e&&g(t,e),p(e)})),t.on("readable",(function(){if(s){const e=s;s=null,e()}})),t.on("end",(function(){d.push(null)})),d._read=function(){for(;;){const e=t.read();if(null===e)return void(s=d._read);if(!d.push(e))return}}),d._destroy=function(e,o){e||null===l||(e=new f),s=null,r=null,i=null,null===l?o(e):(l=o,g(n,e),g(t,e))},d}e.exports=function e(t,n){if(u(t))return t;if(d(t))return T({readable:t});if(c(t))return T({writable:t});if(l(t))return T({writable:!1,readable:!1});if("function"===typeof t){const{value:e,write:i,final:o,destroy:a}=function(e){let{promise:t,resolve:n}=w();const i=new E,o=i.signal,a=e(async function*(){for(;;){const e=t;t=null;const{chunk:i,done:a,cb:s}=await e;if(r.nextTick(s),a)return;if(o.aborted)throw new f(void 0,{cause:o.reason});({promise:t,resolve:n}=w()),yield i}}(),{signal:o});return{value:a,write(e,t,r){const i=n;n=null,i({chunk:e,done:!1,cb:r})},final(e){const t=n;n=null,t({done:!0,cb:e})},destroy(e,t){i.abort(),t(e)}}}(t);if(s(e))return _(A,e,{objectMode:!0,write:i,final:o,destroy:a});const l=null===e||void 0===e?void 0:e.then;if("function"===typeof l){let t;const n=R(l,e,(e=>{if(null!=e)throw new b("nully","body",e)}),(e=>{g(t,e)}));return t=new A({objectMode:!0,readable:!1,write:i,final(e){o((async()=>{try{await n,r.nextTick(e,null)}catch(t){r.nextTick(e,t)}}))},destroy:a})}throw new b("Iterable, AsyncIterable or AsyncFunction",n,e)}if(S(t))return e(t.arrayBuffer());if(s(t))return _(A,t,{objectMode:!0,writable:!1});if("object"===typeof(null===t||void 0===t?void 0:t.writable)||"object"===typeof(null===t||void 0===t?void 0:t.readable)){return T({readable:null!==t&&void 0!==t&&t.readable?d(null===t||void 0===t?void 0:t.readable)?null===t||void 0===t?void 0:t.readable:e(t.readable):void 0,writable:null!==t&&void 0!==t&&t.writable?c(null===t||void 0===t?void 0:t.writable)?null===t||void 0===t?void 0:t.writable:e(t.writable):void 0})}const i=null===t||void 0===t?void 0:t.then;if("function"===typeof i){let e;return R(i,t,(t=>{null!=t&&e.push(t),e.push(null)}),(t=>{g(e,t)})),e=new A({objectMode:!0,writable:!1,read(){}})}throw new p(n,["Blob","ReadableStream","WritableStream","Stream","Iterable","AsyncIterable","Function","{ readable, writable } pair","Promise"],t)}},96016:(e,t,n)=>{const r=n(1426),{AbortError:i,codes:o}=n(98524),{ERR_INVALID_ARG_TYPE:a,ERR_STREAM_PREMATURE_CLOSE:s}=o,{kEmptyObject:l,once:d}=n(27344),{validateAbortSignal:c,validateFunction:u,validateObject:h,validateBoolean:f}=n(12912),{Promise:p,PromisePrototypeThen:b}=n(7863),{isClosed:g,isReadable:y,isReadableNodeStream:m,isReadableStream:w,isReadableFinished:_,isReadableErrored:v,isWritable:S,isWritableNodeStream:E,isWritableStream:R,isWritableFinished:A,isWritableErrored:T,isNodeStream:I,willEmitClose:C,kIsClosedPromise:k}=n(23913);const N=()=>{};function D(e,t,n){var o,f;if(2===arguments.length?(n=t,t=l):null==t?t=l:h(t,"options"),u(n,"callback"),c(t.signal,"options.signal"),n=d(n),w(e)||R(e))return function(e,t,n){let o=!1,a=N;if(t.signal)if(a=()=>{o=!0,n.call(e,new i(void 0,{cause:t.signal.reason}))},t.signal.aborted)r.nextTick(a);else{const r=n;n=d((function(){t.signal.removeEventListener("abort",a);for(var n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];r.apply(e,i)})),t.signal.addEventListener("abort",a)}const s=function(){for(var t=arguments.length,i=new Array(t),a=0;a<t;a++)i[a]=arguments[a];o||r.nextTick((()=>n.apply(e,i)))};return b(e[k].promise,s,s),N}(e,t,n);if(!I(e))throw new a("stream",["ReadableStream","WritableStream","Stream"],e);const p=null!==(o=t.readable)&&void 0!==o?o:m(e),D=null!==(f=t.writable)&&void 0!==f?f:E(e),M=e._writableState,P=e._readableState,O=()=>{e.writable||U()};let L=C(e)&&m(e)===p&&E(e)===D,x=A(e,!1);const U=()=>{x=!0,e.destroyed&&(L=!1),(!L||e.readable&&!p)&&(p&&!j||n.call(e))};let j=_(e,!1);const W=()=>{j=!0,e.destroyed&&(L=!1),(!L||e.writable&&!D)&&(D&&!x||n.call(e))},B=t=>{n.call(e,t)};let $=g(e);const F=()=>{$=!0;const t=T(e)||v(e);return t&&"boolean"!==typeof t?n.call(e,t):p&&!j&&m(e,!0)&&!_(e,!1)?n.call(e,new s):!D||x||A(e,!1)?void n.call(e):n.call(e,new s)},H=()=>{$=!0;const t=T(e)||v(e);if(t&&"boolean"!==typeof t)return n.call(e,t);n.call(e)},V=()=>{e.req.on("finish",U)};!function(e){return e.setHeader&&"function"===typeof e.abort}(e)?D&&!M&&(e.on("end",O),e.on("close",O)):(e.on("complete",U),L||e.on("abort",F),e.req?V():e.on("request",V)),L||"boolean"!==typeof e.aborted||e.on("aborted",F),e.on("end",W),e.on("finish",U),!1!==t.error&&e.on("error",B),e.on("close",F),$?r.nextTick(F):null!==M&&void 0!==M&&M.errorEmitted||null!==P&&void 0!==P&&P.errorEmitted?L||r.nextTick(H):(p||L&&!y(e)||!x&&!1!==S(e))&&(D||L&&!S(e)||!j&&!1!==y(e))?P&&e.req&&e.aborted&&r.nextTick(H):r.nextTick(H);const Z=()=>{n=N,e.removeListener("aborted",F),e.removeListener("complete",U),e.removeListener("abort",F),e.removeListener("request",V),e.req&&e.req.removeListener("finish",U),e.removeListener("end",O),e.removeListener("close",O),e.removeListener("finish",U),e.removeListener("end",W),e.removeListener("error",B),e.removeListener("close",F)};if(t.signal&&!$){const o=()=>{const r=n;Z(),r.call(e,new i(void 0,{cause:t.signal.reason}))};if(t.signal.aborted)r.nextTick(o);else{const r=n;n=d((function(){t.signal.removeEventListener("abort",o);for(var n=arguments.length,i=new Array(n),a=0;a<n;a++)i[a]=arguments[a];r.apply(e,i)})),t.signal.addEventListener("abort",o)}}return Z}e.exports=D,e.exports.finished=function(e,t){var n;let r=!1;return null===t&&(t=l),null!==(n=t)&&void 0!==n&&n.cleanup&&(f(t.cleanup,"cleanup"),r=t.cleanup),new p(((n,i)=>{const o=D(e,t,(e=>{r&&o(),e?i(e):n()}))}))}},86812:(e,t,n)=>{"use strict";const r=n(1426),{PromisePrototypeThen:i,SymbolAsyncIterator:o,SymbolIterator:a}=n(7863),{Buffer:s}=n(19778),{ERR_INVALID_ARG_TYPE:l,ERR_STREAM_NULL_VALUES:d}=n(98524).codes;e.exports=function(e,t,n){let c,u;if("string"===typeof t||t instanceof s)return new e({objectMode:!0,...n,read(){this.push(t),this.push(null)}});if(t&&t[o])u=!0,c=t[o]();else{if(!t||!t[a])throw new l("iterable",["Iterable"],t);u=!1,c=t[a]()}const h=new e({objectMode:!0,highWaterMark:1,...n});let f=!1;return h._read=function(){f||(f=!0,async function(){for(;;){try{const{value:e,done:t}=u?await c.next():c.next();if(t)h.push(null);else{const t=e&&"function"===typeof e.then?await e:e;if(null===t)throw f=!1,new d;if(h.push(t))continue;f=!1}}catch(e){h.destroy(e)}break}}())},h._destroy=function(e,t){i(async function(e){const t=void 0!==e&&null!==e,n="function"===typeof c.throw;if(t&&n){const{value:t,done:n}=await c.throw(e);if(await t,n)return}if("function"===typeof c.return){const{value:e}=await c.return();await e}}(e),(()=>r.nextTick(t,e)),(n=>r.nextTick(t,n||e)))},h}},67238:(e,t,n)=>{"use strict";const{ArrayIsArray:r,ObjectSetPrototypeOf:i}=n(7863),{EventEmitter:o}=n(47465);function a(e){o.call(this,e)}function s(e,t,n){if("function"===typeof e.prependListener)return e.prependListener(t,n);e._events&&e._events[t]?r(e._events[t])?e._events[t].unshift(n):e._events[t]=[n,e._events[t]]:e.on(t,n)}i(a.prototype,o.prototype),i(a,o),a.prototype.pipe=function(e,t){const n=this;function r(t){e.writable&&!1===e.write(t)&&n.pause&&n.pause()}function i(){n.readable&&n.resume&&n.resume()}n.on("data",r),e.on("drain",i),e._isStdio||t&&!1===t.end||(n.on("end",l),n.on("close",d));let a=!1;function l(){a||(a=!0,e.end())}function d(){a||(a=!0,"function"===typeof e.destroy&&e.destroy())}function c(e){u(),0===o.listenerCount(this,"error")&&this.emit("error",e)}function u(){n.removeListener("data",r),e.removeListener("drain",i),n.removeListener("end",l),n.removeListener("close",d),n.removeListener("error",c),e.removeListener("error",c),n.removeListener("end",u),n.removeListener("close",u),e.removeListener("close",u)}return s(n,"error",c),s(e,"error",c),n.on("end",u),n.on("close",u),e.on("close",u),e.emit("pipe",n),e},e.exports={Stream:a,prependListener:s}},12022:(e,t,n)=>{"use strict";const r=globalThis.AbortController||n(35935).AbortController,{codes:{ERR_INVALID_ARG_VALUE:i,ERR_INVALID_ARG_TYPE:o,ERR_MISSING_ARGS:a,ERR_OUT_OF_RANGE:s},AbortError:l}=n(98524),{validateAbortSignal:d,validateInteger:c,validateObject:u}=n(12912),h=n(7863).Symbol("kWeak"),{finished:f}=n(96016),p=n(82849),{addAbortSignalNoValidate:b}=n(63342),{isWritable:g,isNodeStream:y}=n(23913),{ArrayPrototypePush:m,MathFloor:w,Number:_,NumberIsNaN:v,Promise:S,PromiseReject:E,PromisePrototypeThen:R,Symbol:A}=n(7863),T=A("kEmpty"),I=A("kEof");function C(e,t){if("function"!==typeof e)throw new o("fn",["Function","AsyncFunction"],e);null!=t&&u(t,"options"),null!=(null===t||void 0===t?void 0:t.signal)&&d(t.signal,"options.signal");let n=1;return null!=(null===t||void 0===t?void 0:t.concurrency)&&(n=w(t.concurrency)),c(n,"concurrency",1),async function*(){var i,o;const a=new r,s=this,d=[],c=a.signal,u={signal:c},h=()=>a.abort();let f,p;null!==t&&void 0!==t&&null!==(i=t.signal)&&void 0!==i&&i.aborted&&h(),null===t||void 0===t||null===(o=t.signal)||void 0===o||o.addEventListener("abort",h);let b=!1;function g(){b=!0}!async function(){try{for await(let t of s){var r;if(b)return;if(c.aborted)throw new l;try{t=e(t,u)}catch(o){t=E(o)}t!==T&&("function"===typeof(null===(r=t)||void 0===r?void 0:r.catch)&&t.catch(g),d.push(t),f&&(f(),f=null),!b&&d.length&&d.length>=n&&await new S((e=>{p=e})))}d.push(I)}catch(o){const e=E(o);R(e,void 0,g),d.push(e)}finally{var i;b=!0,f&&(f(),f=null),null===t||void 0===t||null===(i=t.signal)||void 0===i||i.removeEventListener("abort",h)}}();try{for(;;){for(;d.length>0;){const e=await d[0];if(e===I)return;if(c.aborted)throw new l;e!==T&&(yield e),d.shift(),p&&(p(),p=null)}await new S((e=>{f=e}))}}finally{a.abort(),b=!0,p&&(p(),p=null)}}.call(this)}async function k(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0;for await(const n of N.call(this,e,t))return!0;return!1}function N(e,t){if("function"!==typeof e)throw new o("fn",["Function","AsyncFunction"],e);return C.call(this,(async function(t,n){return await e(t,n)?t:T}),t)}class D extends a{constructor(){super("reduce"),this.message="Reduce of an empty stream requires an initial value"}}function M(e){if(e=_(e),v(e))return 0;if(e<0)throw new s("number",">= 0",e);return e}e.exports.streamReturningOperators={asIndexedPairs:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:void 0;return null!=e&&u(e,"options"),null!=(null===e||void 0===e?void 0:e.signal)&&d(e.signal,"options.signal"),async function*(){let t=0;for await(const r of this){var n;if(null!==e&&void 0!==e&&null!==(n=e.signal)&&void 0!==n&&n.aborted)throw new l({cause:e.signal.reason});yield[t++,r]}}.call(this)},drop:function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0;return null!=t&&u(t,"options"),null!=(null===t||void 0===t?void 0:t.signal)&&d(t.signal,"options.signal"),e=M(e),async function*(){var n;if(null!==t&&void 0!==t&&null!==(n=t.signal)&&void 0!==n&&n.aborted)throw new l;for await(const i of this){var r;if(null!==t&&void 0!==t&&null!==(r=t.signal)&&void 0!==r&&r.aborted)throw new l;e--<=0&&(yield i)}}.call(this)},filter:N,flatMap:function(e,t){const n=C.call(this,e,t);return async function*(){for await(const e of n)yield*e}.call(this)},map:C,take:function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0;return null!=t&&u(t,"options"),null!=(null===t||void 0===t?void 0:t.signal)&&d(t.signal,"options.signal"),e=M(e),async function*(){var n;if(null!==t&&void 0!==t&&null!==(n=t.signal)&&void 0!==n&&n.aborted)throw new l;for await(const i of this){var r;if(null!==t&&void 0!==t&&null!==(r=t.signal)&&void 0!==r&&r.aborted)throw new l;if(!(e-- >0))return;yield i}}.call(this)},compose:function(e,t){if(null!=t&&u(t,"options"),null!=(null===t||void 0===t?void 0:t.signal)&&d(t.signal,"options.signal"),y(e)&&!g(e))throw new i("stream",e,"must be writable");const n=p(this,e);return null!==t&&void 0!==t&&t.signal&&b(t.signal,n),n}},e.exports.promiseReturningOperators={every:async function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0;if("function"!==typeof e)throw new o("fn",["Function","AsyncFunction"],e);return!await k.call(this,(async function(){return!await e(...arguments)}),t)},forEach:async function(e,t){if("function"!==typeof e)throw new o("fn",["Function","AsyncFunction"],e);for await(const n of C.call(this,(async function(t,n){return await e(t,n),T}),t));},reduce:async function(e,t,n){var i;if("function"!==typeof e)throw new o("reducer",["Function","AsyncFunction"],e);null!=n&&u(n,"options"),null!=(null===n||void 0===n?void 0:n.signal)&&d(n.signal,"options.signal");let a=arguments.length>1;if(null!==n&&void 0!==n&&null!==(i=n.signal)&&void 0!==i&&i.aborted){const e=new l(void 0,{cause:n.signal.reason});throw this.once("error",(()=>{})),await f(this.destroy(e)),e}const s=new r,c=s.signal;if(null!==n&&void 0!==n&&n.signal){const e={once:!0,[h]:this};n.signal.addEventListener("abort",(()=>s.abort()),e)}let p=!1;try{for await(const r of this){var b;if(p=!0,null!==n&&void 0!==n&&null!==(b=n.signal)&&void 0!==b&&b.aborted)throw new l;a?t=await e(t,r,{signal:c}):(t=r,a=!0)}if(!p&&!a)throw new D}finally{s.abort()}return t},toArray:async function(e){null!=e&&u(e,"options"),null!=(null===e||void 0===e?void 0:e.signal)&&d(e.signal,"options.signal");const t=[];for await(const r of this){var n;if(null!==e&&void 0!==e&&null!==(n=e.signal)&&void 0!==n&&n.aborted)throw new l(void 0,{cause:e.signal.reason});m(t,r)}return t},some:k,find:async function(e,t){for await(const n of N.call(this,e,t))return n}}},43669:(e,t,n)=>{"use strict";const{ObjectSetPrototypeOf:r}=n(7863);e.exports=o;const i=n(83114);function o(e){if(!(this instanceof o))return new o(e);i.call(this,e)}r(o.prototype,i.prototype),r(o,i),o.prototype._transform=function(e,t,n){n(null,e)}},59005:(e,t,n)=>{const r=n(1426),{ArrayIsArray:i,Promise:o,SymbolAsyncIterator:a}=n(7863),s=n(96016),{once:l}=n(27344),d=n(37724),c=n(66027),{aggregateTwoErrors:u,codes:{ERR_INVALID_ARG_TYPE:h,ERR_INVALID_RETURN_VALUE:f,ERR_MISSING_ARGS:p,ERR_STREAM_DESTROYED:b,ERR_STREAM_PREMATURE_CLOSE:g},AbortError:y}=n(98524),{validateFunction:m,validateAbortSignal:w}=n(12912),{isIterable:_,isReadable:v,isReadableNodeStream:S,isNodeStream:E,isTransformStream:R,isWebStream:A,isReadableStream:T,isReadableEnded:I}=n(23913),C=globalThis.AbortController||n(35935).AbortController;let k,N;function D(e,t,n){let r=!1;e.on("close",(()=>{r=!0}));return{destroy:t=>{r||(r=!0,d.destroyer(e,t||new b("pipe")))},cleanup:s(e,{readable:t,writable:n},(e=>{r=!e}))}}function M(e){if(_(e))return e;if(S(e))return async function*(e){N||(N=n(87515));yield*N.prototype[a].call(e)}(e);throw new h("val",["Readable","Iterable","AsyncIterable"],e)}async function P(e,t,n,r){let i,{end:a}=r,l=null;const d=e=>{if(e&&(i=e),l){const e=l;l=null,e()}},c=()=>new o(((e,t)=>{i?t(i):l=()=>{i?t(i):e()}}));t.on("drain",d);const h=s(t,{readable:!1},d);try{t.writableNeedDrain&&await c();for await(const n of e)t.write(n)||await c();a&&t.end(),await c(),n()}catch(f){n(i!==f?u(i,f):f)}finally{h(),t.off("drain",d)}}async function O(e,t,n,r){let{end:i}=r;R(t)&&(t=t.writable);const o=t.getWriter();try{for await(const t of e)await o.ready,o.write(t).catch((()=>{}));await o.ready,i&&await o.close(),n()}catch(a){try{await o.abort(a),n(a)}catch(a){n(a)}}}function L(e,t,o){if(1===e.length&&i(e[0])&&(e=e[0]),e.length<2)throw new p("streams");const a=new C,s=a.signal,l=null===o||void 0===o?void 0:o.signal,d=[];function u(){U(new y)}let b,g;w(l,"options.signal"),null===l||void 0===l||l.addEventListener("abort",u);const m=[];let I,N=0;function L(e){U(e,0===--N)}function U(e,n){if(!e||b&&"ERR_STREAM_PREMATURE_CLOSE"!==b.code||(b=e),b||n){for(;m.length;)m.shift()(b);null===l||void 0===l||l.removeEventListener("abort",u),a.abort(),n&&(b||d.forEach((e=>e())),r.nextTick(t,b,g))}}for(let $=0;$<e.length;$++){const F=e[$],H=$<e.length-1,V=$>0,Z=H||!1!==(null===o||void 0===o?void 0:o.end),G=$===e.length-1;if(E(F)){if(Z){const{destroy:K,cleanup:q}=D(F,H,V);m.push(K),v(F)&&G&&d.push(q)}function j(e){e&&"AbortError"!==e.name&&"ERR_STREAM_PREMATURE_CLOSE"!==e.code&&L(e)}F.on("error",j),v(F)&&G&&d.push((()=>{F.removeListener("error",j)}))}if(0===$)if("function"===typeof F){if(I=F({signal:s}),!_(I))throw new f("Iterable, AsyncIterable or Stream","source",I)}else I=_(F)||S(F)||R(F)?F:c.from(F);else if("function"===typeof F){var W;if(R(I))I=M(null===(W=I)||void 0===W?void 0:W.readable);else I=M(I);if(I=F(I,{signal:s}),H){if(!_(I,!0))throw new f("AsyncIterable",`transform[${$-1}]`,I)}else{var B;k||(k=n(43669));const Y=new k({objectMode:!0}),X=null===(B=I)||void 0===B?void 0:B.then;if("function"===typeof X)N++,X.call(I,(e=>{g=e,null!=e&&Y.write(e),Z&&Y.end(),r.nextTick(L)}),(e=>{Y.destroy(e),r.nextTick(L,e)}));else if(_(I,!0))N++,P(I,Y,L,{end:Z});else{if(!T(I)&&!R(I))throw new f("AsyncIterable or Promise","destination",I);{const Q=I.readable||I;N++,P(Q,Y,L,{end:Z})}}I=Y;const{destroy:z,cleanup:J}=D(I,!1,!0);m.push(z),G&&d.push(J)}}else if(E(F)){if(S(I)){N+=2;const ee=x(I,F,L,{end:Z});v(F)&&G&&d.push(ee)}else if(R(I)||T(I)){const te=I.readable||I;N++,P(te,F,L,{end:Z})}else{if(!_(I))throw new h("val",["Readable","Iterable","AsyncIterable","ReadableStream","TransformStream"],I);N++,P(I,F,L,{end:Z})}I=F}else if(A(F)){if(S(I))N++,O(M(I),F,L,{end:Z});else if(T(I)||_(I))N++,O(I,F,L,{end:Z});else{if(!R(I))throw new h("val",["Readable","Iterable","AsyncIterable","ReadableStream","TransformStream"],I);N++,O(I.readable,F,L,{end:Z})}I=F}else I=c.from(F)}return(null!==s&&void 0!==s&&s.aborted||null!==l&&void 0!==l&&l.aborted)&&r.nextTick(u),I}function x(e,t,n,i){let{end:o}=i,a=!1;if(t.on("close",(()=>{a||n(new g)})),e.pipe(t,{end:!1}),o){function l(){a=!0,t.end()}I(e)?r.nextTick(l):e.once("end",l)}else n();return s(e,{readable:!0,writable:!1},(t=>{const r=e._readableState;t&&"ERR_STREAM_PREMATURE_CLOSE"===t.code&&r&&r.ended&&!r.errored&&!r.errorEmitted?e.once("end",n).once("error",n):n(t)})),s(t,{readable:!1,writable:!0},n)}e.exports={pipelineImpl:L,pipeline:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return L(t,l(function(e){return m(e[e.length-1],"streams[stream.length - 1]"),e.pop()}(t)))}}},87515:(e,t,n)=>{const r=n(1426),{ArrayPrototypeIndexOf:i,NumberIsInteger:o,NumberIsNaN:a,NumberParseInt:s,ObjectDefineProperties:l,ObjectKeys:d,ObjectSetPrototypeOf:c,Promise:u,SafeSet:h,SymbolAsyncIterator:f,Symbol:p}=n(7863);e.exports=W,W.ReadableState=j;const{EventEmitter:b}=n(47465),{Stream:g,prependListener:y}=n(67238),{Buffer:m}=n(19778),{addAbortSignal:w}=n(63342),_=n(96016);let v=n(27344).debuglog("stream",(e=>{v=e}));const S=n(10362),E=n(37724),{getHighWaterMark:R,getDefaultHighWaterMark:A}=n(29858),{aggregateTwoErrors:T,codes:{ERR_INVALID_ARG_TYPE:I,ERR_METHOD_NOT_IMPLEMENTED:C,ERR_OUT_OF_RANGE:k,ERR_STREAM_PUSH_AFTER_EOF:N,ERR_STREAM_UNSHIFT_AFTER_END_EVENT:D}}=n(98524),{validateObject:M}=n(12912),P=p("kPaused"),{StringDecoder:O}=n(15948),L=n(86812);c(W.prototype,g.prototype),c(W,g);const x=()=>{},{errorOrDestroy:U}=E;function j(e,t,r){"boolean"!==typeof r&&(r=t instanceof n(66027)),this.objectMode=!(!e||!e.objectMode),r&&(this.objectMode=this.objectMode||!(!e||!e.readableObjectMode)),this.highWaterMark=e?R(this,e,"readableHighWaterMark",r):A(!1),this.buffer=new S,this.length=0,this.pipes=[],this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.constructed=!0,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this[P]=null,this.errorEmitted=!1,this.emitClose=!e||!1!==e.emitClose,this.autoDestroy=!e||!1!==e.autoDestroy,this.destroyed=!1,this.errored=null,this.closed=!1,this.closeEmitted=!1,this.defaultEncoding=e&&e.defaultEncoding||"utf8",this.awaitDrainWriters=null,this.multiAwaitDrain=!1,this.readingMore=!1,this.dataEmitted=!1,this.decoder=null,this.encoding=null,e&&e.encoding&&(this.decoder=new O(e.encoding),this.encoding=e.encoding)}function W(e){if(!(this instanceof W))return new W(e);const t=this instanceof n(66027);this._readableState=new j(e,this,t),e&&("function"===typeof e.read&&(this._read=e.read),"function"===typeof e.destroy&&(this._destroy=e.destroy),"function"===typeof e.construct&&(this._construct=e.construct),e.signal&&!t&&w(e.signal,this)),g.call(this,e),E.construct(this,(()=>{this._readableState.needReadable&&Z(this,this._readableState)}))}function B(e,t,n,r){v("readableAddChunk",t);const i=e._readableState;let o;if(i.objectMode||("string"===typeof t?(n=n||i.defaultEncoding,i.encoding!==n&&(r&&i.encoding?t=m.from(t,n).toString(i.encoding):(t=m.from(t,n),n=""))):t instanceof m?n="":g._isUint8Array(t)?(t=g._uint8ArrayToBuffer(t),n=""):null!=t&&(o=new I("chunk",["string","Buffer","Uint8Array"],t))),o)U(e,o);else if(null===t)i.reading=!1,function(e,t){if(v("onEofChunk"),t.ended)return;if(t.decoder){const e=t.decoder.end();e&&e.length&&(t.buffer.push(e),t.length+=t.objectMode?1:e.length)}t.ended=!0,t.sync?H(e):(t.needReadable=!1,t.emittedReadable=!0,V(e))}(e,i);else if(i.objectMode||t&&t.length>0)if(r)if(i.endEmitted)U(e,new D);else{if(i.destroyed||i.errored)return!1;$(e,i,t,!0)}else if(i.ended)U(e,new N);else{if(i.destroyed||i.errored)return!1;i.reading=!1,i.decoder&&!n?(t=i.decoder.write(t),i.objectMode||0!==t.length?$(e,i,t,!1):Z(e,i)):$(e,i,t,!1)}else r||(i.reading=!1,Z(e,i));return!i.ended&&(i.length<i.highWaterMark||0===i.length)}function $(e,t,n,r){t.flowing&&0===t.length&&!t.sync&&e.listenerCount("data")>0?(t.multiAwaitDrain?t.awaitDrainWriters.clear():t.awaitDrainWriters=null,t.dataEmitted=!0,e.emit("data",n)):(t.length+=t.objectMode?1:n.length,r?t.buffer.unshift(n):t.buffer.push(n),t.needReadable&&H(e)),Z(e,t)}W.prototype.destroy=E.destroy,W.prototype._undestroy=E.undestroy,W.prototype._destroy=function(e,t){t(e)},W.prototype[b.captureRejectionSymbol]=function(e){this.destroy(e)},W.prototype.push=function(e,t){return B(this,e,t,!1)},W.prototype.unshift=function(e,t){return B(this,e,t,!0)},W.prototype.isPaused=function(){const e=this._readableState;return!0===e[P]||!1===e.flowing},W.prototype.setEncoding=function(e){const t=new O(e);this._readableState.decoder=t,this._readableState.encoding=this._readableState.decoder.encoding;const n=this._readableState.buffer;let r="";for(const i of n)r+=t.write(i);return n.clear(),""!==r&&n.push(r),this._readableState.length=r.length,this};function F(e,t){return e<=0||0===t.length&&t.ended?0:t.objectMode?1:a(e)?t.flowing&&t.length?t.buffer.first().length:t.length:e<=t.length?e:t.ended?t.length:0}function H(e){const t=e._readableState;v("emitReadable",t.needReadable,t.emittedReadable),t.needReadable=!1,t.emittedReadable||(v("emitReadable",t.flowing),t.emittedReadable=!0,r.nextTick(V,e))}function V(e){const t=e._readableState;v("emitReadable_",t.destroyed,t.length,t.ended),t.destroyed||t.errored||!t.length&&!t.ended||(e.emit("readable"),t.emittedReadable=!1),t.needReadable=!t.flowing&&!t.ended&&t.length<=t.highWaterMark,X(e)}function Z(e,t){!t.readingMore&&t.constructed&&(t.readingMore=!0,r.nextTick(G,e,t))}function G(e,t){for(;!t.reading&&!t.ended&&(t.length<t.highWaterMark||t.flowing&&0===t.length);){const n=t.length;if(v("maybeReadMore read 0"),e.read(0),n===t.length)break}t.readingMore=!1}function K(e){const t=e._readableState;t.readableListening=e.listenerCount("readable")>0,t.resumeScheduled&&!1===t[P]?t.flowing=!0:e.listenerCount("data")>0?e.resume():t.readableListening||(t.flowing=null)}function q(e){v("readable nexttick read 0"),e.read(0)}function Y(e,t){v("resume",t.reading),t.reading||e.read(0),t.resumeScheduled=!1,e.emit("resume"),X(e),t.flowing&&!t.reading&&e.read(0)}function X(e){const t=e._readableState;for(v("flow",t.flowing);t.flowing&&null!==e.read(););}function z(e,t){"function"!==typeof e.read&&(e=W.wrap(e,{objectMode:!0}));const n=async function*(e,t){let n,r=x;function i(t){this===e?(r(),r=x):r=t}e.on("readable",i);const o=_(e,{writable:!1},(e=>{n=e?T(n,e):null,r(),r=x}));try{for(;;){const t=e.destroyed?null:e.read();if(null!==t)yield t;else{if(n)throw n;if(null===n)return;await new u(i)}}}catch(a){throw n=T(n,a),n}finally{!n&&!1===(null===t||void 0===t?void 0:t.destroyOnReturn)||void 0!==n&&!e._readableState.autoDestroy?(e.off("readable",i),o()):E.destroyer(e,null)}}(e,t);return n.stream=e,n}function J(e,t){if(0===t.length)return null;let n;return t.objectMode?n=t.buffer.shift():!e||e>=t.length?(n=t.decoder?t.buffer.join(""):1===t.buffer.length?t.buffer.first():t.buffer.concat(t.length),t.buffer.clear()):n=t.buffer.consume(e,t.decoder),n}function Q(e){const t=e._readableState;v("endReadable",t.endEmitted),t.endEmitted||(t.ended=!0,r.nextTick(ee,t,e))}function ee(e,t){if(v("endReadableNT",e.endEmitted,e.length),!e.errored&&!e.closeEmitted&&!e.endEmitted&&0===e.length)if(e.endEmitted=!0,t.emit("end"),t.writable&&!1===t.allowHalfOpen)r.nextTick(te,t);else if(e.autoDestroy){const e=t._writableState;(!e||e.autoDestroy&&(e.finished||!1===e.writable))&&t.destroy()}}function te(e){e.writable&&!e.writableEnded&&!e.destroyed&&e.end()}let ne;function re(){return void 0===ne&&(ne={}),ne}W.prototype.read=function(e){v("read",e),void 0===e?e=NaN:o(e)||(e=s(e,10));const t=this._readableState,n=e;if(e>t.highWaterMark&&(t.highWaterMark=function(e){if(e>1073741824)throw new k("size","<= 1GiB",e);return e--,e|=e>>>1,e|=e>>>2,e|=e>>>4,e|=e>>>8,e|=e>>>16,++e}(e)),0!==e&&(t.emittedReadable=!1),0===e&&t.needReadable&&((0!==t.highWaterMark?t.length>=t.highWaterMark:t.length>0)||t.ended))return v("read: emitReadable",t.length,t.ended),0===t.length&&t.ended?Q(this):H(this),null;if(0===(e=F(e,t))&&t.ended)return 0===t.length&&Q(this),null;let r,i=t.needReadable;if(v("need readable",i),(0===t.length||t.length-e<t.highWaterMark)&&(i=!0,v("length less than watermark",i)),t.ended||t.reading||t.destroyed||t.errored||!t.constructed)i=!1,v("reading, ended or constructing",i);else if(i){v("do read"),t.reading=!0,t.sync=!0,0===t.length&&(t.needReadable=!0);try{this._read(t.highWaterMark)}catch(a){U(this,a)}t.sync=!1,t.reading||(e=F(n,t))}return r=e>0?J(e,t):null,null===r?(t.needReadable=t.length<=t.highWaterMark,e=0):(t.length-=e,t.multiAwaitDrain?t.awaitDrainWriters.clear():t.awaitDrainWriters=null),0===t.length&&(t.ended||(t.needReadable=!0),n!==e&&t.ended&&Q(this)),null===r||t.errorEmitted||t.closeEmitted||(t.dataEmitted=!0,this.emit("data",r)),r},W.prototype._read=function(e){throw new C("_read()")},W.prototype.pipe=function(e,t){const n=this,i=this._readableState;1===i.pipes.length&&(i.multiAwaitDrain||(i.multiAwaitDrain=!0,i.awaitDrainWriters=new h(i.awaitDrainWriters?[i.awaitDrainWriters]:[]))),i.pipes.push(e),v("pipe count=%d opts=%j",i.pipes.length,t);const o=(!t||!1!==t.end)&&e!==r.stdout&&e!==r.stderr?s:g;function a(t,r){v("onunpipe"),t===n&&r&&!1===r.hasUnpiped&&(r.hasUnpiped=!0,function(){v("cleanup"),e.removeListener("close",p),e.removeListener("finish",b),l&&e.removeListener("drain",l);e.removeListener("error",f),e.removeListener("unpipe",a),n.removeListener("end",s),n.removeListener("end",g),n.removeListener("data",u),d=!0,l&&i.awaitDrainWriters&&(!e._writableState||e._writableState.needDrain)&&l()}())}function s(){v("onend"),e.end()}let l;i.endEmitted?r.nextTick(o):n.once("end",o),e.on("unpipe",a);let d=!1;function c(){d||(1===i.pipes.length&&i.pipes[0]===e?(v("false write response, pause",0),i.awaitDrainWriters=e,i.multiAwaitDrain=!1):i.pipes.length>1&&i.pipes.includes(e)&&(v("false write response, pause",i.awaitDrainWriters.size),i.awaitDrainWriters.add(e)),n.pause()),l||(l=function(e,t){return function(){const n=e._readableState;n.awaitDrainWriters===t?(v("pipeOnDrain",1),n.awaitDrainWriters=null):n.multiAwaitDrain&&(v("pipeOnDrain",n.awaitDrainWriters.size),n.awaitDrainWriters.delete(t)),n.awaitDrainWriters&&0!==n.awaitDrainWriters.size||!e.listenerCount("data")||e.resume()}}(n,e),e.on("drain",l))}function u(t){v("ondata");const n=e.write(t);v("dest.write",n),!1===n&&c()}function f(t){if(v("onerror",t),g(),e.removeListener("error",f),0===e.listenerCount("error")){const n=e._writableState||e._readableState;n&&!n.errorEmitted?U(e,t):e.emit("error",t)}}function p(){e.removeListener("finish",b),g()}function b(){v("onfinish"),e.removeListener("close",p),g()}function g(){v("unpipe"),n.unpipe(e)}return n.on("data",u),y(e,"error",f),e.once("close",p),e.once("finish",b),e.emit("pipe",n),!0===e.writableNeedDrain?i.flowing&&c():i.flowing||(v("pipe resume"),n.resume()),e},W.prototype.unpipe=function(e){const t=this._readableState;if(0===t.pipes.length)return this;if(!e){const e=t.pipes;t.pipes=[],this.pause();for(let t=0;t<e.length;t++)e[t].emit("unpipe",this,{hasUnpiped:!1});return this}const n=i(t.pipes,e);return-1===n||(t.pipes.splice(n,1),0===t.pipes.length&&this.pause(),e.emit("unpipe",this,{hasUnpiped:!1})),this},W.prototype.on=function(e,t){const n=g.prototype.on.call(this,e,t),i=this._readableState;return"data"===e?(i.readableListening=this.listenerCount("readable")>0,!1!==i.flowing&&this.resume()):"readable"===e&&(i.endEmitted||i.readableListening||(i.readableListening=i.needReadable=!0,i.flowing=!1,i.emittedReadable=!1,v("on readable",i.length,i.reading),i.length?H(this):i.reading||r.nextTick(q,this))),n},W.prototype.addListener=W.prototype.on,W.prototype.removeListener=function(e,t){const n=g.prototype.removeListener.call(this,e,t);return"readable"===e&&r.nextTick(K,this),n},W.prototype.off=W.prototype.removeListener,W.prototype.removeAllListeners=function(e){const t=g.prototype.removeAllListeners.apply(this,arguments);return"readable"!==e&&void 0!==e||r.nextTick(K,this),t},W.prototype.resume=function(){const e=this._readableState;return e.flowing||(v("resume"),e.flowing=!e.readableListening,function(e,t){t.resumeScheduled||(t.resumeScheduled=!0,r.nextTick(Y,e,t))}(this,e)),e[P]=!1,this},W.prototype.pause=function(){return v("call pause flowing=%j",this._readableState.flowing),!1!==this._readableState.flowing&&(v("pause"),this._readableState.flowing=!1,this.emit("pause")),this._readableState[P]=!0,this},W.prototype.wrap=function(e){let t=!1;e.on("data",(n=>{!this.push(n)&&e.pause&&(t=!0,e.pause())})),e.on("end",(()=>{this.push(null)})),e.on("error",(e=>{U(this,e)})),e.on("close",(()=>{this.destroy()})),e.on("destroy",(()=>{this.destroy()})),this._read=()=>{t&&e.resume&&(t=!1,e.resume())};const n=d(e);for(let r=1;r<n.length;r++){const t=n[r];void 0===this[t]&&"function"===typeof e[t]&&(this[t]=e[t].bind(e))}return this},W.prototype[f]=function(){return z(this)},W.prototype.iterator=function(e){return void 0!==e&&M(e,"options"),z(this,e)},l(W.prototype,{readable:{__proto__:null,get(){const e=this._readableState;return!!e&&!1!==e.readable&&!e.destroyed&&!e.errorEmitted&&!e.endEmitted},set(e){this._readableState&&(this._readableState.readable=!!e)}},readableDidRead:{__proto__:null,enumerable:!1,get:function(){return this._readableState.dataEmitted}},readableAborted:{__proto__:null,enumerable:!1,get:function(){return!(!1===this._readableState.readable||!this._readableState.destroyed&&!this._readableState.errored||this._readableState.endEmitted)}},readableHighWaterMark:{__proto__:null,enumerable:!1,get:function(){return this._readableState.highWaterMark}},readableBuffer:{__proto__:null,enumerable:!1,get:function(){return this._readableState&&this._readableState.buffer}},readableFlowing:{__proto__:null,enumerable:!1,get:function(){return this._readableState.flowing},set:function(e){this._readableState&&(this._readableState.flowing=e)}},readableLength:{__proto__:null,enumerable:!1,get(){return this._readableState.length}},readableObjectMode:{__proto__:null,enumerable:!1,get(){return!!this._readableState&&this._readableState.objectMode}},readableEncoding:{__proto__:null,enumerable:!1,get(){return this._readableState?this._readableState.encoding:null}},errored:{__proto__:null,enumerable:!1,get(){return this._readableState?this._readableState.errored:null}},closed:{__proto__:null,get(){return!!this._readableState&&this._readableState.closed}},destroyed:{__proto__:null,enumerable:!1,get(){return!!this._readableState&&this._readableState.destroyed},set(e){this._readableState&&(this._readableState.destroyed=e)}},readableEnded:{__proto__:null,enumerable:!1,get(){return!!this._readableState&&this._readableState.endEmitted}}}),l(j.prototype,{pipesCount:{__proto__:null,get(){return this.pipes.length}},paused:{__proto__:null,get(){return!1!==this[P]},set(e){this[P]=!!e}}}),W._fromList=J,W.from=function(e,t){return L(W,e,t)},W.fromWeb=function(e,t){return re().newStreamReadableFromReadableStream(e,t)},W.toWeb=function(e,t){return re().newReadableStreamFromStreamReadable(e,t)},W.wrap=function(e,t){var n,r;return new W({objectMode:null===(n=null!==(r=e.readableObjectMode)&&void 0!==r?r:e.objectMode)||void 0===n||n,...t,destroy(t,n){E.destroyer(e,t),n(t)}}).wrap(e)}},29858:(e,t,n)=>{"use strict";const{MathFloor:r,NumberIsInteger:i}=n(7863),{ERR_INVALID_ARG_VALUE:o}=n(98524).codes;function a(e){return e?16:16384}e.exports={getHighWaterMark:function(e,t,n,s){const l=function(e,t,n){return null!=e.highWaterMark?e.highWaterMark:t?e[n]:null}(t,s,n);if(null!=l){if(!i(l)||l<0){throw new o(s?`options.${n}`:"options.highWaterMark",l)}return r(l)}return a(e.objectMode)},getDefaultHighWaterMark:a}},83114:(e,t,n)=>{"use strict";const{ObjectSetPrototypeOf:r,Symbol:i}=n(7863);e.exports=d;const{ERR_METHOD_NOT_IMPLEMENTED:o}=n(98524).codes,a=n(66027),{getHighWaterMark:s}=n(29858);r(d.prototype,a.prototype),r(d,a);const l=i("kCallback");function d(e){if(!(this instanceof d))return new d(e);const t=e?s(this,e,"readableHighWaterMark",!0):null;0===t&&(e={...e,highWaterMark:null,readableHighWaterMark:t,writableHighWaterMark:e.writableHighWaterMark||0}),a.call(this,e),this._readableState.sync=!1,this[l]=null,e&&("function"===typeof e.transform&&(this._transform=e.transform),"function"===typeof e.flush&&(this._flush=e.flush)),this.on("prefinish",u)}function c(e){"function"!==typeof this._flush||this.destroyed?(this.push(null),e&&e()):this._flush(((t,n)=>{t?e?e(t):this.destroy(t):(null!=n&&this.push(n),this.push(null),e&&e())}))}function u(){this._final!==c&&c.call(this)}d.prototype._final=c,d.prototype._transform=function(e,t,n){throw new o("_transform()")},d.prototype._write=function(e,t,n){const r=this._readableState,i=this._writableState,o=r.length;this._transform(e,t,((e,t)=>{e?n(e):(null!=t&&this.push(t),i.ended||o===r.length||r.length<r.highWaterMark?n():this[l]=n)}))},d.prototype._read=function(){if(this[l]){const e=this[l];this[l]=null,e()}}},23913:(e,t,n)=>{"use strict";const{Symbol:r,SymbolAsyncIterator:i,SymbolIterator:o,SymbolFor:a}=n(7863),s=r("kDestroyed"),l=r("kIsErrored"),d=r("kIsReadable"),c=r("kIsDisturbed"),u=a("nodejs.webstream.isClosedPromise"),h=a("nodejs.webstream.controllerErrorFunction");function f(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];var n;return!(!e||"function"!==typeof e.pipe||"function"!==typeof e.on||t&&("function"!==typeof e.pause||"function"!==typeof e.resume)||e._writableState&&!1===(null===(n=e._readableState)||void 0===n?void 0:n.readable)||e._writableState&&!e._readableState)}function p(e){var t;return!(!e||"function"!==typeof e.write||"function"!==typeof e.on||e._readableState&&!1===(null===(t=e._writableState)||void 0===t?void 0:t.writable))}function b(e){return e&&(e._readableState||e._writableState||"function"===typeof e.write&&"function"===typeof e.on||"function"===typeof e.pipe&&"function"===typeof e.on)}function g(e){return!(!e||b(e)||"function"!==typeof e.pipeThrough||"function"!==typeof e.getReader||"function"!==typeof e.cancel)}function y(e){return!(!e||b(e)||"function"!==typeof e.getWriter||"function"!==typeof e.abort)}function m(e){return!(!e||b(e)||"object"!==typeof e.readable||"object"!==typeof e.writable)}function w(e){if(!b(e))return null;const t=e._writableState,n=e._readableState,r=t||n;return!!(e.destroyed||e[s]||null!==r&&void 0!==r&&r.destroyed)}function _(e){if(!p(e))return null;if(!0===e.writableEnded)return!0;const t=e._writableState;return(null===t||void 0===t||!t.errored)&&("boolean"!==typeof(null===t||void 0===t?void 0:t.ended)?null:t.ended)}function v(e,t){if(!f(e))return null;const n=e._readableState;return(null===n||void 0===n||!n.errored)&&("boolean"!==typeof(null===n||void 0===n?void 0:n.endEmitted)?null:!!(n.endEmitted||!1===t&&!0===n.ended&&0===n.length))}function S(e){return e&&null!=e[d]?e[d]:"boolean"!==typeof(null===e||void 0===e?void 0:e.readable)?null:!w(e)&&(f(e)&&e.readable&&!v(e))}function E(e){return"boolean"!==typeof(null===e||void 0===e?void 0:e.writable)?null:!w(e)&&(p(e)&&e.writable&&!_(e))}function R(e){return"boolean"===typeof e._closed&&"boolean"===typeof e._defaultKeepAlive&&"boolean"===typeof e._removedConnection&&"boolean"===typeof e._removedContLen}function A(e){return"boolean"===typeof e._sent100&&R(e)}e.exports={kDestroyed:s,isDisturbed:function(e){var t;return!(!e||!(null!==(t=e[c])&&void 0!==t?t:e.readableDidRead||e.readableAborted))},kIsDisturbed:c,isErrored:function(e){var t,n,r,i,o,a,s,d,c,u;return!(!e||!(null!==(t=null!==(n=null!==(r=null!==(i=null!==(o=null!==(a=e[l])&&void 0!==a?a:e.readableErrored)&&void 0!==o?o:e.writableErrored)&&void 0!==i?i:null===(s=e._readableState)||void 0===s?void 0:s.errorEmitted)&&void 0!==r?r:null===(d=e._writableState)||void 0===d?void 0:d.errorEmitted)&&void 0!==n?n:null===(c=e._readableState)||void 0===c?void 0:c.errored)&&void 0!==t?t:null===(u=e._writableState)||void 0===u?void 0:u.errored))},kIsErrored:l,isReadable:S,kIsReadable:d,kIsClosedPromise:u,kControllerErrorFunction:h,isClosed:function(e){if(!b(e))return null;if("boolean"===typeof e.closed)return e.closed;const t=e._writableState,n=e._readableState;return"boolean"===typeof(null===t||void 0===t?void 0:t.closed)||"boolean"===typeof(null===n||void 0===n?void 0:n.closed)?(null===t||void 0===t?void 0:t.closed)||(null===n||void 0===n?void 0:n.closed):"boolean"===typeof e._closed&&R(e)?e._closed:null},isDestroyed:w,isDuplexNodeStream:function(e){return!(!e||"function"!==typeof e.pipe||!e._readableState||"function"!==typeof e.on||"function"!==typeof e.write)},isFinished:function(e,t){return b(e)?!!w(e)||(!1===(null===t||void 0===t?void 0:t.readable)||!S(e))&&(!1===(null===t||void 0===t?void 0:t.writable)||!E(e)):null},isIterable:function(e,t){return null!=e&&(!0===t?"function"===typeof e[i]:!1===t?"function"===typeof e[o]:"function"===typeof e[i]||"function"===typeof e[o])},isReadableNodeStream:f,isReadableStream:g,isReadableEnded:function(e){if(!f(e))return null;if(!0===e.readableEnded)return!0;const t=e._readableState;return!(!t||t.errored)&&("boolean"!==typeof(null===t||void 0===t?void 0:t.ended)?null:t.ended)},isReadableFinished:v,isReadableErrored:function(e){var t,n;return b(e)?e.readableErrored?e.readableErrored:null!==(t=null===(n=e._readableState)||void 0===n?void 0:n.errored)&&void 0!==t?t:null:null},isNodeStream:b,isWebStream:function(e){return g(e)||y(e)||m(e)},isWritable:E,isWritableNodeStream:p,isWritableStream:y,isWritableEnded:_,isWritableFinished:function(e,t){if(!p(e))return null;if(!0===e.writableFinished)return!0;const n=e._writableState;return(null===n||void 0===n||!n.errored)&&("boolean"!==typeof(null===n||void 0===n?void 0:n.finished)?null:!!(n.finished||!1===t&&!0===n.ended&&0===n.length))},isWritableErrored:function(e){var t,n;return b(e)?e.writableErrored?e.writableErrored:null!==(t=null===(n=e._writableState)||void 0===n?void 0:n.errored)&&void 0!==t?t:null:null},isServerRequest:function(e){var t;return"boolean"===typeof e._consuming&&"boolean"===typeof e._dumped&&void 0===(null===(t=e.req)||void 0===t?void 0:t.upgradeOrConnect)},isServerResponse:A,willEmitClose:function(e){if(!b(e))return null;const t=e._writableState,n=e._readableState,r=t||n;return!r&&A(e)||!!(r&&r.autoDestroy&&r.emitClose&&!1===r.closed)},isTransformStream:m}},91189:(e,t,n)=>{const r=n(1426),{ArrayPrototypeSlice:i,Error:o,FunctionPrototypeSymbolHasInstance:a,ObjectDefineProperty:s,ObjectDefineProperties:l,ObjectSetPrototypeOf:d,StringPrototypeToLowerCase:c,Symbol:u,SymbolHasInstance:h}=n(7863);e.exports=O,O.WritableState=M;const{EventEmitter:f}=n(47465),p=n(67238).Stream,{Buffer:b}=n(19778),g=n(37724),{addAbortSignal:y}=n(63342),{getHighWaterMark:m,getDefaultHighWaterMark:w}=n(29858),{ERR_INVALID_ARG_TYPE:_,ERR_METHOD_NOT_IMPLEMENTED:v,ERR_MULTIPLE_CALLBACK:S,ERR_STREAM_CANNOT_PIPE:E,ERR_STREAM_DESTROYED:R,ERR_STREAM_ALREADY_FINISHED:A,ERR_STREAM_NULL_VALUES:T,ERR_STREAM_WRITE_AFTER_END:I,ERR_UNKNOWN_ENCODING:C}=n(98524).codes,{errorOrDestroy:k}=g;function N(){}d(O.prototype,p.prototype),d(O,p);const D=u("kOnFinished");function M(e,t,r){"boolean"!==typeof r&&(r=t instanceof n(66027)),this.objectMode=!(!e||!e.objectMode),r&&(this.objectMode=this.objectMode||!(!e||!e.writableObjectMode)),this.highWaterMark=e?m(this,e,"writableHighWaterMark",r):w(!1),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;const i=!(!e||!1!==e.decodeStrings);this.decodeStrings=!i,this.defaultEncoding=e&&e.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=j.bind(void 0,t),this.writecb=null,this.writelen=0,this.afterWriteTickInfo=null,P(this),this.pendingcb=0,this.constructed=!0,this.prefinished=!1,this.errorEmitted=!1,this.emitClose=!e||!1!==e.emitClose,this.autoDestroy=!e||!1!==e.autoDestroy,this.errored=null,this.closed=!1,this.closeEmitted=!1,this[D]=[]}function P(e){e.buffered=[],e.bufferedIndex=0,e.allBuffers=!0,e.allNoop=!0}function O(e){const t=this instanceof n(66027);if(!t&&!a(O,this))return new O(e);this._writableState=new M(e,this,t),e&&("function"===typeof e.write&&(this._write=e.write),"function"===typeof e.writev&&(this._writev=e.writev),"function"===typeof e.destroy&&(this._destroy=e.destroy),"function"===typeof e.final&&(this._final=e.final),"function"===typeof e.construct&&(this._construct=e.construct),e.signal&&y(e.signal,this)),p.call(this,e),g.construct(this,(()=>{const e=this._writableState;e.writing||F(this,e),Z(this,e)}))}function L(e,t,n,i){const o=e._writableState;if("function"===typeof n)i=n,n=o.defaultEncoding;else{if(n){if("buffer"!==n&&!b.isEncoding(n))throw new C(n)}else n=o.defaultEncoding;"function"!==typeof i&&(i=N)}if(null===t)throw new T;if(!o.objectMode)if("string"===typeof t)!1!==o.decodeStrings&&(t=b.from(t,n),n="buffer");else if(t instanceof b)n="buffer";else{if(!p._isUint8Array(t))throw new _("chunk",["string","Buffer","Uint8Array"],t);t=p._uint8ArrayToBuffer(t),n="buffer"}let a;return o.ending?a=new I:o.destroyed&&(a=new R("write")),a?(r.nextTick(i,a),k(e,a,!0),a):(o.pendingcb++,function(e,t,n,r,i){const o=t.objectMode?1:n.length;t.length+=o;const a=t.length<t.highWaterMark;a||(t.needDrain=!0);t.writing||t.corked||t.errored||!t.constructed?(t.buffered.push({chunk:n,encoding:r,callback:i}),t.allBuffers&&"buffer"!==r&&(t.allBuffers=!1),t.allNoop&&i!==N&&(t.allNoop=!1)):(t.writelen=o,t.writecb=i,t.writing=!0,t.sync=!0,e._write(n,r,t.onwrite),t.sync=!1);return a&&!t.errored&&!t.destroyed}(e,o,t,n,i))}function x(e,t,n,r,i,o,a){t.writelen=r,t.writecb=a,t.writing=!0,t.sync=!0,t.destroyed?t.onwrite(new R("write")):n?e._writev(i,t.onwrite):e._write(i,o,t.onwrite),t.sync=!1}function U(e,t,n,r){--t.pendingcb,r(n),$(t),k(e,n)}function j(e,t){const n=e._writableState,i=n.sync,o=n.writecb;"function"===typeof o?(n.writing=!1,n.writecb=null,n.length-=n.writelen,n.writelen=0,t?(t.stack,n.errored||(n.errored=t),e._readableState&&!e._readableState.errored&&(e._readableState.errored=t),i?r.nextTick(U,e,n,t,o):U(e,n,t,o)):(n.buffered.length>n.bufferedIndex&&F(e,n),i?null!==n.afterWriteTickInfo&&n.afterWriteTickInfo.cb===o?n.afterWriteTickInfo.count++:(n.afterWriteTickInfo={count:1,cb:o,stream:e,state:n},r.nextTick(W,n.afterWriteTickInfo)):B(e,n,1,o))):k(e,new S)}function W(e){let{stream:t,state:n,count:r,cb:i}=e;return n.afterWriteTickInfo=null,B(t,n,r,i)}function B(e,t,n,r){for(!t.ending&&!e.destroyed&&0===t.length&&t.needDrain&&(t.needDrain=!1,e.emit("drain"));n-- >0;)t.pendingcb--,r();t.destroyed&&$(t),Z(e,t)}function $(e){if(e.writing)return;for(let i=e.bufferedIndex;i<e.buffered.length;++i){var t;const{chunk:n,callback:r}=e.buffered[i],o=e.objectMode?1:n.length;e.length-=o,r(null!==(t=e.errored)&&void 0!==t?t:new R("write"))}const n=e[D].splice(0);for(let i=0;i<n.length;i++){var r;n[i](null!==(r=e.errored)&&void 0!==r?r:new R("end"))}P(e)}function F(e,t){if(t.corked||t.bufferProcessing||t.destroyed||!t.constructed)return;const{buffered:n,bufferedIndex:r,objectMode:o}=t,a=n.length-r;if(!a)return;let s=r;if(t.bufferProcessing=!0,a>1&&e._writev){t.pendingcb-=a-1;const r=t.allNoop?N:e=>{for(let t=s;t<n.length;++t)n[t].callback(e)},o=t.allNoop&&0===s?n:i(n,s);o.allBuffers=t.allBuffers,x(e,t,!0,t.length,o,"",r),P(t)}else{do{const{chunk:r,encoding:i,callback:a}=n[s];n[s++]=null;x(e,t,!1,o?1:r.length,r,i,a)}while(s<n.length&&!t.writing);s===n.length?P(t):s>256?(n.splice(0,s),t.bufferedIndex=0):t.bufferedIndex=s}t.bufferProcessing=!1}function H(e){return e.ending&&!e.destroyed&&e.constructed&&0===e.length&&!e.errored&&0===e.buffered.length&&!e.finished&&!e.writing&&!e.errorEmitted&&!e.closeEmitted}function V(e,t){t.prefinished||t.finalCalled||("function"!==typeof e._final||t.destroyed?(t.prefinished=!0,e.emit("prefinish")):(t.finalCalled=!0,function(e,t){let n=!1;function i(i){if(n)k(e,null!==i&&void 0!==i?i:S());else if(n=!0,t.pendingcb--,i){const n=t[D].splice(0);for(let e=0;e<n.length;e++)n[e](i);k(e,i,t.sync)}else H(t)&&(t.prefinished=!0,e.emit("prefinish"),t.pendingcb++,r.nextTick(G,e,t))}t.sync=!0,t.pendingcb++;try{e._final(i)}catch(o){i(o)}t.sync=!1}(e,t)))}function Z(e,t,n){H(t)&&(V(e,t),0===t.pendingcb&&(n?(t.pendingcb++,r.nextTick(((e,t)=>{H(t)?G(e,t):t.pendingcb--}),e,t)):H(t)&&(t.pendingcb++,G(e,t))))}function G(e,t){t.pendingcb--,t.finished=!0;const n=t[D].splice(0);for(let r=0;r<n.length;r++)n[r]();if(e.emit("finish"),t.autoDestroy){const t=e._readableState;(!t||t.autoDestroy&&(t.endEmitted||!1===t.readable))&&e.destroy()}}M.prototype.getBuffer=function(){return i(this.buffered,this.bufferedIndex)},s(M.prototype,"bufferedRequestCount",{__proto__:null,get(){return this.buffered.length-this.bufferedIndex}}),s(O,h,{__proto__:null,value:function(e){return!!a(this,e)||this===O&&(e&&e._writableState instanceof M)}}),O.prototype.pipe=function(){k(this,new E)},O.prototype.write=function(e,t,n){return!0===L(this,e,t,n)},O.prototype.cork=function(){this._writableState.corked++},O.prototype.uncork=function(){const e=this._writableState;e.corked&&(e.corked--,e.writing||F(this,e))},O.prototype.setDefaultEncoding=function(e){if("string"===typeof e&&(e=c(e)),!b.isEncoding(e))throw new C(e);return this._writableState.defaultEncoding=e,this},O.prototype._write=function(e,t,n){if(!this._writev)throw new v("_write()");this._writev([{chunk:e,encoding:t}],n)},O.prototype._writev=null,O.prototype.end=function(e,t,n){const i=this._writableState;let a;if("function"===typeof e?(n=e,e=null,t=null):"function"===typeof t&&(n=t,t=null),null!==e&&void 0!==e){const n=L(this,e,t);n instanceof o&&(a=n)}return i.corked&&(i.corked=1,this.uncork()),a||(i.errored||i.ending?i.finished?a=new A("end"):i.destroyed&&(a=new R("end")):(i.ending=!0,Z(this,i,!0),i.ended=!0)),"function"===typeof n&&(a||i.finished?r.nextTick(n,a):i[D].push(n)),this},l(O.prototype,{closed:{__proto__:null,get(){return!!this._writableState&&this._writableState.closed}},destroyed:{__proto__:null,get(){return!!this._writableState&&this._writableState.destroyed},set(e){this._writableState&&(this._writableState.destroyed=e)}},writable:{__proto__:null,get(){const e=this._writableState;return!!e&&!1!==e.writable&&!e.destroyed&&!e.errored&&!e.ending&&!e.ended},set(e){this._writableState&&(this._writableState.writable=!!e)}},writableFinished:{__proto__:null,get(){return!!this._writableState&&this._writableState.finished}},writableObjectMode:{__proto__:null,get(){return!!this._writableState&&this._writableState.objectMode}},writableBuffer:{__proto__:null,get(){return this._writableState&&this._writableState.getBuffer()}},writableEnded:{__proto__:null,get(){return!!this._writableState&&this._writableState.ending}},writableNeedDrain:{__proto__:null,get(){const e=this._writableState;return!!e&&(!e.destroyed&&!e.ending&&e.needDrain)}},writableHighWaterMark:{__proto__:null,get(){return this._writableState&&this._writableState.highWaterMark}},writableCorked:{__proto__:null,get(){return this._writableState?this._writableState.corked:0}},writableLength:{__proto__:null,get(){return this._writableState&&this._writableState.length}},errored:{__proto__:null,enumerable:!1,get(){return this._writableState?this._writableState.errored:null}},writableAborted:{__proto__:null,enumerable:!1,get:function(){return!(!1===this._writableState.writable||!this._writableState.destroyed&&!this._writableState.errored||this._writableState.finished)}}});const K=g.destroy;let q;function Y(){return void 0===q&&(q={}),q}O.prototype.destroy=function(e,t){const n=this._writableState;return!n.destroyed&&(n.bufferedIndex<n.buffered.length||n[D].length)&&r.nextTick($,n),K.call(this,e,t),this},O.prototype._undestroy=g.undestroy,O.prototype._destroy=function(e,t){t(e)},O.prototype[f.captureRejectionSymbol]=function(e){this.destroy(e)},O.fromWeb=function(e,t){return Y().newStreamWritableFromWritableStream(e,t)},O.toWeb=function(e){return Y().newWritableStreamFromStreamWritable(e)}},12912:(e,t,n)=>{"use strict";const{ArrayIsArray:r,ArrayPrototypeIncludes:i,ArrayPrototypeJoin:o,ArrayPrototypeMap:a,NumberIsInteger:s,NumberIsNaN:l,NumberMAX_SAFE_INTEGER:d,NumberMIN_SAFE_INTEGER:c,NumberParseInt:u,ObjectPrototypeHasOwnProperty:h,RegExpPrototypeExec:f,String:p,StringPrototypeToUpperCase:b,StringPrototypeTrim:g}=n(7863),{hideStackFrames:y,codes:{ERR_SOCKET_BAD_PORT:m,ERR_INVALID_ARG_TYPE:w,ERR_INVALID_ARG_VALUE:_,ERR_OUT_OF_RANGE:v,ERR_UNKNOWN_SIGNAL:S}}=n(98524),{normalizeEncoding:E}=n(27344),{isAsyncFunction:R,isArrayBufferView:A}=n(27344).types,T={};const I=/^[0-7]+$/;const C=y((function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:c,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:d;if("number"!==typeof e)throw new w(t,"number",e);if(!s(e))throw new v(t,"an integer",e);if(e<n||e>r)throw new v(t,`>= ${n} && <= ${r}`,e)})),k=y((function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:-2147483648,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:2147483647;if("number"!==typeof e)throw new w(t,"number",e);if(!s(e))throw new v(t,"an integer",e);if(e<n||e>r)throw new v(t,`>= ${n} && <= ${r}`,e)})),N=y((function(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if("number"!==typeof e)throw new w(t,"number",e);if(!s(e))throw new v(t,"an integer",e);const r=n?1:0,i=4294967295;if(e<r||e>i)throw new v(t,`>= ${r} && <= ${i}`,e)}));function D(e,t){if("string"!==typeof e)throw new w(t,"string",e)}const M=y(((e,t,n)=>{if(!i(n,e)){const r=o(a(n,(e=>"string"===typeof e?`'${e}'`:p(e))),", ");throw new _(t,e,"must be one of: "+r)}}));function P(e,t){if("boolean"!==typeof e)throw new w(t,"boolean",e)}function O(e,t,n){return null!=e&&h(e,t)?e[t]:n}const L=y((function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;const i=O(n,"allowArray",!1),o=O(n,"allowFunction",!1);if(!O(n,"nullable",!1)&&null===e||!i&&r(e)||"object"!==typeof e&&(!o||"function"!==typeof e))throw new w(t,"Object",e)})),x=y(((e,t)=>{if(null!=e&&"object"!==typeof e&&"function"!==typeof e)throw new w(t,"a dictionary",e)})),U=y((function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;if(!r(e))throw new w(t,"Array",e);if(e.length<n){throw new _(t,e,`must be longer than ${n}`)}}));const j=y((function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"buffer";if(!A(e))throw new w(t,["Buffer","TypedArray","DataView"],e)}));const W=y(((e,t)=>{if(void 0!==e&&(null===e||"object"!==typeof e||!("aborted"in e)))throw new w(t,"AbortSignal",e)})),B=y(((e,t)=>{if("function"!==typeof e)throw new w(t,"Function",e)})),$=y(((e,t)=>{if("function"!==typeof e||R(e))throw new w(t,"Function",e)})),F=y(((e,t)=>{if(void 0!==e)throw new w(t,"undefined",e)}));const H=/^(?:<[^>]*>)(?:\s*;\s*[^;"\s]+(?:=(")?[^;"\s]*\1)?)*$/;function V(e,t){if("undefined"===typeof e||!f(H,e))throw new _(t,e,'must be an array or string of format "</styles.css>; rel=preload; as=style"')}e.exports={isInt32:function(e){return e===(0|e)},isUint32:function(e){return e===e>>>0},parseFileMode:function(e,t,n){if("undefined"===typeof e&&(e=n),"string"===typeof e){if(null===f(I,e))throw new _(t,e,"must be a 32-bit unsigned integer or an octal string");e=u(e,8)}return N(e,t),e},validateArray:U,validateStringArray:function(e,t){U(e,t);for(let n=0;n<e.length;n++)D(e[n],`${t}[${n}]`)},validateBooleanArray:function(e,t){U(e,t);for(let n=0;n<e.length;n++)P(e[n],`${t}[${n}]`)},validateBoolean:P,validateBuffer:j,validateDictionary:x,validateEncoding:function(e,t){const n=E(t),r=e.length;if("hex"===n&&r%2!==0)throw new _("encoding",t,`is invalid for data of length ${r}`)},validateFunction:B,validateInt32:k,validateInteger:C,validateNumber:function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0,r=arguments.length>3?arguments[3]:void 0;if("number"!==typeof e)throw new w(t,"number",e);if(null!=n&&e<n||null!=r&&e>r||(null!=n||null!=r)&&l(e))throw new v(t,`${null!=n?`>= ${n}`:""}${null!=n&&null!=r?" && ":""}${null!=r?`<= ${r}`:""}`,e)},validateObject:L,validateOneOf:M,validatePlainFunction:$,validatePort:function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"Port",n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];if("number"!==typeof e&&"string"!==typeof e||"string"===typeof e&&0===g(e).length||+e!==+e>>>0||e>65535||0===e&&!n)throw new m(t,e,n);return 0|e},validateSignalName:function(e){if(D(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:"signal"),void 0===T[e]){if(void 0!==T[b(e)])throw new S(e+" (signals must use all capital letters)");throw new S(e)}},validateString:D,validateUint32:N,validateUndefined:F,validateUnion:function(e,t,n){if(!i(n,e))throw new w(t,`('${o(n,"|")}')`,e)},validateAbortSignal:W,validateLinkHeaderValue:function(e){if("string"===typeof e)return V(e,"hints"),e;if(r(e)){const t=e.length;let n="";if(0===t)return n;for(let r=0;r<t;r++){const i=e[r];V(i,"hints"),n+=i,r!==t-1&&(n+=", ")}return n}throw new _("hints",e,'must be an array or string of format "</styles.css>; rel=preload; as=style"')}}},47314:(e,t,n)=>{"use strict";const r=n(9341),i=n(19522),o=r.Readable.destroy;e.exports=r.Readable,e.exports._uint8ArrayToBuffer=r._uint8ArrayToBuffer,e.exports._isUint8Array=r._isUint8Array,e.exports.isDisturbed=r.isDisturbed,e.exports.isErrored=r.isErrored,e.exports.isReadable=r.isReadable,e.exports.Readable=r.Readable,e.exports.Writable=r.Writable,e.exports.Duplex=r.Duplex,e.exports.Transform=r.Transform,e.exports.PassThrough=r.PassThrough,e.exports.addAbortSignal=r.addAbortSignal,e.exports.finished=r.finished,e.exports.destroy=r.destroy,e.exports.destroy=o,e.exports.pipeline=r.pipeline,e.exports.compose=r.compose,Object.defineProperty(r,"promises",{configurable:!0,enumerable:!0,get:()=>i}),e.exports.Stream=r.Stream,e.exports.default=e.exports},98524:(e,t,n)=>{"use strict";const{format:r,inspect:i,AggregateError:o}=n(27344),a=globalThis.AggregateError||o,s=Symbol("kIsNodeError"),l=["string","function","number","object","Function","Object","boolean","bigint","symbol"],d=/^([A-Z][a-z0-9]*)+$/,c={};function u(e,t){if(!e)throw new c.ERR_INTERNAL_ASSERTION(t)}function h(e){let t="",n=e.length;const r="-"===e[0]?1:0;for(;n>=r+4;n-=3)t=`_${e.slice(n-3,n)}${t}`;return`${e.slice(0,n)}${t}`}function f(e,t,n){n||(n=Error);class i extends n{constructor(){for(var n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];super(function(e,t,n){if("function"===typeof t)return u(t.length<=n.length,`Code: ${e}; The provided arguments length (${n.length}) does not match the required ones (${t.length}).`),t(...n);const i=(t.match(/%[dfijoOs]/g)||[]).length;return u(i===n.length,`Code: ${e}; The provided arguments length (${n.length}) does not match the required ones (${i}).`),0===n.length?t:r(t,...n)}(e,t,i))}toString(){return`${this.name} [${e}]: ${this.message}`}}Object.defineProperties(i.prototype,{name:{value:n.name,writable:!0,enumerable:!1,configurable:!0},toString:{value(){return`${this.name} [${e}]: ${this.message}`},writable:!0,enumerable:!1,configurable:!0}}),i.prototype.code=e,i.prototype[s]=!0,c[e]=i}function p(e){const t="__node_internal_"+e.name;return Object.defineProperty(e,"name",{value:t}),e}class b extends Error{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"The operation was aborted",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0;if(void 0!==t&&"object"!==typeof t)throw new c.ERR_INVALID_ARG_TYPE("options","Object",t);super(e,t),this.code="ABORT_ERR",this.name="AbortError"}}f("ERR_ASSERTION","%s",Error),f("ERR_INVALID_ARG_TYPE",((e,t,n)=>{u("string"===typeof e,"'name' must be a string"),Array.isArray(t)||(t=[t]);let r="The ";e.endsWith(" argument")?r+=`${e} `:r+=`"${e}" ${e.includes(".")?"property":"argument"} `,r+="must be ";const o=[],a=[],s=[];for(const i of t)u("string"===typeof i,"All expected entries have to be of type string"),l.includes(i)?o.push(i.toLowerCase()):d.test(i)?a.push(i):(u("object"!==i,'The value "object" should be written as "Object"'),s.push(i));if(a.length>0){const e=o.indexOf("object");-1!==e&&(o.splice(o,e,1),a.push("Object"))}if(o.length>0){switch(o.length){case 1:r+=`of type ${o[0]}`;break;case 2:r+=`one of type ${o[0]} or ${o[1]}`;break;default:{const e=o.pop();r+=`one of type ${o.join(", ")}, or ${e}`}}(a.length>0||s.length>0)&&(r+=" or ")}if(a.length>0){switch(a.length){case 1:r+=`an instance of ${a[0]}`;break;case 2:r+=`an instance of ${a[0]} or ${a[1]}`;break;default:{const e=a.pop();r+=`an instance of ${a.join(", ")}, or ${e}`}}s.length>0&&(r+=" or ")}switch(s.length){case 0:break;case 1:s[0].toLowerCase()!==s[0]&&(r+="an "),r+=`${s[0]}`;break;case 2:r+=`one of ${s[0]} or ${s[1]}`;break;default:{const e=s.pop();r+=`one of ${s.join(", ")}, or ${e}`}}if(null==n)r+=`. Received ${n}`;else if("function"===typeof n&&n.name)r+=`. Received function ${n.name}`;else if("object"===typeof n){var c;if(null!==(c=n.constructor)&&void 0!==c&&c.name)r+=`. Received an instance of ${n.constructor.name}`;else{r+=`. Received ${i(n,{depth:-1})}`}}else{let e=i(n,{colors:!1});e.length>25&&(e=`${e.slice(0,25)}...`),r+=`. Received type ${typeof n} (${e})`}return r}),TypeError),f("ERR_INVALID_ARG_VALUE",(function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"is invalid",r=i(t);r.length>128&&(r=r.slice(0,128)+"...");return`The ${e.includes(".")?"property":"argument"} '${e}' ${n}. Received ${r}`}),TypeError),f("ERR_INVALID_RETURN_VALUE",((e,t,n)=>{var r;return`Expected ${e} to be returned from the "${t}" function but got ${null!==n&&void 0!==n&&null!==(r=n.constructor)&&void 0!==r&&r.name?`instance of ${n.constructor.name}`:"type "+typeof n}.`}),TypeError),f("ERR_MISSING_ARGS",(function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];let r;u(t.length>0,"At least one arg needs to be specified");const i=t.length;switch(t=(Array.isArray(t)?t:[t]).map((e=>`"${e}"`)).join(" or "),i){case 1:r+=`The ${t[0]} argument`;break;case 2:r+=`The ${t[0]} and ${t[1]} arguments`;break;default:{const e=t.pop();r+=`The ${t.join(", ")}, and ${e} arguments`}}return`${r} must be specified`}),TypeError),f("ERR_OUT_OF_RANGE",((e,t,n)=>{let r;return u(t,'Missing "range" argument'),Number.isInteger(n)&&Math.abs(n)>2**32?r=h(String(n)):"bigint"===typeof n?(r=String(n),(n>2n**32n||n<-(2n**32n))&&(r=h(r)),r+="n"):r=i(n),`The value of "${e}" is out of range. It must be ${t}. Received ${r}`}),RangeError),f("ERR_MULTIPLE_CALLBACK","Callback called multiple times",Error),f("ERR_METHOD_NOT_IMPLEMENTED","The %s method is not implemented",Error),f("ERR_STREAM_ALREADY_FINISHED","Cannot call %s after a stream was finished",Error),f("ERR_STREAM_CANNOT_PIPE","Cannot pipe, not readable",Error),f("ERR_STREAM_DESTROYED","Cannot call %s after a stream was destroyed",Error),f("ERR_STREAM_NULL_VALUES","May not write null values to stream",TypeError),f("ERR_STREAM_PREMATURE_CLOSE","Premature close",Error),f("ERR_STREAM_PUSH_AFTER_EOF","stream.push() after EOF",Error),f("ERR_STREAM_UNSHIFT_AFTER_END_EVENT","stream.unshift() after end event",Error),f("ERR_STREAM_WRITE_AFTER_END","write after end",Error),f("ERR_UNKNOWN_ENCODING","Unknown encoding: %s",TypeError),e.exports={AbortError:b,aggregateTwoErrors:p((function(e,t){if(e&&t&&e!==t){if(Array.isArray(t.errors))return t.errors.push(e),t;const n=new a([t,e],t.message);return n.code=t.code,n}return e||t})),hideStackFrames:p,codes:c}},7863:e=>{"use strict";e.exports={ArrayIsArray:e=>Array.isArray(e),ArrayPrototypeIncludes:(e,t)=>e.includes(t),ArrayPrototypeIndexOf:(e,t)=>e.indexOf(t),ArrayPrototypeJoin:(e,t)=>e.join(t),ArrayPrototypeMap:(e,t)=>e.map(t),ArrayPrototypePop:(e,t)=>e.pop(t),ArrayPrototypePush:(e,t)=>e.push(t),ArrayPrototypeSlice:(e,t,n)=>e.slice(t,n),Error:Error,FunctionPrototypeCall(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];return e.call(t,...r)},FunctionPrototypeSymbolHasInstance:(e,t)=>Function.prototype[Symbol.hasInstance].call(e,t),MathFloor:Math.floor,Number:Number,NumberIsInteger:Number.isInteger,NumberIsNaN:Number.isNaN,NumberMAX_SAFE_INTEGER:Number.MAX_SAFE_INTEGER,NumberMIN_SAFE_INTEGER:Number.MIN_SAFE_INTEGER,NumberParseInt:Number.parseInt,ObjectDefineProperties:(e,t)=>Object.defineProperties(e,t),ObjectDefineProperty:(e,t,n)=>Object.defineProperty(e,t,n),ObjectGetOwnPropertyDescriptor:(e,t)=>Object.getOwnPropertyDescriptor(e,t),ObjectKeys:e=>Object.keys(e),ObjectSetPrototypeOf:(e,t)=>Object.setPrototypeOf(e,t),Promise:Promise,PromisePrototypeCatch:(e,t)=>e.catch(t),PromisePrototypeThen:(e,t,n)=>e.then(t,n),PromiseReject:e=>Promise.reject(e),ReflectApply:Reflect.apply,RegExpPrototypeTest:(e,t)=>e.test(t),SafeSet:Set,String:String,StringPrototypeSlice:(e,t,n)=>e.slice(t,n),StringPrototypeToLowerCase:e=>e.toLowerCase(),StringPrototypeToUpperCase:e=>e.toUpperCase(),StringPrototypeTrim:e=>e.trim(),Symbol:Symbol,SymbolFor:Symbol.for,SymbolAsyncIterator:Symbol.asyncIterator,SymbolHasInstance:Symbol.hasInstance,SymbolIterator:Symbol.iterator,TypedArrayPrototypeSet:(e,t,n)=>e.set(t,n),Uint8Array:Uint8Array}},27344:(e,t,n)=>{"use strict";const r=n(19778),i=Object.getPrototypeOf((async function(){})).constructor,o=globalThis.Blob||r.Blob,a="undefined"!==typeof o?function(e){return e instanceof o}:function(e){return!1};class s extends Error{constructor(e){if(!Array.isArray(e))throw new TypeError("Expected input to be an Array, got "+typeof e);let t="";for(let n=0;n<e.length;n++)t+=`    ${e[n].stack}\n`;super(t),this.name="AggregateError",this.errors=e}}e.exports={AggregateError:s,kEmptyObject:Object.freeze({}),once(e){let t=!1;return function(){if(!t){t=!0;for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];e.apply(this,r)}}},createDeferredPromise:function(){let e,t;return{promise:new Promise(((n,r)=>{e=n,t=r})),resolve:e,reject:t}},promisify:e=>new Promise(((t,n)=>{e((function(e){if(e)return n(e);for(var r=arguments.length,i=new Array(r>1?r-1:0),o=1;o<r;o++)i[o-1]=arguments[o];return t(...i)}))})),debuglog:()=>function(){},format(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return e.replace(/%([sdifj])/g,(function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];let[i,o]=t;const a=n.shift();if("f"===o)return a.toFixed(6);if("j"===o)return JSON.stringify(a);if("s"===o&&"object"===typeof a){return`${a.constructor!==Object?a.constructor.name:""} {}`.trim()}return a.toString()}))},inspect(e){switch(typeof e){case"string":if(e.includes("'")){if(!e.includes('"'))return`"${e}"`;if(!e.includes("`")&&!e.includes("${"))return`\`${e}\``}return`'${e}'`;case"number":return isNaN(e)?"NaN":Object.is(e,-0)?String(e):e;case"bigint":return`${String(e)}n`;case"boolean":case"undefined":return String(e);case"object":return"{}"}},types:{isAsyncFunction:e=>e instanceof i,isArrayBufferView:e=>ArrayBuffer.isView(e)},isBlob:a},e.exports.promisify.custom=Symbol.for("nodejs.util.promisify.custom")},9341:(e,t,n)=>{const{Buffer:r}=n(19778),{ObjectDefineProperty:i,ObjectKeys:o,ReflectApply:a}=n(7863),{promisify:{custom:s}}=n(27344),{streamReturningOperators:l,promiseReturningOperators:d}=n(12022),{codes:{ERR_ILLEGAL_CONSTRUCTOR:c}}=n(98524),u=n(82849),{pipeline:h}=n(59005),{destroyer:f}=n(37724),p=n(96016),b=n(19522),g=n(23913),y=e.exports=n(67238).Stream;y.isDisturbed=g.isDisturbed,y.isErrored=g.isErrored,y.isReadable=g.isReadable,y.Readable=n(87515);for(const _ of o(l)){const v=l[_];function m(){if(new.target)throw c();for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return y.Readable.from(a(v,this,t))}i(m,"name",{__proto__:null,value:v.name}),i(m,"length",{__proto__:null,value:v.length}),i(y.Readable.prototype,_,{__proto__:null,value:m,enumerable:!1,configurable:!0,writable:!0})}for(const S of o(d)){const E=d[S];function m(){if(new.target)throw c();for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return a(E,this,t)}i(m,"name",{__proto__:null,value:E.name}),i(m,"length",{__proto__:null,value:E.length}),i(y.Readable.prototype,S,{__proto__:null,value:m,enumerable:!1,configurable:!0,writable:!0})}y.Writable=n(91189),y.Duplex=n(66027),y.Transform=n(83114),y.PassThrough=n(43669),y.pipeline=h;const{addAbortSignal:w}=n(63342);y.addAbortSignal=w,y.finished=p,y.destroy=f,y.compose=u,i(y,"promises",{__proto__:null,configurable:!0,enumerable:!0,get:()=>b}),i(h,s,{__proto__:null,enumerable:!0,get:()=>b.pipeline}),i(p,s,{__proto__:null,enumerable:!0,get:()=>b.finished}),y.Stream=y,y._isUint8Array=function(e){return e instanceof Uint8Array},y._uint8ArrayToBuffer=function(e){return r.from(e.buffer,e.byteOffset,e.byteLength)}},19522:(e,t,n)=>{"use strict";const{ArrayPrototypePop:r,Promise:i}=n(7863),{isIterable:o,isNodeStream:a,isWebStream:s}=n(23913),{pipelineImpl:l}=n(59005),{finished:d}=n(96016);n(9341),e.exports={finished:d,pipeline:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new i(((e,n)=>{let i,d;const c=t[t.length-1];if(c&&"object"===typeof c&&!a(c)&&!o(c)&&!s(c)){const e=r(t);i=e.signal,d=e.end}l(t,((t,r)=>{t?n(t):e(r)}),{signal:i,end:d})}))}}},78262:e=>{"use strict";e.exports=function e(t,n){if(t===n)return!0;if(t&&n&&"object"==typeof t&&"object"==typeof n){if(t.constructor!==n.constructor)return!1;var r,i,o;if(Array.isArray(t)){if((r=t.length)!=n.length)return!1;for(i=r;0!==i--;)if(!e(t[i],n[i]))return!1;return!0}if(t.constructor===RegExp)return t.source===n.source&&t.flags===n.flags;if(t.valueOf!==Object.prototype.valueOf)return t.valueOf()===n.valueOf();if(t.toString!==Object.prototype.toString)return t.toString()===n.toString();if((r=(o=Object.keys(t)).length)!==Object.keys(n).length)return!1;for(i=r;0!==i--;)if(!Object.prototype.hasOwnProperty.call(n,o[i]))return!1;for(i=r;0!==i--;){var a=o[i];if(!e(t[a],n[a]))return!1}return!0}return t!==t&&n!==n}}}]);
//# sourceMappingURL=133.27343ea8.chunk.js.map